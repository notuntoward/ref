{"path":"lit/lit_sources/Basciftci21DistributionallyRobustFacility.pdf","text":"arXiv:1912.05577v2 [math.OC] 7 Jan 2020 Distributionally Robust Facility Location Problem under Decision-dependent Stochastic Demand Beste Basciftci∗ Shabbir Ahmed † Siqian Shen ‡ Abstract Facility location decisions signiﬁcantly impact customer behavior and consequently the resulting demand in a wide range of businesses. Furthermore, sequentially realized uncertain demand enforces strategically determining locations under partial information. To address these issues, we study a facility location problem where the distribution of customer de- mand is dependent on location decisions. We represent moment information of stochastic demand as a piecewise linear function of facility-location decisions. Then, we propose a decision-dependent distributionally robust optimization model, and develop its exact mixed- integer linear programming reformulation. We further derive valid inequalities to strengthen the formulation. We conduct an extensive computational study, in which we compare our model with the existing (decision-independent) stochastic and robust models. Our results demonstrate superior performance of the proposed approach with remarkable improvement in proﬁt and quality of service by extensively testing problem characteristics, in addition to computational speed-ups due to the formulation enhancements. These results draw attention to the need of considering the impact of location decisions on customer demand within this strategic-level planning problem. Keywords: Facilities planning and design; Distributionally robust optimization; Decision- dependent uncertainty; Integer programming 1 Introduction Determining facility locations has been a fundamental problem in managerial-level decision making for modern transportation and logistics systems. In the most classical setting, a decision maker determines a subset of locations from a given set of candidate sites to open facilities, while assigning customer demand to these locations and minimizing related cost. The customer demand plays a critical role in this regard as it is a driving factor in deter- mining where to open facilities. In various types of businesses, location decisions inherently impact customer demand as well. In particular, the availability of nearby facilities can af- fect customer behavior by boosting demand, which needs to be taken into account in this strategic-level facility location planning. The facility location decisions signiﬁcantly aﬀect customer demand in many settings and consequently determine the success of a business. For instance, in carsharing businesses such as Zipcar and Car2go, customers can choose from a wide range of vehicles to rent for a short period of time, while having fewer cost and responsibilities as compared to full ownership of the vehicles [36]. Customers can pick up and drop oﬀ vehicles from certain rental locations in parking lots, referred to as stations, and the convenience of doing so determines the quality of carsharing service. Jorge and Correia [18], Ciari et al. [7] demonstrate that customer demand is aﬀected mainly by the distance to station locations, and therefore their choices of whether or not to use carsharing are signiﬁcantly impacted by the service availability within their neighborhood [see 43, 5]. Additionally, Shaheen et al. [39] indicate that when customers observe more vehicle availability and usage convenience after new rental stations open, their conﬁdence to the carsharing service increases, resulting in higher demand for the service. In addition to carsharing, similar impacts are observed from problems of warehouse loca- tion selection on customer demand in supply chains [16]. Erlenkotter [10] introduces price- sensitive demand relationship in the facility location problem, where demands are associated with facility locations and pricing strategy. These studies highlight the importance of location decisions on customer behavior, and present the need to integrate this decision-dependent demand information in the strategic planning phase of locating facilities. On the other hand, customer demands are random and unknown when planning facility locations [24]. In most cases, the decision maker does not have suﬃcient information about the underlying demand. One approach is to consider demand forecasts when planning, and then solve a deterministic facility location problem using estimated demand values. Although a deterministic model is easier to handle from solving perspective, it produces inaccurate results by not fully capturing the underlying uncertainty. Stochastic and robust optimization approaches help the decision maker in this regard, depending on how much information we know about the uncertainty. Although stochastic optimization techniques are powerful in modeling various settings, their applicability is limited to the cases in which the distribution of the underlying uncertainty is fully known. Distributionally robust optimization (DRO) approaches, on the other hand, address this issue, and can obtain robust solutions under partial information. In this paper, we propose a distributionally robust facility location problem under demand uncertainty by considering the dependency between customer demand and facility location decisions. To the best of our knowledge, this is the ﬁrst study that formally considers the impact of location decisions on demand uncertainty within this strategic-level planning problem. Below we summarize the contributions of this work. 1. We describe moment information of random customer demand by piecewise linear func- tions of facility-location decisions, highlighting the interplay between location choices and customer behavior. 2 2. We formulate a decision-dependent distributionally robust facility location model. We obtain an exact mixed-integer linear programming reformulation of the studied model through duality and convex envelopes. We then propose enhancements to strengthen the formulation, including the derivation of valid inequalities. 3. We conduct numerical studies to demonstrate the eﬀectiveness of the proposed distri- butionally robust decision-dependent approach from various perspectives. We develop a framework to compare our approach with the existing stochastic and robust opti- mization methodologies neglecting the decision-dependency. Our results highlight sig- niﬁcant increase in proﬁt and reduction in unmet demand, and its robust performance under numerous problem characteristics along with the computational eﬃciency of the formulation enhancements. The remainder of this paper is organized as follows. In Section 2, we review the relevant literature in optimization, transportation, and logistics. In Section 3, we express demand distribution as a function of location decisions, and then present the decision-dependent dis- tributionally robust facility location problem along with several formulation enhancements. In Section 4, we present our computational studies on a variety of randomly generated instances to evaluate the performance of the proposed approach under diﬀerent settings. Section 5 concludes the paper with ﬁnal remarks and future research directions. 2 Literature Review Facility location problem variants. The facility location problem has been studied and analyzed for a wide variety of applications [see, e.g., 32, 26] to determine the locations of warehouses [33], distribution centers [45], emergency medical services [6], etc. Given the emergence of the Internet of Things (IoT), this problem is also considered for building smarter and connected cities via the determination of the optimal locations of sensors and devices to enhance data ﬂows [11]. An important branch of facility location studies considers uncertainties in problem parameters such as demand. Snyder [40] provides a thorough review of facility location problems under various uncertainties in demand and cost parameters, and facility characteristics. Stochastic programming and DRO methods. Stochastic programming approaches can be applied to address the issue of uncertain parameter once we know the full distribu- tional information. For example, Santoso et al. [38] consider a stochastic facility location problem by sampling realizations of demand and capacity parameters from a certain distri- bution, and they propose an accelerated Benders decomposition algorithm. DRO provides an alternative approach to solve problems under uncertainty when the decision maker has partial information about the distribution. Although DRO approach yields reliable and cost- eﬃcient solutions, it is less studied in the context of facility location. Lu et al. [22] consider distributionally robust reliable facility location problem by optimizing over worst-case distri- butions based on a given distribution of random facility disruptions; Santiv´a˜nez and Carlo [37] generalize the study in Lu et al. [22] by ensuring a minimum service level in satisfying demand under each disruption scenario. Recently, most relevant to our work, Liu et al. [21] 3 study DRO for optimally locating emergency medical service stations under demand uncer- tainty. To ensure the reliability of their plan, joint chance constraints are introduced and a moment-based ambiguity set is used for representing the uncertainty in demand. However, these studies pose limitation of modeling by not capturing the possible impact of location decisions on the uncertain parameters. The DRO literature can be classiﬁed by the ambiguity set being used to describe distribu- tional information of uncertainties. One line of research considers statistical distance-based ambiguity sets, which consider distributions within a certain distance to a target distribution. Some of the most studied distance measures in this area are φ-divergence [4, 17], Wasser- stein distance [28, 12] and Levy-Prokhorov metric [9]. Despite of the extensive literature and computational tractability results involving distance-based ambiguity sets, these approaches require a nominal distribution describing the underlying uncertainty with a high conﬁdence level, which might not be available at the facility planning phase for many applications, especially when the service is newly launched and there exists no prior customer data. An- other line of research is moment-based ambiguity sets [34, 8]. Depending on the deﬁnition of these ambiguity sets and beneﬁting from duality results, the related DRO models can be formulated as mixed-integer linear or semideﬁnite programs. In this paper, we focus on moment-based ambiguity sets in our analyses as they enable the representation of the direct eﬀect of location decisions on the moments of random demand, and do not require a target distribution for parameterizing the ambiguity. Modeling decision-dependent uncertainty. Integrating decision-dependent un- certainties within an optimization framework involves modeling challenges and computational complexities. The studies in this area can be categorized into two groups. The ﬁrst group focuses on decisions impacting the time of information discovery. Goel and Grossmann [13] propose a mixed-integer disjunctive programming formulation for incorporating the rela- tionship between the underlying stochastic processes and decisions aﬀecting the time that uncertainty is revealed. As solving this problem involves computational challenges, Vayanos et al. [42] propose a decision rule approximation to ensure its tractability. Recently, Basciftci et al. [2] formulate a generic mixed-integer linear program for ﬁnite stochastic processes, and provide structural results speciﬁcally on the time of information discovery for each resource of the capacity expansion planning problem along with approximation algorithms. On the other hand, in the second group of studies, decisions change the distribution of the under- lying uncertainty, which is the focus of this paper. For example, in stochastic programming context, Ahmed [1] considers network design problem under uncertainties dependent to de- sign decisions, whereas Basciftci et al. [3] model generators’ failure probabilities dependent on their maintenance and operational plans. Hellemo et al. [14] conduct an overview of recent studies in this area by providing ways to model decision-dependent uncertainties in stochastic programs. In the robust optimization literature, decisions aﬀecting the distributions of underlying uncertainties have been incorporated to the deﬁnition of the uncertainty set. Nohadani and Sharma [30] study robust linear optimization problems where the uncertainty set is a func- tion of decision variables, and they derive reformulations under speciﬁc cases. Similarly, robust decision-dependent optimization problems are considered within several application 4 areas including software partitioning problem [41], radiotherapy planning [29] and oﬀshore oil planning problems [20]. However, decision-dependency has not been fully explored within the DRO framework. Zhang et al. [44] consider generic decision-dependent distributionally robust problems with moment constraints and focus on demonstrating stability of the optimal solutions, whereas Royset and Wets [35] consider these problems under a class of distance- based ambiguity sets to derive convergence results. Most recently, Noyan et al. [31], Luo and Mehrotra [23] provide nonconvex reformulations for DRO problems under various forms of decision-dependent ambiguity sets. Although these studies provide alternative reformu- lations, the resulting models need further analyses and require the development of eﬃcient solution algorithms. Additionally, the eﬀect of adopting decision-dependent DRO methods in comparison to the existing stochastic or robust methodologies are not quantitatively veriﬁed in these studies. Despite of this extensive literature in related domains, the impact of facility location decisions on customer behavior and demand uncertainty has not been formally considered to strategically determine locations to open facilities. Furthermore, decision-dependent DRO has not been studied within the facility location context to derive tractable reformulations. We further demonstrate the advantages of our approach via providing comparisons to the alternative decision-independent approaches, and drawing insights from our computational studies. In brief, our paper proposes a novel approach in determining optimal facility loca- tions while considering decision-dependent demand uncertainties by addressing various gaps in the literature of facility location and optimization under uncertainty. 3 Problem Formulation We present a distributionally robust facility location problem, where the facility location deci- sions aﬀect the underlying demand distribution of each customer site. We ﬁrst introduce the ambiguity set for describing the distributional information of demand in Section 3.1. Then, we formulate the decision-dependent DRO model and propose reformulation techniques to obtain a single-level mixed-integer linear program in Section 3.2. To strengthen the obtained formulation, we provide a polyhedral study to derive valid inequalities in Section 3.3. 3.1 Ambiguity set formulation Consider a set of possible locations i ∈ I for building facilities and customer sites j ∈ J that generate demand. Deﬁne binary decision variables yi, i ∈ I to indicate location decisions, such that yi is 1 if a facility is open at location i, and 0 otherwise. The demand at each customer site j ∈ J is represented by a random variable dj(y) whose distribution depends on decision vector y = [yi, i ∈ I]T. We consider the case where only mean and variance information are given for the demand distribution. Based on a given set of sample points {d n}N n=1 of demand under the case with no facility allocation, we estimate the base-case mean and variance at each site j as ¯µj = 1/N ∑N n=1 d n j and ¯σ2 j = 1/(N − 1) ∑N n=1(d n j − ¯µj) 2, respectively. Suppose that demand distribution comes from a set of distributions with ﬁnite support, where the demand at each customer site j ∈ J can take values from the set K = {d1, · · · , dK} 5 with probabilities πj1, · · · , πjK . Speciﬁcally, the ambiguity set U (y) = U (y, K, ¯µ, ¯σ, ǫµ, ǫIn (2), the eﬀect of the distance of diﬀerent facility locations on demand at a target customer site j is controlled by parameters λ µ j , λ σ j ∈ [0, 1]|I|, in such a way that closer locations can have higher impacts on the ﬁrst and second moments, and further locations have less eﬀect. In particular, ∑j′∈I λ σ jj′ < 1 for all j ∈ J by assumption. We illustrate the eﬀect of the above decision dependency in Figure 1, where the ﬁrst ﬁgure shows the change in the mean and the second ﬁgure depicts the change in the variance with respect to parameters λ µ j and λ σ j . For demonstration purposes, we assume the ﬁrst open facility to be the closest one to customer site j, the second open facility to be the second closest, and so on. We highlight four diﬀerent cases for these parameters such that in Case (a), facility location decisions have no eﬀect on demand distribution; in Case (b) all facilities equally aﬀect the ﬁrst two moments; in Case (c) closer facilities have higher impact; and in Case (d) only the closest facility impacts customer demand. This illustration demonstrates diﬀerent impacts of location decisions on customer demand, based on the dependency between moment information and customer behavior. 0 1 2 3 4 ¯µj µU B j Number of open facility locationsµj(y) λ µ j (a) λ µ j (b) λ µ j (c) λ µ j (d) 0 1 2 3 4 (σLB j )2 ¯σ2 j Number of open facility locationsσ2j(y) λσ j (a) λσ j (b) λσ j (c) λσ j (d) Figure 1: Eﬀect of the open facility locations on the moment information of demand. 3.2 DRO model and reformulation In addition to decision variables yi, i ∈ I, we deﬁne decision variables xij and sj denoting at each customer site j, ∀j ∈ J, the amount of demand satisﬁed by facility i, and unsatisﬁed demand amount, respectively. Parameters fi, cij, pj, rj represent the cost of opening a facility at location i, unit transportation cost from location i to site j, penalty of each unit of unsatisﬁed demand at site j, and revenue for satisfying each unit of demand at site j, respectively. We assume that the unit penalty of unmet demand at each customer site is higher than the unit cost of transportation from any two location pairs, i.e., pj > cij , ∀i ∈ I, j ∈ J. This assumption is sensible in many business settings to assure the quality of service as high as possible, via guaranteeing customer satisfaction. Furthermore, instead of assuming a total amount of capacity at each individual facility, we consider a relaxed capacity restriction and assume that the capacity at each facility is pre- divided for individual customer sites. For example, to prepare for shipments, diﬀerent sizes of vehicle ﬂeets are pre-booked and scheduled to serve customers in diﬀerent regions. Denote 7 the total capacity in each location i as ∑ j∈J Cij , where Cij is the capacity at location i dedicated to customer site j. For notational convenience, without loss of generality, we further simplify the case by assuming the same amount of capacity pre-allocated to serve each customer (i.e., Cij is the same and equals to Ci for all the customer sites j). We formulate the decision-dependent distributionally robust facility location problem as: min y∈Y⊆{0,1}|I| { ∑ i∈I fiyi + max π∈U(y) Eπ[h(y, d(y))] } , (3) where h(y, d(y)) = min x,s ∑ i∈I ∑ j∈J cijxij + ∑ j∈J(pjsj − rj dj(y)) (4a) s.t. ∑ i∈I xij + sj = dj(y) ∀j ∈ J (4b) xij ≤ Ciyi ∀i ∈ I, j ∈ J (4c) si, xij ≥ 0 ∀i ∈ I, j ∈ J. (4d) The objective function (3) minimizes the total cost of locating facilities and the maximum ex- pected cost of transportation and unmet demand minus revenue for any demand distribution π ∈ U (y). We let the polyhedron Y include constraints that are solely related to facility- location decisions. Constraint (4b) ensures that demand at each customer site is either satisﬁed by other locations or penalized, while constraint (4c) enforces capacity restriction for each open facility i ∈ I. To derive a single-level reformulation that can be directly handled by oﬀ-the-shelf solvers, we ﬁrst show a closed-form solution to the inner problem (4). Proposition 1. The optimal objective value of problem (4) can be computed by h(y, d(y)) = ∑ j∈J   max i∗=0,1,··· ,|I|    ci∗jdj(y) + ∑ i∈I:cij <ci∗ j Ciyi(cij − ci∗j)    − rjdj(y)   , (5) where c0j := pj. Proof. Note that the most inner problem (4) can be decomposed with respect to each location j. Therefore, we express h(y, d(y)) as ∑j∈I hj(y, d(y)), where hj(y, d(y)) = min x.j ,sj ∑ i∈I cijxij + pjsj − rjdj(y) (6a) s.t. ∑ i∈I xij + sj = dj(y) (6b) xij ≤ Ciyi ∀i ∈ I (6c) sj, xij ≥ 0 ∀i ∈ I. (6d) Let β and υi be the dual variables associated with constraints (6b) and (6c), respectively. 8 We formulate the dual of model (6) as max β, υi βdj (y) + ∑ i∈I Ciyiυi (7a) s.t. β + υi ≤ cij ∀i ∈ I (7b) β ≤ pj (7c) υi ≤ 0 ∀i ∈ I (7d) To identify the optimal objective value of model (7), we derive the extreme points of its feasible region. To this end, we examine two cases through counting the number of tight constraints. 1. β = pj : s.t. αj + (δ1 j − δ2 j )dk + (γ1 j − γ2 j )d 2 k ≥ θjk(y) ∀j ∈ J, k = 1, · · · , K, (10b) y ∈ Y ⊆ {0, 1}|I|, δ1 j , γ1 j , δ2 j , γ2 j ≥ 0 ∀j ∈ J, (10c) where θjk(y) = ci∗ jkjdk + ∑ i∈I:cij <ci∗ jk j Ciyi(cij − ci∗ jk j) − rj dk and i∗ jk is the maximizer of expression (9) with dj(y) being replaced by dk. Proof. Following Proposition 1, we can reformulate the inner problem maxπ∈U(y) E[h(y, d(y))] for a given y as max πjk,j∈J,k=1,··· ,K ∑ j∈J K∑ k=1 πjk   (ci∗ jkj − rj)dk + ∑ i∈I:cij <ci∗ jk j Ciyi(cij − ci∗ jk j)    (11a) s.t. K∑ k=1 πjk = 1 ∀j ∈ J, (11b) K∑ k=1 πjkdk ≤ µj(y) + ǫµ j ∀j ∈ J, (11c) K∑ k=1 πjkdk ≥ µj(y) − ǫµ j ∀j ∈ J, (11d) K∑ k=1 πjkd 2 k ≤ (σ2 j (y) + (µj(y)) 2) z ∈ {0, 1} and give the details as follows. M ′ (η Theorem 2. Problem (3) is equivalent to the following mixed-integer linear program (16). min f ⊤y + ∑ j∈J ( αj + δ1 j (¯µj + ǫµ j ) − δ2 j (¯µj − ǫµ j ) + ¯µj ∑ j′∈I λ µ jj′ (∆ 1 jj′ − ∆ 2 jj′ ) + (¯σ2 j + ¯µ2 j )( where d(1), · · · , d(K) represent the ordered sequence of the support of the random demand. Proof. Since δj := δ1 j − δ2 j and γj := γ1 j − γ2 j are unbounded, we can equivalently consider the following system of inequalities in place of (17b) and (17c) αj + δjdk + γjd 2 k ≥ θjk(y) k = 1, · · · , K. (18) To identify extreme rays, we solve the inequality system (19) for m, n ∈ {1, · · · , K}; αj + δjdm + γjd 2 m = 0 (19a) αj + δjdn + γjd 2 n = 0 (19b) αj + δjdk + γjd 2 k ≥ 0 k ∈ {1, · · · , K} \\ {m, n}. (19c) Without loss of generality, we assume that dm < dn. Solving the equalities (19a) and (19b), we obtain δj = −(dm + dn)γj , and αj = dmdnγj. The next step is to ensure that the inequality system (19c) is satisﬁed. We study two cases with respect to the direction γj as follows by normalizing |γj| = 1. 1. γj = 1 extreme ray generators in Lemma 1 by plugging them into the objective function (17a). The resulting inequalities (20) ensure the boundedness of the dual problem (17) to guarantee the feasibility of (11). This completes the proof. sω i , x ω ij ≥ 0 ∀i ∈ I, j ∈ J, ω ∈ Ω. (22d) The objective function (22a) minimizes the total expected cost of facility location, trans- portation, and unmet demand minus the revenue obtained. Constraint (22b) ensures that demand is either satisﬁed or penalized across all the scenarios while constraint (22c) guar- antees that the capacity of each facility location is not violated. For an independently and identically distributed set of scenarios, model (22) is decomposable by scenario when the value ˆy of the ﬁrst-stage decision vector y is given. In this case, model (22) can be solved separately for each scenario subproblem. In the remainder of the section, we ﬁrst discuss experimental settings used in our numer- ical studies in Section 4.1. Then we provide a comprehensive analysis of the proposed ap- proach on various test cases in Section 4.2 including diﬀerent (i) variability levels of demand, (ii) unit penalty costs, (iii) robustness levels, (iv) limits on the number of open facilities, and (v) decision-dependent distribution models. Finally, we highlight the computational eﬃciency of the DDDR model by conducting experiments using diﬀerent sizes of instances in Section 4.3. 4.1 Experimental Setup We randomly generate a set of potential facility locations and customer sites. We ﬁrst present the default settings for all the problem parameters, which remain the same throughout all the numerical studies, unless otherwise stated. Euclidean distance is used to represent the distance between each candidate facility location and customer site. These distance values are assumed to directly aﬀect transportation cost parameters, namely cij for all i ∈ I, j ∈ J. The parameters for the ﬁxed opening cost, fi, and capacity, Ci, for all i ∈ I are sampled from Uniform distributions U (5000, 10000) and U (10, 20), respectively. Furthermore, for each j ∈ J, we set unit penalty, pj, for the unmet demand as 225, and revenue parameter rj as 150 for each customer site j ∈ J. We sample the empirical mean of demand at each customer site j ∈ J, ¯µj, from a Uniform distribution U (20, 40). Then, we let ¯σj = ¯µj, implying the coeﬃcient of variation equaling to 1. We deﬁne the moment-based ambiguity set by letting ǫµ j = 0, and ǫ extensive set of numerical studies over the proposed and existing optimization approaches. We implement all the optimization models in Python using Gurobi 7.5.2 as the solver on an Intel i5-3470T 2.90 GHz machine with 8 GB RAM. 4.2 Numerical Results and Analyses We ﬁrst examine how facility location decisions are aﬀected by the demand variability in parameter choices, robustness levels, and modeling of decision-dependency in DDDR and other benchmark approaches. In particular, we consider location solutions given by SP, DR, and DDDR models over a set of diverse instances. For obtaining location solutions of a SP model, we generate training samples with 20 or 100 scenarios following a Normal distribution with mean and variance of the demand at each customer site j ∈ J being ¯µj and ¯σ2 j , respectively. We refer to instances of the two diﬀerent sizes as SP(20) and SP(100), respectively. For evaluating facility location solutions, we generate 1000 test scenarios for each given solution. In particular, given a solution ˆy, we ﬁrst obtain the values of the moment functions µj(ˆy) and σ2 j (ˆy) for each customer site j ∈ J using (2), and generate test scenarios based on these values following a certain distribution. In the default setting, we test our results by considering Normal distribution as the true representative of the underlying demand distribution but vary the distribution type in one set of tests later. Table 1 shows the average optimal objective value and unmet demand value over 10 instances evaluated over the test scenarios for ﬁve instance sizes under diﬀerent approaches. Speciﬁcally, we consider |I| ∈ {5, · · · , 10}, and |J| = 2|I|. Since we minimize the total cost minus revenue, smaller objective values are preferred. The results demonstrate the superior performance of DDDR solutions over the ones of existing methodologies with the decision independent assumption on demand. For instance, the DDDR approach provides, on average, 18% and 12% improvement in proﬁt, and 99% and 96% reduction in unmet demand, compared to SP and DR approaches over instances with 10 facilities, respectively. Consequently, the decision-independent approaches obtain less proﬁt and provide a lower quality of service by not fully satisfying the demand. We further provide a detailed case study by examining an instance with 10 candidate facility locations, and 20 demand sites. We visualize the customer sites and possible facility locations in Figure 2. The customer sites are shown in circles, and the possible facility locations are denoted in squares. Then, Table 2 presents the results of DDDR, DR, and SP approaches under the default setting, where we report the average, standard deviation and percentile values of the optimal objective value and unmet demand value over the 1000 test scenarios. Overall, the DDDR approach provides the best results in terms of optimal objective and unmet demand values. DR is better than SP in terms of percentile values of the optimal objective and unmet demand. In addition, SP with diﬀerent training data sizes present similar results. The table also demonstrates the importance of considering the decision-dependency as the DDDR approach outperforms DR in terms of proﬁt and quality of service. 16 Table 1: Average optimal objective and unmet demand values under diﬀerent methodologies and instances. 0 10 20 30 40 50 60 70 80 90 100 0 10 20 30 40 50 60 70 80 90 100 (1) (2) (3) (4) (5) (6) (7) (8) (9) (10) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 Locations’ x coordinatesLocations’ycoordinates Facility Customer Figure 2: Locations of the customers and potential facilities. 4.2.2 Eﬀect of unit penalty setting for unmet demand We examine the eﬀect of the parameter setting for penalizing each unit of unmet demand. Table 4 shows the facility location plans given by diﬀerent approaches with unit penalty cost pj = 150, 225, 300 for all j ∈ J. The case with pj = 225 corresponds to facility location solutions in Table 2, and pj = 150 represents the case when the penalty parameter is equal to the revenue amount per unit. In the decision-dependent approach, the mean of the underlying demand increases as we open new facilities. Consequently, the DDDR model enforces opening more facility locations yielding higher demand and thus higher revenue. Furthermore, as unit penalty gets higher, it becomes more undesirable to have unmet demand. Thus, all approaches open more facilities when unit penalty cost increases. Figure 4 shows how the average optimal objective and unmet demand values are aﬀected by the changes in the penalty parameter. As the penalty parameter increases, the amount of unmet demand decreases for all approaches, as expected. When penalty parameter takes its smallest value, DR has the worst performance both in the optimal objective and unmet demand values, for which we provide a detailed explanation as follows. The DR approach compares two unfavorable cases: (i) opening many locations but having few customers, and 18 Table 2: Statistics of the optimal objective and unmet demand values under diﬀerent method- ologies for a speciﬁc instance shown in Figure 2. Table 3: Optimal objective and unmet demand values under diﬀerent methodologies with Gamma distribution. 150 225 300 −6.5 −6 −5.5 −5 ·104 Penalty parameterAverageobjectivefunctionvalueSP(20) SP(100) DR DDDR 150 225 300 0 10 20 30 40 50 60 115 Penalty parameterAverageunmetdemandSP(20) SP(100) DR DDDR Figure 4: Eﬀect of the penalty parameter on diﬀerent methodologies. Table 5: Optimal objective and unmet demand values when the level of robustness κ = 20%. capability of doing so. Consequently, the performance of the solutions of DDDR, DR, SP approaches becomes similar if given smaller facility-opening budget. On the other hand, as we relax this limitation, the DDDR approach outperforms the others, whereas SP is not aﬀected by the relaxation. These results provide us managerial insights for better suitability of the decision-dependent demand distribution modeling in business settings, where there is less restriction on the maximum number of open facilities. 4 5 6 7 8 −6.5 −6 −5.5 −5 ·104 Maximum number of open facilitiesAverageobjectivefunctionvalueSP(20) SP(100) DR DDDR 4 5 6 7 8 0 10 20 30 40 50 60 Maximum number of open facilitiesAverageunmetdemandSP(20) SP(100) DR DDDR Figure 5: Eﬀect of the capacity on number of facilities to open. 4.2.5 Eﬀect of the form of decision-dependency We examine how DDDR results are aﬀected by the modeling of location dependency on demand distributions. Recall that, in the default setting, we consider λ µ ji, λ σ ji for each pair of customer site j and facility location i as decreasing functions of their distance. As a comparison, we propose a clustering-based decision-dependency formulation for modeling the ambiguity set. In particular, in our ρ-means approach, the demand at the customer site j is equally aﬀected by the opening of the closest ρ facilities in its neighborhood. Let Pρ j be the set of ρ facility locations that are closest to customer site j; deﬁne λ µ ji = λ σ ji = 1 Table 6: Facility location solutions of DDDR with diﬀerent location-dependency patterns.Table 7: Eﬀect of the valid inequalities on CPU time results.[4] Ben-Tal, A., den Hertog, D., De Waegenaere, A., Melenberg, B., and Rennen, G. (2013). Robust solutions of optimization problems aﬀected by uncertain probabilities. Manage- ment Science, 59(2):341–357. [5] Boldrini, C., Bruno, R., and Conti, M. (2016). Characterising demand and usage patterns in a large station-based car sharing system. In 2016 IEEE Conference on Computer Communications Workshops (INFOCOM WKSHPS), pages 572–577. [6] Chen, A. Y. and Yu, T. (2016). Network based temporary facility location for the emergency medical services considering the disaster induced demand and the transporta- tion infrastructure in disaster response. Transportation Research Part B: Methodological, 91:408 – 423. [7] Ciari, F., Bock, B., and Balmer, M. (2014). Modeling station-based and free-ﬂoating car- sharing demand: Test case study for Berlin. Transportation Research Record, 2416(1):37– 47. [8] Delage, E. and Ye, Y. (2010). Distributionally robust optimization under moment un- certainty with application to data-driven problems. Operations Research, 58(3):595–612. [9] Erdo˘gan, E. and Iyengar, G. (2006). Ambiguous chance constrained problems and robust optimization. Mathematical Programming, 107(1):37–61. [10] Erlenkotter, D. (1977). Facility location with price-sensitive demands: Private, public, and quasi-public. Management Science, 24(4):378–386. [11] Fischetti, M., Ljubic, I., and Sinnl, M. (2017). Redesigning benders decomposition for large-scale facility location. Management Science, 63(7):2146–2162. [12] Gao, R. and Kleywegt, A. J. (2016). Distributionally robust stochastic optimization with Wasserstein distance. https://arxiv.org/abs/1604.02199. [13] Goel, V. and Grossmann, I. E. (2006). A class of stochastic programs with decision dependent uncertainty. Mathematical Programming, 108(2):355–394. [14] Hellemo, L., Barton, P. I., and Tomasgard, A. (2018). Decision-dependent probabilities in stochastic programs with recourse. Computational Management Science, 15(3):369–395. [15] Hern´andez, B., Jim´enez, J., and Mart´ın, M. J. (2010). Customer behavior in elec- tronic commerce: The moderating eﬀect of e-purchasing experience. Journal of Business Research, 63(9):964 – 971. [16] Ho, P. and Perl, J. (1995). Warehouse location under service-sensitive demand. Journal of Business Logistics, 16(1):133. [17] Jiang, R. and Guan, Y. (2016). Data-driven chance constrained stochastic program. Mathematical Programming, 158(1):291–327. 25 [18] Jorge, D. and Correia, G. (2013). Carsharing systems demand estimation and deﬁned operations: A literature review. European Journal of Transport and Infrastructure Re- search, 13(3). [19] Kleywegt, A., Shapiro, A., and Homem-de Mello, T. (2002). The sample average ap- proximation method for stochastic discrete optimization. SIAM Journal on Optimization, 12(2):479–502. [20] Lappas, N. H. and Gounaris, C. E. (2017). Robust op- timization for decision-making under endogenous uncertainty. http://www.optimization-online.org/DB_FILE/2017/06/6105.pdf. [21] Liu, K., Li, Q., and Zhang, Z. (2019). Distributionally robust optimization of an emer- gency medical service station location and sizing problem with joint chance constraints. Transportation Research Part B: Methodological, 119:79 – 101. [22] Lu, M., Ran, L., and Shen, Z. M. (2015). Reliable facility location design under uncertain correlated disruptions. Manufacturing & Service Operations Management, 17(4):445–455. [23] Luo, F. and Mehrotra, S. (2018). Distributionally robust optimization with decision dependent ambiguity sets. https://arxiv.org/abs/1806.09215. [24] Mai, C. (1981). Optimum location and the theory of the ﬁrm under demand uncertainty. Regional Science and Urban Economics, 11(4):549 – 557. [25] McCormick, G. P. (1976). Computability of global solutions to factorable noncon- vex programs: Part i — convex underestimating problems. Mathematical Programming, 10(1):147–175. [26] Melo, M., Nickel, S., and da Gama, F. S. (2009). Facility location and supply chain management – a review. European Journal of Operational Research, 196(2):401 – 412. [27] Meyer, C. A. and Floudas, C. A. (2004). Trilinear monomials with mixed sign domains: Facets of the convex and concave envelopes. Journal of Global Optimization, 29(2):125– 155. [28] Mohajerin Esfahani, P. and Kuhn, D. (2018). Data-driven distributionally robust opti- mization using the wasserstein metric: performance guarantees and tractable reformula- tions. Mathematical Programming, 171(1):115–166. [29] Nohadani, O. and Roy, A. (2017). Robust optimization with time-dependent uncertainty in radiation therapy. IISE Transactions on Healthcare Systems Engineering, 7(2):81–92. [30] Nohadani, O. and Sharma, K. (2018). Optimization under decision-dependent uncer- tainty. SIAM Journal on Optimization, 28(2):1773–1795. [31] Noyan, N., Rudolf, G., and Lejeune, M. (2018). Distribu- tionally robust optimization with decision-dependent ambiguity set. http://www.optimization-online.org/DB_FILE/2018/09/6821.pdf. 26 [32] Owen, S. H. and Daskin, M. S. (1998). Strategic facility location: A review. European Journal of Operational Research, 111(3):423 – 447. [33] Ozsen, L., Coullard, C. R., and Daskin, M. S. (2008). Capacitated warehouse location model with risk pooling. Naval Research Logistics (NRL), 55(4):295–312. [34] Popescu, I. (2007). Robust mean-covariance solutions for stochastic optimization. Op- erations Research, 55(1):98–112. [35] Royset, J. and Wets, R. (2017). Variational theory for optimization under stochastic ambiguity. SIAM Journal on Optimization, 27(2):1118–1149. [36] S. Shaheen, D. S. and Wagner, C. (1998). Carsharing in europe and north america: Past, present, and future. Transportation Quarterly, 98(3):35 –52. [37] Santiv´a˜nez, J. A. and Carlo, H. J. (2018). Reliable capacitated facility location problem with service levels. EURO Journal on Transportation and Logistics, 7(4):315–341. [38] Santoso, T., Ahmed, S., Goetschalckx, M., and Shapiro, A. (2005). A stochastic pro- gramming approach for supply chain network design under uncertainty. European Journal of Operational Research, 167(1):96 – 115. [39] Shaheen, S., Cohen, A. P., and Roberts, J. D. (2006). Carsharing in north america: Mar- ket growth, current developments, and future potential. Transportation Research Record, 1986(1):116–124. [40] Snyder, L. V. (2006). Facility location under uncertainty: A review. IIE Transactions, 38(7):547–564. [41] Spacey, S. A., Wiesemann, W., Kuhn, D., and Luk, W. (2012). Robust software parti- tioning with multiple instantiation. INFORMS Journal on Computing, 24(3):500–515. [42] Vayanos, P., Kuhn, D., and Rustem, B. (2011). Decision rules for information discovery in multi-stage stochastic programming. In 2011 50th IEEE Conference on Decision and Control and European Control Conference, pages 7368–7373. [43] Vine, S. L., Lee-Gosselin, M., Sivakumar, A., and Polak, J. (2011). Design of a strategic- tactical stated-choice survey methodology using a constructed avatar. Transportation Research Record, 2246(1):55–63. [44] Zhang, J., Xu, H., and Zhang, L. (2016). Quantitative stability analysis for distribu- tionally robust optimization with moment constraints. SIAM Journal on Optimization, 26(3):1855–1882. [45] Zhang, Z., Berenguer, G., and Shen, Z. M. (2015). A capacitated facility location model with bidirectional ﬂows. Transportation Science, 49(1):114–129. 27","libVersion":"0.3.2","langs":""}