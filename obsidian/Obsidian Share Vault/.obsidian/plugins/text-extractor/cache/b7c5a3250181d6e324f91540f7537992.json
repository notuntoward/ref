{"path":"lit/lit_notes_OLD_PARTIAL/Lyu22RealTimeOverchargeWarning.pdf","text":"0278-0046 (c) 2021 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information. This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TIE.2021.3062267, IEEE Transactions on Industrial Electronics IEEE TRANSACTIONS ON INDUSTRIAL ELECTRONICS Real-time Overcharge Warning and Early Thermal Runaway Prediction of Li-ion Battery by Online Impedance Measurement Nawei Lyu, Yang Jin, Member, IEEE, Rui Xiong, Senior Member, IEEE, Shan Miao, and Jinfeng Gao Abstract—Lithium-ion battery has advantages such as high energy density, and long calendar life, but it suffers from the risk of thermal runaway. Overcharge induced ther- mal runaway accidents hold a considerable percentage. It is discovered in this paper that the slope of the dynamic impedance in the frequency band of 30 - 90 Hz turns pos- itive from negative when the cell just starts to overcharge, and proposes the theoretical explanation. Taking 70 Hz impedance as an example, the thermal runaway accident can be successfully avoided by cutting off the charging when the slope turns position from negative during charg- ing. The warning time is 580 seconds ahead of the thermal runaway. This feature is easy-to-identify, and requires no complex mathematical models and parameters. Besides, the prediction method based on this feature can be con- ducted by using an online dynamic impedance measure- ment device designed by us, which is suitable for large- scale applications. Thus, the overcharge induced thermal runaway accidents can be avoided. Index Terms—Lithium-ion battery, Online impedance measurement, Overcharge warning, Thermal runaway pre- diction, Battery safety. I. INTRODUCTION T HE urgent demand for electric vehicles (EVs) and battery energy storage stations (BESSs) continues increasing around the world [1], [2]. Among numerous energy storage technologies, lithium-ion battery (LIB) has become a popular and predominant storage medium, owing to its high speciﬁc energy, low self-discharge rate, lack of memory effects, and long cycle life [3]–[5]. In practice, LIBs are widely used in EVs [6]–[8] and BESSs [9]–[11] over the past decades. Manuscript received August 31, 2020; revised December 16, 2020; accepted February 18, 2021. This work was supported through the National Natural Science Foundations of China under Grant 51807180 and 51877009. (Corresponding author: Yang Jin.) Nawei Lyu is with Research Center of Grid Energy Storage and Bat- tery Application, School of Electrical Engineering, Zhengzhou University, Zhengzhou, 450001, China. Yang Jin is with Research Center of Grid Energy Storage and Bat- tery Application, School of Electrical Engineering, Zhengzhou Univer- sity, Zhengzhou, 450001, China (phone: +86 181-3780-1722, e-mail: yangjin@zzu.edu.cn). Rui Xiong is a Professor at the Beijing Institute of Technology, Bei- jing, China. From 2019 to 2020, he was a Visiting Professor at the Massachusetts Institute of Technology, Cambridge, MA, USA. He has authored more than 100 journal papers, 4 monographs and holds more than 30 patents. His research interests include Intelligent electriﬁed vehicles, energy storage, batteries, digital twin, and machine learning. Charge Discharge Charge Discharge Slight Overcharge Poor Consistency Slight Over-discharge Initial Stage Occurrence Stage Gases Propagation Stage Flame Thermal Runaway Accident Overcharge to a Certain Extent Accumulation of Heat Propatate between Cells Bubbles Bulges a b c d e f Fig. 1. Diagrams of the module’s normal condition and TR. (a, c) Slight overcharge and over-discharge in some cell. (b) Inconsistency of the module. (d, e , f) TR stages. For example, over 90% of large-scale battery storage power capacity in the United States is provided by batteries based on lithium-ion chemistries as of 2020. However, compared to the lead-acid batteries, LIBs contain ﬂammable electrolytes, and the chemical properties are more active. Therefore, LIB has the risk of thermal runaway (TR). TR is a phenomenon that cannot be stopped once it occurs. EV and BESS ﬁre accidents are frequently reported in recent years, e.g. there has been at least one EV ﬁre for every 205 million miles traveled during 2012 - 2020. Therefore, improving battery safety and preventing TR accident has become an urgent problem. That means, TR must be pre- warned and avoided in time. In addition to the TR risk of a single cell, thousands of cells are integrated into a pack in the BESS and EV for large capacity (MWh level) and higher voltage. Such integration will lead to poor inconsistency. In addition, the balancing function of the battery management system (BMS) is limited. As as result, slight overcharge and over-discharge will occur in the cells, which increases the risk of TR, as illustrated in Fig.1. Fig.1(a, b, c) shows the slight overcharge and over-discharge in normal operation. When charging, the cell with a high state of charge (SOC) will be slightly overcharged, as shown in Fig.1(c). Similarly, when discharging, the cell with a low SOC Authorized licensed use limited to: Carleton University. Downloaded on June 01,2021 at 17:34:44 UTC from IEEE Xplore. Restrictions apply. 0278-0046 (c) 2021 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information. This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TIE.2021.3062267, IEEE Transactions on Industrial Electronics IEEE TRANSACTIONS ON INDUSTRIAL ELECTRONICS TABLE I TYPICAL STUDIES ON PREDICTING Tint BASED ON DYNAMIC IMPEDANCE Researchers Calculation basis Description Carkhuff et al. [25] Impedance between 300 Hz and 10 kHz - Raijmakers et al. [26] the frequency at which the imaginary part is zero NCA and LiFePO4 batteries Srinivasan et al. [27] Phase shift 53 Ah GS Yuasa and 5.3 Ah Boston Power lithium-ion battery Srinivasan et al. [28] Phase shift at 40 - 100 Hz temperature range spannes from -20 to 66 ◦C Zhu et al. [29] Phase shift at 10 Hz 30Ah LiFePO4 Richardson et al. [30] Real part at 215 Hz a cylindrical 26650 cell Richardson et al. [31] Real part at 215 Hz 2.3 Ah LiFePO4 Schmidt et al. [24] Real part at 10.3 kHz 2 Ah pouch cell Spinner et al. [32] Imaginary part at 300 Hz Tint above 95 ◦C is obtained will be over-discharged, as shown in Fig.1(a). Thus, the slight overcharge and over-discharge exacerbate the cell consistency [12], [13], causing further overcharge and over-discharge [14]. Fig.1(d, e, f) shows a TR accident caused by overcharge, which can be divided into three stages: initial stage, occurrence stage and propagation stage. In the initial stage Fig.1(d), a large amount of heat is produced by ohmic impedance [15]. At the same time, side reactions such as the decomposition of solid-electrolyte interface (SEI) layer [16] and the combustion of electrolyte [17] lead to bubbles. In the occurrence stage Fig.1(e), the bubbles gather and exceed the package pressure limitation, causing safety valve opening and gas overﬂowing [18]. The released gases will soon be ignited, and the ﬂame temperature can reach 800 ◦C [19]. In the propagation stage Fig.1(f), the blazing ﬂame will ignite the adjacent cells and cause an irretrievable accident. Therefore, if a TR in single cell cannot be controlled timely, it will result in disastrous consequences [20], [21]. The key to avoid TR accidents is to make effective early prediction at the initial stage. Terminal voltage and surface temperature monitoring methods are wildly used in current BMS, which can monitor the real-time voltages and surface temperatures. However, it cannot realize overcharge warning and early TR prediction, owing to the battery polarization and heat conduction. Electrochemical impedance spectrum (EIS) is frequently used to analyze the internal parameters of the battery [22]. In recent years, EIS is developed to estimate the internal temperature (Tint) [23], [24] of the cell. Typical studies are organized in Tab.I. However, there is no uniform basis (phase shift, magnitude, the real or imaginary part) for the prediction of Tint, and each prediction method relies on complex mathematical models. In the ﬁeld of TR prediction, it is considered that the reliability is much more important than accuracy. Thus, a method speciﬁcally designed for overcharge warning and TR prediction needs to be explored. This paper discovers the feature that the slope of the dynamic impedance in the frequency band of 30 - 90 Hz turns positive from negative when the cell just starts to overcharge, and proposes the theoretical explanation. Since this feature Impedance Time Dynamic Impedance Slope Turns Positive from Negative Time b c d SEI Positive ----------------- ----------------- Negative Separator Generate Bubbles Distance Increases a Fig. 2. Schematic diagram of LIB that demonstrates the feature that impedance slope turns positive from negative when the cell starts to overcharge. (a) Optical picture of the cell at different stages during overcharge. (b) Shape schematic of the cell at different stages. (c) Theoretical explanations on impedance increasing with bubbles and bulges. (d) The expected impedance curve during overcharge. appears much earlier than TR occurrence, it can be used to predict TR. The rest of this paper is organized as follows. Section II puts forward the dynamic impedance feature above and theoretically analyzed the cause of this feature. Besides, Section II presents an online dynamic impedance measuring device designed by us. Section III carries out an overcharge experiment to verify the feature. Section IV takes 70 Hz as an example, and veriﬁes the actual protection effect by using the feature. In addition, Section IV compares the protection effect made by another feature (dynamic impedance slope crossing a threshold). Finally, Section V concludes this paper. II. FEATURE OF DYNAMIC IMPEDANCE DURING OVERCHARGE AND DESIGN OF ONLINE DYNAMIC IMPEDANCE MEASURING DEVICE A. Feature of dynamic impedance during overcharge Fig.2(a) shows the optical pictures of a LIB pouch cell from overcharge to TR. During overcharge, the excessive de- intercalation of lithium leads to a collapse of the cathode structure, which results in huge heat and bubbles [33]. When the temperature rises to a certain value, the cell begins to bulge, as shown in Fig.2(b). When the bulge reaches its maximum, the LIB cell bursts owing to the excessive internal pressure. During the whole overcharge process, the gap between the positive and negative electrodes is ﬁlled with bubbles, and then Authorized licensed use limited to: Carleton University. Downloaded on June 01,2021 at 17:34:44 UTC from IEEE Xplore. Restrictions apply. 0278-0046 (c) 2021 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information. This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TIE.2021.3062267, IEEE Transactions on Industrial Electronics IEEE TRANSACTIONS ON INDUSTRIAL ELECTRONICS the distance between the electrodes is elongated, as illustrated in Fig.2(c). As a result, the expected impedance curve during overcharge is shown in Fig.2(d). It should be noted that sub- ﬁgures share the same timeline. In other words, the processes in each sub-ﬁgure are synchronized. When overcharge just starts, the slope of the dynamic impedance turns positive from negative, which is a clear and easy-to-identify feature that has not been discovered and discussed. Since no inherent parameter is dependent, then this feature is reliable and practical in real-time overcharge warning and early TR prediction. The reason for this curve is as follows. Firstly, the Tint increases when the cell is charged, and the dynamic impedance in some frequency bands decreases with the increasing Tint. This phenomenon has been revealed by the studies [24], [25], [30], [31] listed in Tab.I. Secondly, during overcharge, the conductivity of the electrolyte is reduced by the bubbles, and the distance between the electrodes is elongated. According to Pouillet’s law R = ρ d A (1) where R is the resistance, ρ is the resistivity at temperature T , d is distance between the electrodes, and A is the cross- sectional area of the electrodes. Besides, ρ increases with the temperature (T ). ρ = ρ0[1 + α(T − T0)] (2) where ρ0 is the resistivity at temperature T0, α is the tem- perature coefﬁcient of resistivity, T0 is a ﬁxed reference temperature, and T is the current temperature. The electrode area A is constant. The ρ keeps increasing with the surge of temperature (T ) during the cell’s bulge. The gaps between the electrodes are elongated, which means an increase of d in Equation.1. The increasing ρ and d lead to a signiﬁcant increase in resistance. On the other hand, according to the parallel-plate capacitor equation C = ε0εrA d (3) where C is the capacitance, ε0 is the absolute permittivity (ε0 ≈ 8.854 × 10−12F m −1), εr is the relative permittivity, A is the cross-sectional area of the electrodes, and d is the distance between the electrodes. The ε0 and the electrode area (A) are constants. d increases as the cell bulges, and εr decreases when the electrolyte is ﬁlled with bubbles. The changes in d and ε reduce the capacitance of the cell. According to the impedance equation |Z| = |R + jX| (4) X = − 1 2πf C (5) The increasing R and decreasing C will cause a surge in |Z|. Multiplexers Voltage Acquistion Part Excitation and Current Acquistion Part Instrumentation Amplifier with DC removal Excitation Current Source Sample Resistance Isolated ADC Programmable Gain Amplifier Instrumentation Amplifier Isolated ADC Programmable Gain Amplifier ······ a b c Infrared Camera Optical Camera (Side View) Cell Dynamic Impedance Measurement Device Optical Camera (Front View) Multi-channel Data Recorder 8 7 2 1 Fig. 3. (a) Diagrams of EIS measurement using current-type excitation. (b) Picture of the internal circuit of the dynamic impedance measuring device. (c) Device layout of the subsequent experiments. B. Design of online dynamic impedance measuring de- vice To verify the above feature, an on-line dynamic impedance measuring device is necessary. On the purpose of being able to deploy to EV and BESS, the device must meet the requirements of low cost and compact size. EIS is commonly used to analyze a cell’s characteristics. The EIS of a whole frequency band represents the ohmic impedance (Rb), solid electrolyte impedance (Rsei), electrode polarization impedance (Rct), and concentration polarization impedance (W). However, the measuring time of an EIS is usually a few minutes to ten minutes, which hinders the application in overcharge warning and TR prediction. Firstly, the internal parameters of the cell keep changing during the measurement, which brings challenges to the analysis of the results, and makes it difﬁcult to establish an effective model to warn of the overcharge or TR. Secondly, such a long time reduces the timeliness, and may invalidate the warning. The better method is to judge the battery status through the dynamic impedance at one single frequency. There are several measurement methods for the dynamic impedance, among which the most usually performed method is to inject a voltage or current into the cell through a separate excitation circuit [34], [35]. The voltage-type excitation injects a sinusoidal voltage to a cell and collects the current. This method requires that the voltage of the cell must remain unchanged, which hinders the application of this method in practice. On the contrary, the most signiﬁcant advantage of current-type excitation is the ability to measure online [36]. Authorized licensed use limited to: Carleton University. Downloaded on June 01,2021 at 17:34:44 UTC from IEEE Xplore. Restrictions apply. 0278-0046 (c) 2021 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information. This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TIE.2021.3062267, IEEE Transactions on Industrial Electronics IEEE TRANSACTIONS ON INDUSTRIAL ELECTRONICS In the online impedance measuring device designed by us, an excitation source is used to produce a sinusoidal current (ie) at the frequency of fe. ie = A sin(2πfet) (6) where A is the magnitude of the current perturbation. The design target is to measure the impedance of the large capacity cells in BESS and EV, usually above 20 Ah. To achieve higher accuracy and reduce additional heating to the cell, A is set to 1 A (less than 0.05C). Such a low current rate will not generate excessive heat. An instrumentation ampliﬁer (INA), a programmable gain ampliﬁer (PGA) and an isolated analog-to-digital conversion chip (ADC) are used to collect a period of response voltage (ur), as shown in the voltage acquisition part of Fig.3(a). The removal of direct-current (DC) voltage is required in this acquisition process. For the accuracy of the results, the ie needs to be collected, too, as shown in the excitation and current acquisition part of Fig.3(a). The excitation current ie turns into sample voltage (us) through a precision non- inductive sampling resistor (Rs), and us is collected by the same method as ur. There is a simple multiple relationship between ie and us ie = us Rs (7) where Rs should be the same magnitude order as the impedance of the cell under test, e.g. 10 mΩ. The current and voltage component at the frequency of fe can be calculated by using the Fourier transform ̂f (ξ) = ∫ ∞ −∞ f (x)e−2πjxξ dx (8) where vector ̂f (ξ) is the component at the frequency of ξ, and f (x) is the time-domain raw signal. ie and ur at fe can be obtained by substituting ie and ur into Equation.8. The impedance |Z| at fe can be calculated by vector division |Z| = ∣ ∣ ∣ ∣ ur ie ∣ ∣ ∣ ∣ (9) In addition to the above measurement, two multiplexers are used in the device, as shown in the voltage acquisition part of Fig.3(a). The inputs of one multiplexer are connected to the positive poles of the eight cells, and the output is connected to the positive pole of the INA. The inputs of another multiplexer are connected to the negative poles of the eight cells, and the output is connected to the negative pole of the INA. Thus, by switching the channels, the device can measure up to 8 cells. Besides, the device can measure only one cell when necessary, e.g. in the experiments below. As a result, the dynamic impedance can be measured while the cell is in operating conditions, which makes real-time overcharge warning and early TR prediction possible. The picture of the device is shown in Fig.3(b), which has a reduced cost and compact size. TABLE II ARRANGEMENT AND ACQUISITION OBJECT OF EACH EXPERIMENTAL DEVICE Experimental device Acquisition object Arrangement Dynamic impedance measuring device Dynamic impedances of 30, 50, 70, and 90 Hz Clamped on the electrodes Multi-channel data recorder voltage channel Terminal Voltage Clamped on the electrodes Multi-channel data recorder temperature channel Surface temperature Attached to the center of the opposite side Infrared camera Surface temperature of the entire front To the front of the cell Optical camera 1 Optical picture To the front of the cell Optical camera 2 Optical picture To the side of the cell a b Fig. 4. (a) Voltage, Tsurf , and (b) dynamic impedance curves of the LFP pouch cell in the overcharge experiment. III. VERIFICATION OF THE DYNAMIC IMPEDANCE FEATURES IN CHARGING, OVERCHARGE AND TR A. Design of overcharge experiment To verify the above theory that the impedance slope turns positive from negative in the time between overcharge and TR, here, taking voltage and Tsurf as comparison, the overcharge experiment is conducted as follows. 1) A 48 Ah LiFePO4 (LFP) pouch cell is chose for the experiment. 2) The cell is charged continually from 0% SOC to TR at 1C current in an explosion-proof box. The dynamic impedances of 30, 50, 70, and 90 Hz of the cell are recorded during this process. The measuring interval of impedance at each frequency is 30 s. The voltage, surface temperature (Tsurf ), normal image and infrared image are recorded simultaneously. 3) Cut off the charging when the cell package is completely split. The experimental instruments include a battery charger, a dynamic impedance measuring device designed by our team, a multi-channel data recorder, an infrared camera, and a high- resolution optical camera. The layout is the shown in Fig.3(c). The arrangement and acquisition object of each device are organized in Tab.II B. Experimental results and analysis The charging process starts at 0 s, and the overcharge starts at 3600 s, as indicated by the arrow in Fig.4. Fig.4(a) shows the voltage and Tsurf variation, and Fig.4(b) shows the dynamic Authorized licensed use limited to: Carleton University. Downloaded on June 01,2021 at 17:34:44 UTC from IEEE Xplore. Restrictions apply. 0278-0046 (c) 2021 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information. This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TIE.2021.3062267, IEEE Transactions on Industrial Electronics IEEE TRANSACTIONS ON INDUSTRIAL ELECTRONICS a b c d e f g h 12.3°C 11.8°C 0.981mΩ 12.3°C 26.4°C 33.4°C 0.660mΩ 43.3°C 33.5°C 38.6°C 1.283mΩ 49.8°C 43.8°C 40.5°C 2.185mΩ 58.8°C 58.0°C 41.5°C 4.351mΩ 75.9°C 60.5°C 44.4°C 76.84mΩ 77.4°C ----°C 218.0°C 781.4mΩ ----°C ----°C 203.2°C 884.8mΩ ----°C 3840 s 4020 s 4200 s 4220 s 0 s 3600 s 3720 s 3780 s Fig. 5. Representative optical images of the LFP pouch cell in the over- charge experiment, with surface temperatures and 70 Hz impedance labeled. impedances of multiple frequencies. Fig.5 shows optical image (front view and side view) of the cell at each critical time. The temperatures on each image in Fig.5 reﬂects the surface temperature of the blue dot position next to it, which is captured from the infrared camera. 70 Hz impedance is also marked on each cell in Fig.5. It can be seen in Fig.5(a) - Fig.5(c) that the shape of the cell has no change until 3720 s, (2 minutes since overcharge starts). The cell begins to bulge at 3780 s (the third minute since overcharge), as shown in Fig.5(d)). And the bulging grows faster since 4010 s (about seventh minutes after overcharge), shown in Fig.5(f). Finally, the cell emits smoke and TR occurs at 4220 s, shown in Fig.5(h), when it has been 10 minutes and 20 seconds since overcharge. Through this experiment, the following conclusions can be obtained. Firstly, it is not accurate to warn overcharge by voltage. The cell is not fully charged at the time it reaches the cut- off voltage (3.6 V at 3105 s), due to the gradually increasing polarization in continuous charging. Thus, when the battery is fully charged (3600 s), the voltage reaches to 4.97 V, which is higher than the cut-off voltage, as shown in Fig.4(a). This phenomenon proves that the overcharge warning enabled by cut-off voltage can cause the cell to not be fully charged. Secondly, overcharge warning by Tsurf has a strong lag. During the overcharge, the excessive heat generates from inside of the cell. However, due to the poor heat conduction, the Tsurf is signiﬁcantly lower than inside [15], [37]. The Tsurf in Fig.4(a) is only 33.4 ◦C when it starts to overcharge (3600 s). And it increases slowly after that, and remains lower than 40 ◦C for the ﬁrst few minutes. Although the Tsurf increases sharply at 4100 s, as shown in Fig.5(f), it has been 8 minutes since the overcharge starts. Additionally, the temperatures of the positive and negative current collectors are higher than that of the central area, as shown by the temperature marked in Fig.5(a - e), they do not increase rapidly when the overcharge starts. Thirdly, dynamic impedance is an obvious and timely overcharge indicator. The dynamic impedances at 30, 50, 70, and 90 Hz during the normal charging process decrease slowly in a small range, as shown in Fig.4(b). In 3400 s - 3600 s (200 seconds before the cell is fully charged), the impedance drops faster than before. In 3600 s - 3720 s (2 minutes since overcharge), the impedances increase slowly. After 3720 s, the impedances increase rapidly (much faster than the change of Tsurf at the same time). The impedances of different frequencies remain the same during the whole overcharge stage. The assumption in Section II can be veriﬁed by comparing the dynamic impedance, temperature and bulge. In the normal charging stage, the dynamic impedances decrease slowly with the increasing Tint. In the ﬁrst 2 minutes of overcharge stage, with the aggregation of gas bubbles, the dynamic impedances increase slowly. After the ﬁrst 2 minutes (when it bulges), the dynamic impedances increase sharply due to widened distance between the anode material and the cathode material. Comparing to the voltage and Tsurf , the inﬂection point of impedance is an obvious feature and close to the start of overcharge. Thus, it is revealed that the early warning made by the impedance slope feature is timely and easy-to-identify. It can be seen from Fig.4(b) that the low frequency impedance has a large variation range but long measuring time (the measurement time is inversely proportional to the frequency); and the high frequency impedance has a short measure time but small variation change range. 70 Hz is in the middle of the frequency band 30 Hz - 90 Hz, thus 70 Hz is selected as the impedance frequency in the veriﬁcation experiment. IV. OVERCHARGE WARNING AND TR PREDICTION VERIFICATION EXPERIMENT A. Design of overcharge warning and TR prediction veri- ﬁcation experiment To verify that the early safety warning of LIB can be achieved by the increase of 70 Hz impedance, the following veriﬁcation experiment is conducted. The experimental instru- ments are the same as those of previous research. The test cell is also a LiFePO4 pouch cell with a capacity of 48 Ah. The experimental steps are as follows: 1) The cell is charged from 0% SOC at 1C current in an explosion-proof box. The 70 Hz dynamic impedance is recorded continually, and the voltage, Tsurf , normal image and infrared image are recorded simultaneously. 2) Cut off the charging when the 70 Hz dynamic impedance appears an identiﬁable increase. The experimental devices are the same as the experiment in Section II, and the experimental layout is the same to Fig.3(c). The difference is that the dynamic impedance frequency of this experiment is only 70 Hz. B. Overcharge warning and early TR prediction by 70 Hz impedance increase Fig.6(a) shows the voltage and Tsurf of the cell and Fig.6(b) shows the 70 Hz dynamic impedance recorded in this experi- ment. It can be seen from the detailed image in Fig.7(e) that the Authorized licensed use limited to: Carleton University. Downloaded on June 01,2021 at 17:34:44 UTC from IEEE Xplore. Restrictions apply. 0278-0046 (c) 2021 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information. This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TIE.2021.3062267, IEEE Transactions on Industrial Electronics IEEE TRANSACTIONS ON INDUSTRIAL ELECTRONICS a b Fig. 6. (a) Voltage, Tsurf , (b)70 Hz dynamic impedance and the impedance slope in the overcharge warning and TR prediction exper- iment. a b e dc 12.4 °C 12.4 °C 19.5 °C 30.8 °C 16.1 °C 16.2 °C 25.2 °C 12.4°C 17.9°C 16.5°C 0.913mΩ 0.913mΩ 0.913mΩ0.913mΩ 27.6°C 28.5 °C 3600 s 0 s 1800 s 5400 s Fig. 7. (a-d) Representative optical images of the LFP pouch cell in the overcharge warning and TR prediction experiment, with surface temperatures and 70 Hz impedance attached. (e) Details of 70 Hz dynamic impedance at the overcharge and cut off moment. 70 Hz impedance in the interval of 3400 s to 3800 s decreases rapidly and then starts to increase. The minimum point of impedance is 0.54 mΩ at 3556 s, which is the expected fully charged moment. The charging process is shut down manually at 3596 s (the interval between 3556 s and 3596 s is to conﬁrm that the impedance is increasing continuously). According to the previous research, if the charging continues, the cell would slightly bulge at 3676 s (2 minutes since overcharge starts). Thus, the cut off operation is 80 seconds ahead of the bulge, and 580 seconds ahead of TR. Fig.7(a) shows the front and side views of the cell in the ex- periment, and each front view is marked with the temperatures (representing the temperature at the nearby blue dot location, captured from the inferred camera) and 70 Hz impedances. There is no signiﬁcant difference in the cell’s shape throughout the whole experiment. The result of a subsequent Ah integral testing shows that the cell can undergo normal charge and discharge cycles and its capacity remains at 82.04%. This crucial information indicates that the cell structure has not been destroyed. Therefore, the veriﬁcation experiment proves that it is feasible to realize the early safety warning by capturing the increasing feature of 70 Hz dynamic impedance. As shown in Fig.6(a), the Tsurf and voltage do not provide any information for overcharge warning and TR prediction. The Tsurf remains below 30 ◦C in the short overcharge stage, a b Fig. 8. (a) Voltage, Tsurf , (b) 70 Hz dynamic impedance and the impedance slope in the overcharge prediction experiment. and the voltage has exceeded 3.6 V before overcharge. After the cutting off operation, the Tsurf decreases slowly and ﬁnally returns to the ambient temperature, without a sharp rise like in the previous experiment. This experiment proves that, by capturing the obvious feature that the impedance decreases in normal charging stage and increases during overcharge, and TR accidents can be prevented successfully. the overcharge warning and TR prediction can be realized. Repeatable experiments have been conducted on several pouch cells and hard-shell cells (and both on the old cells), and the reliability of this impedance feature is proved. C. Overcharge prediction by 70 Hz dynamic impedance slope drop off In addition to the conclusion of the above experiments, to ﬁnd a more timely overcharge prediction, the impedance slope |Z| ′ can be speciﬁcally investigated. The impedance slope refers to the impedance growth rate of each sampling point, it is obtained from (10). |Z| ′ = ∆ |Z| ∆t (10) The slope remains between −0.4µΩ/s and 0.4µΩ/s in the normal charging condition, as the blue line in Fig.6(b). During overcharge, the slope drops to −0.7µΩ/s. This feature can be used to predict when it is about to overcharge. An additional experiment is conducted to verify the above feature. The instruments and steps are the same as those of the previous experiment, and the only difference is the cutting off time. In this experiment, the |Z| ′ is calculated in real- time. And the charging is cut off when the impedance shows an identiﬁable decrease (when |Z| ′ is lower than −0.6µΩ/s). After the experiment the capacity of the cell is tested for comparison. The charging starts at 0 s and is cut off at 3085 s, as indicated by the arrow in Fig.8. The voltage and Tsurf , and 70 Hz dynamic impedance are shown in Fig.8(a). The 70 Hz dynamic impedance and |Z| ′ are shown in Fig.8(b). The |Z| ′ drops after 2985 s, and the charging is cut off at 3085 s, which is 515 seconds ahead of the expected fully charged moment (3600 s). Authorized licensed use limited to: Carleton University. Downloaded on June 01,2021 at 17:34:44 UTC from IEEE Xplore. Restrictions apply. 0278-0046 (c) 2021 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information. This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TIE.2021.3062267, IEEE Transactions on Industrial Electronics IEEE TRANSACTIONS ON INDUSTRIAL ELECTRONICS Within a few minutes before overcharging, the internal tem- perature of the cell rises rapidly. During this time, the internal structure of the battery has not been destroyed, and the battery maintains the relationship between impedance and internal temperature (increase in internal temperature causes a decrease in impedance). For the above reasons, the accelerated increase in temperature before overcharging causes a decrease in the impedance slope. Thus, this method can predict overcharge in advance, and can guarantee the capacity while ensuring safety. However, |Z| ′ in the ﬁgure has a large jitter, and this method relies on the threshold of |Z| ′ , which changes with cell’s model and capacity. Thus, the above method based on the feature that the slope turns positive from negative is better than this method. V. CONCLUSIONS The feature that the dynamic impedances in the frequency band of 30 - 90 Hz turns positive from negative when it just starts to overcharge is proposed and veriﬁed in this paper. This feature is easy-to-identify, and requires no complex mathematical model or specially determined parameter, which usually change with the cell’s type and capacity. Taking 70 Hz as the selected frequency, by monitoring the 70 Hz dynamic impedance and cutting off the charging when the impedance slope turns positive, the TR accident can be prevented, and the cell does not release bubbles, bulge or burn. Through an online dynamic impedance measuring device designed by us, this paper realizes the overcharge warning and TR prediction of LIB by capturing the feature in practice. Besides, this device has a low cost and compact size for large-scale applications in EV and BESS. Thus, the dynamic impedances in the frequency band of of 30 - 90 Hz are feasible and reliable to provide real- time overcharge warning and early TR prediction, and enhance the battery safety. ACKNOWLEDGMENT This work was supported through the National Natural Science Foundations of China (Grant 51807180, 51877009). REFERENCES [1] D. Zhou, A. Al-Durra, K. Zhang, A. Ravey, and F. Gao, “A robust prognostic indicator for renewable energy technologies: A novel error correction grey prediction model,” IEEE Transactions on Industrial Electronics, vol. 66, DOI 10.1109/TIE.2019.2893867, no. 12, pp. 9312– 9325, 2019. [2] K. Thirugnanam, S. K. Kerk, C. Yuen, N. Liu, and M. Zhang, “Energy Management for Renewable Microgrid in Reducing Diesel Generators Usage with Multiple Types of Battery,” IEEE Transactions on Industrial Electronics, vol. 65, DOI 10.1109/TIE.2018.2795585, no. 8, pp. 6772– 6786, 2018. [3] Y. Feng, C. Xue, Q. L. Han, F. Han, and J. Du, “Robust Estimation for State-of-Charge and State-of-Health of Lithium-Ion Batteries Using Integral-Type Terminal Sliding-Mode Observers,” IEEE Transactions on Industrial Electronics, vol. 67, DOI 10.1109/TIE.2019.2916389, no. 5, pp. 4013–4023, 2020. [4] M. Y. Kim, C. H. Kim, J. H. Kim, and G. W. Moon, “A chain structure of switched capacitor for improved cell balancing speed of lithium-ion batteries,” IEEE Transactions on Industrial Electronics, vol. 61, DOI 10.1109/TIE.2013.2288195, no. 8, pp. 3989–3999, 2014. [5] Y. Tan, Y. Tan, G. Zhao, and G. Zhao, “Transfer learning with long short-term memory network for state-of-health prediction of lithium-ion batteries,” IEEE Transactions on Industrial Electronics, vol. 67, DOI 10.1109/TIE.2019.2946551, no. 10, pp. 8723–8731, 2020. [6] M. Gholizadeh and F. R. Salmasi, “Estimation of state of charge, unknown nonlinearities, and state of health of a lithium-ion battery based on a comprehensive unobservable model,” IEEE Transactions on Industrial Electronics, vol. 61, DOI 10.1109/TIE.2013.2259779, no. 3, pp. 1335–1344, 2014. [7] R. Xiong, J. Tian, W. Shen, and F. Sun, “A Novel Fractional Order Model for State of Charge Estimation in Lithium Ion Bat- teries,” Ieee Transactions on Vehicular Technology, vol. 68, DOI 10.1109/tvt.2018.2880085, no. 5, pp. 4130–4139, 2019. [8] R. Xiong, S. Ma, H. Li, F. Sun, and J. Li, “Toward a Safer Battery Man- agement System: A Critical Review on Diagnosis and Prognosis of Bat- tery Short Circuit,” iScience, vol. 23, DOI 10.1016/j.isci.2020.101010, no. 4, p. 101010, 2020. [9] X. Hu, J. Jiang, D. Cao, and B. Egardt, “Battery health prognosis for electric vehicles using sample entropy and sparse Bayesian predictive modeling,” IEEE Transactions on Industrial Electronics, vol. 63, DOI 10.1109/TIE.2015.2461523, no. 4, pp. 2645–2656, 2016. [10] S. Wilke, B. Schweitzer, S. Khateeb, and S. Al-Hallaj, “Preventing thermal runaway propagation in lithium ion battery packs using a phase change composite material: An experimental study,” Journal of Power Sources, vol. 340, DOI 10.1016/j.jpowsour.2016.11.018, pp. 51– 59, 2017. [11] T. Wang, K. J. Tseng, J. Zhao, and Z. Wei, “Thermal investigation of lithium-ion battery module with different cell arrangement struc- tures and forced air-cooling strategies,” Applied Energy, vol. 134, DOI 10.1016/j.apenergy.2014.08.013, pp. 229–238, 2014. [12] R. M. Spotnitz, J. Weaver, G. Yeduvaka, D. H. Doughty, and E. P. Roth, “Simulation of abuse tolerance of lithium-ion battery packs,” Journal of Power Sources, vol. 163, DOI 10.1016/j.jpowsour.2006.10.013, no. 2, pp. 1080–1086, 2007. [13] J. Lamb, C. J. Orendorff, L. A. M. Steele, and S. W. Spangler, “Failure propagation in multi-cell lithium ion batteries,” Journal of Power Sources, vol. 283, DOI 10.1016/j.jpowsour.2014.10.081, pp. 517– 523, 2015. [14] R. Xiong, Y. Zhang, J. Wang, H. He, S. Peng, and M. Pecht, “Lithium- Ion Battery Health Prognosis Based on a Real Battery Management System Used in Electric Vehicles,” Ieee Transactions on Vehicular Technology, vol. 68, DOI 10.1109/tvt.2018.2864688, no. 5, pp. 4110– 4121, 2019. [15] Y. Saito, K. Takano, and A. Negishi, “Thermal behaviors of lithium- ion cells during overcharge,” Journal of Power Sources, vol. 97-8, DOI 10.1016/s0378-7753(01)00703-0, pp. 693–696, 2001. [16] R. Spotnitz and J. Franklin, “Abuse behavior of high-power, lithium- ion cells,” Journal of Power Sources, vol. 113, DOI 10.1016/s0378- 7753(02)00488-3, no. 1, pp. 81–100, 2003. [17] G.-H. Kim, A. Pesaran, and R. Spotnitz, “A three-dimensional thermal abuse model for lithium-ion cells,” Journal of Power Sources, vol. 170, DOI 10.1016/j.jpowsour.2007.04.018, no. 2, pp. 476–489, 2007. [18] G. Venugopal, “Characterization of thermal cut-off mechanisms in prismatic lithium-ion batteries,” Journal of Power Sources, vol. 101, DOI 10.1016/s0378-7753(01)00782-0, no. 2, pp. 231–237, 2001. [19] Y. Fu, S. Lu, L. Shi, X. Cheng, and H. Zhang, “Ignition and combustion characteristics of lithium ion batteries under low atmospheric pressure,” Energy, vol. 161, DOI 10.1016/j.energy.2018.06.129, pp. 38–45, 2018. [20] R. Xiong, L. Li, and J. Tian, “Towards a smarter battery man- agement system: A critical review on battery state of health monitoring methods,” Journal of Power Sources, vol. 405, DOI 10.1016/j.jpowsour.2018.10.019, no. 5, pp. 18–29, 2018. [21] X. Feng, X. He, M. Ouyang, L. Lu, P. Wu, C. Kulp, and S. Prasser, “Thermal runaway propagation model for designing a safer battery pack with 25 Ah LiNi Co Mn O2 large format lithium ion battery,” Applied Energy, vol. 154, DOI 10.1016/j.apenergy.2015.04.118, pp. 74–91, 2015. [22] T. Hang, D. Mukoyama, H. Nara, N. Takami, T. Momma, and T. Os- aka, “Electrochemical impedance spectroscopy analysis for lithium-ion battery using Li4Ti5O12 anode,” Journal of Power Sources, vol. 222, DOI 10.1016/j.jpowsour.2012.09.010, pp. 442–447, 2013. [23] J. Zhu, Z. Sun, X. Wei, and H. Dai, “Battery internal temperature estimation for LiFePO4 battery based on impedance phase shift under operating conditions,” Energies, vol. 10, DOI 10.3390/en10010060, no. 1, 2017. [24] J. P. Schmidt, S. Arnold, A. Loges, D. Werner, T. Wetzel, and E. Ivers- Tiff´ee, “Measurement of the internal cell temperature via impedance: Evaluation and application of a new method,” Journal of Power Sources, vol. 243, DOI 10.1016/j.jpowsour.2013.06.013, pp. 110–117, 2013. [25] B. G. Carkhuff, P. A. Demirev, and R. Srinivasan, “Impedance-Based Battery Management System for Safety Monitoring of Lithium-Ion Authorized licensed use limited to: Carleton University. Downloaded on June 01,2021 at 17:34:44 UTC from IEEE Xplore. Restrictions apply. 0278-0046 (c) 2021 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information. This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TIE.2021.3062267, IEEE Transactions on Industrial Electronics IEEE TRANSACTIONS ON INDUSTRIAL ELECTRONICS Batteries,” IEEE Transactions on Industrial Electronics, vol. 65, DOI 10.1109/TIE.2017.2786199, no. 8, pp. 6497–6504, 2018. [26] L. H. Raijmakers, D. L. Danilov, J. P. Van Lammeren, M. J. Lammers, and P. H. Notten, “Sensorless battery temperature measurements based on electrochemical impedance spectroscopy,” Journal of Power Sources, vol. 247, DOI 10.1016/j.jpowsour.2013.09.005, pp. 539–544, 2014. [27] R. Srinivasan, P. A. Demirev, and B. G. Carkhuff, “Rapid mon- itoring of impedance phase shifts in lithium-ion batteries for hazard prevention,” Journal of Power Sources, vol. 405, DOI 10.1016/j.jpowsour.2018.10.014, no. October, pp. 30–36, 2018. [28] R. Srinivasan, B. G. Carkhuff, M. H. Butler, and A. C. Bais- den, “Instantaneous measurement of the internal temperature in lithium-ion rechargeable cells,” Electrochimica Acta, vol. 56, DOI 10.1016/j.electacta.2011.03.136, no. 17, pp. 6198–6204, 2011. [29] J. Zhu, Z. Sun, X. Wei, and H. Dai, “Battery internal temperature estimation for LiFePO4 battery based on impedance phase shift under operating conditions,” Energies, vol. 10, DOI 10.3390/en10010060, no. 1, 2017. [30] R. R. Richardson, P. T. Ireland, and D. A. Howey, “Battery in- ternal temperature estimation by combined impedance and surface temperature measurement,” Journal of Power Sources, vol. 265, DOI 10.1016/j.jpowsour.2014.04.129, pp. 254–261, 2014. [31] R. R. Richardson and D. A. Howey, “Sensorless Battery Internal Temperature Estimation Using a Kalman Filter with Impedance Mea- surement,” IEEE Transactions on Sustainable Energy, vol. 6, DOI 10.1109/TSTE.2015.2420375, no. 4, pp. 1190–1199, 2015. [32] N. S. Spinner, C. T. Love, S. L. Rose-Pehrsson, and S. G. Tuttle, “Expanding the operational limits of the single-point impedance di- agnostic for internal temperature monitoring of lithium-ion batteries,” Electrochimica Acta, vol. 174, DOI 10.1016/j.electacta.2015.06.003, pp. 488–493, 2015. [33] X. Feng, M. Ouyang, X. Liu, L. Lu, Y. Xia, and X. He, “Thermal run- away mechanism of lithium ion battery for electric vehicles: A review,” Energy Storage Materials, vol. 10, DOI 10.1016/j.ensm.2017.05.013, no. May 2017, pp. 246–267, 2018. [34] M. Abedi Varnosfaderani and D. Strickland, “A Comparison of On- line Electrochemical Spectroscopy Impedance Estimation of Batteries,” IEEE Access, vol. 6, DOI 10.1109/ACCESS.2018.2808412, pp. 23 668– 23 677, 2018. [35] J. A. Qahouq and Z. Xia, “Single-Perturbation-Cycle Online Battery Impedance Spectrum Measurement Method with Closed-Loop Control of Power Converter,” IEEE Transactions on Industrial Electronics, vol. 64, DOI 10.1109/TIE.2017.2686324, no. 9, pp. 7019–7029, 2017. [36] S. M. Islam and S. Y. Park, “Precise Online Electrochemical Impedance Spectroscopy Strategies for Li-Ion Batteries,” IEEE Transactions on Industry Applications, vol. 56, DOI 10.1109/TIA.2019.2958555, no. 2, pp. 1661–1669, 2020. [37] A. Boerger, J. Mertens, H. Wenzl, A. B¨orger, J. Mertens, and H. Wenzl, “Thermal runaway and thermal runaway propagation in batteries: What do we talk about?” Journal of Energy Storage, vol. 24, DOI 10.1016/j.est.2019.01.012, no. December 2018, p. 100649, 2019. Nawei Lyu was born in Luoyang, China, in 1995. He received the M.Sc. degree from the School of Electrical Engineering, Zhengzhou University, Zhengzhou, China, in 2014, where he is cur- rently pursuing the Ph.D. degree. His current research interests include energy storage and battery safety. Yang Jin was born in Luoyang, China, in 1989. He received the B.Sc. degree from the School of Electrical Engineering, Zhengzhou University, Zhengzhou, China, in 2012 and the Ph.D. de- gree in Electrical Engineering from the School of Electrical Engineering, Xi’an Jiaotong University, Xi’an, China, in 2017. He is currently an Associate Professor with the School of Electrical Engineering, Zhengzhou University, and Director of Research Center of Grid Energy Storage and Battery Application. He was a joint Ph.D. student with Massachusetts Institute of Technology (MIT), Cambridge, USA, and Stanford University, Stanford, USA in 2014 and 2015, respectively. His research interests include battery energy storage and battery safety. Rui Xiong (S’12-M’14-SM’16) received the M.Sc. degree in vehicle engineering and the Ph.D. degree in mechanical engineering from Beijing Institute of Technology, Beijing, China, in 2010 and 2014, respectively. He is a Professor at the Beijing Institute of Technology, Beijing, China. From 2019 to 2020, he was a Visiting Professor at the Mas- sachusetts Institute of Technology, Cambridge, MA, USA. He has authored more than 100 jour- nal papers, 4 monographs and holds more than 30 patents. His research interests include Intelligent electriﬁed vehicles, energy storage, batteries, digital twin, and machine learning. Dr. Xiong is an IET Fellow. He has been continuously selected as the HIGHLY CITED RESEARCHER from Clarivate Analytics from 2018 to 2020. He was a recipient of the First Prize of Natural Science Award of the Ministry of Education of China in 2018. He serves as the Chairman of the Battery System Subcommittee at IEEE PES Electric Vehicle Satellite Committee-China. He serves as Associate Editors for the IEEE Transactions on Intelligent Transportation System, IET Power Electronics, IET Intelligent Transport Systems, and on the Editorial Board for the Applied Energy and Electrical Engineering. He is also the Chairman of ﬁve international conferences in the ﬁeld of electric vehicles. Shan Miao was born in Shaanxi, China, in 1989. She received the B.S. degree in communication engineering from Northwestern University, Xi’an, China, in 2012, and the Ph.D. degree in electri- cal engineering from Xi’an Jiaotong University, Xi’an, China, in 2018. She is currently working as a Lecturer in electrical engineering with Zhengzhou Univer- sity, Zhengzhou, China. Her research interests include energy storage and power converters. Jinfeng Gao was born in Henan, China, in 1963. He received the B.S. degree in communication engineering, in 1983, the M.S. degree in electri- cal engineering, in 1987, and the Ph.D. degree in electrical engineering, in 2001, from Xian Jiao- tong University, Xian, China. Currently, he is Professor of the School of Electrical Engineering, Zhengzhou University, Zhengzhou, China, where he has engaged in research on nonlinear circuit theory since 1983. Authorized licensed use limited to: Carleton University. Downloaded on June 01,2021 at 17:34:44 UTC from IEEE Xplore. Restrictions apply.","libVersion":"0.3.2","langs":""}