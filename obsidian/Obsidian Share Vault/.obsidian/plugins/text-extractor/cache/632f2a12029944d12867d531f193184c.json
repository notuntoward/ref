{"path":"lit/lit_sources.backup/Yang20battExtShortCircuitNN.pdf","text":"Contents lists available at ScienceDirect Applied Energy journal homepage: www.elsevier.com/locate/apenergy Characterization of external short circuit faults in electric vehicle Li-ion battery packs and prediction using artiﬁcial neural networks Ruixin Yanga,b, Rui Xionga,⁎, Suxiao Maa, Xinfan Linb a National Engineering Laboratory for Electric Vehicles, School of Mechanical Engineering, Beijing Institute of Technology, Beijing 100081, China b Department of Mechanical and Aerospace Engineering, University of California, Davis, CA 95616, USA HIG HLI GHTS • ESC experiments are performed when the whole pack is being charged or discharged. • Experiment results are analyzed to study the mutual inﬂuence between battery cells. • An ANN-based method is proposed to estimate the current through the ESC cell. • A 3D electro-thermal model is used to estimate the temperature rise of the ESC cell. • Validation tests are performed to validate the accuracy of the proposed method. ARTIC L E I NF O Keywords: Lithium-ion battery External short circuit Current prediction Temperature prediction Artiﬁcial neural networks ABSTRAC T To investigate the characteristics of lithium-ion battery packs under the condition that one cell is short-circuited when the whole battery pack is being discharged or charged, systematic battery external short circuit (ESC) experiments are conducted. Since not all battery cells are equipped with current sensors because of the space limitation and manufacturing cost, an artiﬁcial neural network (ANN)-based method is proposed to estimate the current of the short-circuited cell using only the voltage information, which is the feasible practice in electric vehicle application. Furthermore, the estimated current is used to predict maximum temperature increase as well as internal and surface temperature distribution of the ESC cell based on a 3D electro-thermal coupling model. Two experimental groups under constant current charging condition and constant power discharging condition are employed to validate the stability and accuracy of the proposed method. The results indicate that the root- mean-square-error between the estimated and measured current are 3.72 A and 6.61 A under the two validation experiments respectively, and the maximum estimation errors of temperature increase are 4.9 °C and 7.3 °C respectively. 1. Introduction The motivations of reducing fossil fuel dependency and greenhouse gas emissions have accelerated the continuous development and im- provement of new energy vehicles, including electric vehicles (EVs) and hybrid electric vehicles (HEVs) [1]. As a reliable and promising power source for EVs, rechargeable lithium-ion batteries (LiBs) have the ad- vantages of high voltage plateau, no memory eﬀect, high energy/power density, and long cycle life [2]. Recently, however, LiBs safety issues have attracted much attention from governments, industries, and the general public worldwide due to frequent safety accidents in EVs [3]. LiBs safety incidents often occur due to mechanical failure, electrical abuse, and thermal instability. In the case of electrical abuse or faults, multiple failure modes can be coupled to result in complicated me- chanism, which can also trigger more serious subsequent incidents [4–6]. In general, battery electrical faults include four categories: ex- ternal short circuit (ESC), internal short circuit (ISC), over-charging, and over-discharging. Among these faults, the ESC fault may be easily triggered under accidental leakage of water or oil into the battery pack, deformed battery packaging due to external force, and loose connecting plate or wire caused by vehicle vibration, etc. Short circuit could then cause serious exothermic reaction inside the cell. The generated heat could propagate to and aﬀect other surrounding cells, and trigger fur- ther chain exothermic reaction, which would eventually lead to thermal runaway. Therefore, it is necessary to study the ESC fault characteristics of battery packs to provide guidance for subsequent research on https://doi.org/10.1016/j.apenergy.2019.114253 Received 7 July 2019; Received in revised form 22 November 2019; Accepted 23 November 2019 ⁎ Corresponding author. E-mail address: rxiong@bit.edu.cn (R. Xiong). Applied Energy 260 (2020) 114253 Available online 23 December 2019 0306-2619/ © 2019 Elsevier Ltd. All rights reserved. T improving battery safety. 1.1. Literature review and motivations The study on battery short circuit faults usually includes ESC and ISC. Until now, there have been many researches on the battery ISC fault, including performances analysis, modeling, diagnosis and early warning [7–18]. Sun et al. [7] employed the technology of synchrotron X-ray contrast tomography to investigate how the battery is damaged due to developing lithium microstructures as a consequence of ISC. In Ref. [8], abusing tests of external heating, overcharge and short circuit were performed to commercial LiBs of diﬀerent types, chemistries and sizes. The results were used to illustrate the problems that may arise under abusing test conditions. In the ﬁeld of battery ISC modeling re- search, Zhao et al. [9] and Fang et al. [10] developed an electro- chemical-thermal model to simulate the temperature variation and predict the occurrence and onset of thermal runaway. In Ref. [11],a multi-layer 3D thermal model was developed to simulate the tem- perature distribution inside the battery during ISC process. According to the results, in order to alleviate the hot spot phenomenon of ISC, thermal conductivity of integrated layer should be enhanced. Ouyang et al. [16] developed an equivalent parameter and consistency method to detect ISC fault in battery pack, which was validated by a series of experiments. In Ref. [17], a 3D electrochemical-thermal model was proposed to detect ISC for online diagnosis based on the voltage and temperature responses of the battery. Zhang et al. [19] employed a low- pass ﬁltering method combined with recursive least squares to diagnose micro-short circuit. On the other hand, the study on ESC has gradually attracted the attention of researchers. Previous works mainly focused on studying battery cell ESC behaviors, experiment characterization, hazard ana- lysis, modeling, and diagnosis [20–26]. Akos et al. [23] investigated the ESC behaviors of two types of battery material systems under diﬀerent external (short-circuit) resistances. In Ref. [24], it was found that compared with separator thickness and cell energy density, certain battery separator properties such as melt temperature and dimensional stability play a more critical role in overcharge and short circuit. Alexander et al. [25,26] used quasi-isothermal ESC testing method to study the inﬂuence of the material inherent transport properties on the transient short circuit behavior. In our previous works [27,28], the study on modeling, diagnosis, and temperature prediction of ESC fault for battery cells has been introduced in detail. In Ref. [27],an equivalent circuit model (ECM) and a fractional-order model (FOM) were used to simulate the electrical characteristics of the battery cell, and the FOM was employed to detect ESC fault online after showing overwhelming advantages over the ECM. In Ref. [29], authors proposed a multi-fault detection strategy based on an interleaved voltage mea- surement topology and an improved correlation coeﬃcient method to identify diﬀerent types of faults in a series battery pack. The ESC fault of the series connected battery pack was detected based on an improved ECM in our previous work [30], and the proposed scheme had been evaluated by experimental study. According to the above literature review, there are several research gaps in the state of art, shown in Fig. 1. Initially, most existing ESC studies only focused on one single battery cell, while few has in- vestigated the ESC of a whole battery pack under discharging/charging conditions. Therefore, there is insuﬃcient research on the behavior of battery packs in series and/or parallel connection under ESC condition, especially when only one cell is short circuited. It is highly desirable to explore the characteristics of the ESC cell and also its impacts on the rest of the cells in the same battery pack. To ﬁll the gap, in this paper, designed experiments are conducted to study the scenario when one cell is short circuited in a battery pack which is being discharged or charged. Furthermore, studies on ISC or ESC faults were mostly carried out under the assumption that the current information of each cell is available. In reality, however, due to space constraint and cost consideration of a battery pack, it is often impossible to measure the current of every single cell, especially in parallel connected packs. In the absence of cell current information, most developed fault models of ESC and ISC cannot be applied in practice. Therefore, it is desirable that the current of the ESC cell can be estimated from the voltage mea- surement which is generally available for all cells in a pack. 1.2. Original contributions Based on the above analysis, the contributions of this paper can be summarized as three points. (1) Systematic experiments have been conducted to investigate the characteristics of each cell in the battery pack under the ESC condition. In these experiments, one cell is short- circuited when the whole battery pack is being discharged or charged. (2) An ANN-based model is employed to estimate the current of the ESC cell by only using the voltage information, which does not require the assistance from current sensors. (3) The estimated current is used to predict the temperature distribution of the ESC cell based on a 3D electro-thermal model, which can help with early warning of thermal runaway. 1.3. Organization of the paper In Section 2, systematic experiments of four groups are described and the experiment results are analyzed in detail. The method for current and temperature prediction is described in Section 3.In Section 4, data from two experimental validation groups under diﬀerent oper- ating conditions are used to validate the eﬀectiveness of the current and temperature prediction method. Conclusions are summarized in Section 5. 2. Experimental study In order to study the impact of single-cell ESC fault on the battery pack, systematic experiments of several groups were carried out under discharging and charging conditions. To explain the experimental process and results, four groups of representative experimental data will be demonstrated. The second and the fourth groups are the repeat of the ﬁrst and third groups respectively to verify the reproducibility of the ESC fault characteristics. There were eight cells in each experiment and they were connected in 4-series and 2-parallel conﬁguration. In the ﬁrst two groups, battery packs were discharged at a constant current of 4.8A (1C-rate for each cell), while in the latter two groups, battery packs were charged at the same current value (1C-rate for each cell). These tests were conducted under room temperature with all battery cells initialized to 60% SoC. 2.1. Battery cells screening test Screening tests had been conducted to eliminate the inconsistency among the cells as much as possible before they were connected to construct the battery packs. In this way, when analyzing the char- acteristics of a battery pack after ESC abusing tests, it will be easy to exclude the possibility that some phenomena occur due to the original defect of certain battery cell. The screening tests consist of two parts—capacity test and hybrid pulse power characteristic (HPPC) test. The ﬁrst test is used to determine the maximum available capacity and the second one is used to determine the battery ohmic internal re- sistance. Forty Li(NiCoMn)O2 18650-type cylindrical lithium-ion cells were involved in the screening tests and the cell speciﬁcation is shown in Table 1. As illustrated in our previous work [31], the test bench in- cludes a battery cycler (Arbin BT2000) to discharge or charge batteries, a thermal chamber to provide a constant ambient temperature and a host computer for test control and data acquisition. Capacity tests were repeated 4 times and the average results were R. Yang, et al. Applied Energy 260 (2020) 114253 2 regarded as the battery capacity if the deviations between each result and the average were all within 2%. Regression was employed to identify the ohmic internal resistance using data from HPPC tests that are performed at every 10% SoC interval and the average results over all SoC points were used as the battery cell ohmic internal resistance. The average capacity is 2.438Ah and average ohmic internal resistance is 0.035 Ω. Cells with signiﬁcant deviations were excluded and the rest 32 cells were divided into four groups evenly. Cells in each group were then connected to build a battery pack in 4-series and 2-parallel con- ﬁguration. Fig. 2 shows the schematic of the pack and the numbering of cells. 2.2. Experiment platform for ESC fault test As shown in Fig. 3, an experimental platform has been established to investigate the characteristics of a battery pack under single-cell ESC fault when the whole battery pack is being discharged or charged. The platform includes: (1) a specialized ESC test controller which can connect the positive and negative terminals of a cell to trigger ESC using a pneumatic control device; (2) an explosion-proof thermal chamber which can emulate room temperature environment and con- tain accidental explosion; (3) a high-precision measurement and data acquisition system which can collect current information (including the current of the ESC cell, current of the branch circuit 01 with the ESC cell, and current of the branch circuit 02 without the ESC cell), voltage information (including all single-cell voltages and battery pack vol- tage), and temperature information (including all single-cell surface temperatures); (4) a battery test system which can discharge or charge a battery pack under control. Parts of the test platform have been de- scribed in detail in our previous work [30]. The short-circuit resistance of the platform is less than 5 mΩ. In this work, the platform is re- conﬁgured to emulate the occurrence of an ESC fault during actual EV operation. Fig. 1. Research gaps in state of art. Table 1 Speciﬁcations of the NCM battery. Items Speciﬁcation Cathode material Li(NiCoMn)O2 Anode material Graphite Nominal capacity 2450mAh Operating voltage range 2.5 V–4.2 V Maximum discharge rate 3C Operating temperature range −20–60 °C Fig. 2. The schematic diagram of battery pack. R. Yang, et al. Applied Energy 260 (2020) 114253 3 2.3. Analysis of test results The ESC fault experiments were conducted on the four battery packs and the results are shown in Fig. 4 and Fig. 5. The battery packs were discharged under 4.8 A current in Group 1 and Group 2, and charged under the same current in Group 3 and 4. Before the ESC fault occurred, each group of battery packs experienced a period of discharging or charging, resulting in the initial SoC of 56.3%, 56.4%, 85% and 61.6% for the short-circuited cells in Group 1, 2, 3, and 4 respectively. Fig. 4 shows the results of Group 1, including voltages of each cell and the battery pack in subplot (A), current of the ESC cell, branch circuit 01 and branch circuit 02 in (C), and surface temperatures of each cell in (E). Same results for Group 2 are shown in Fig. 4(B), (D) and (F) respectively, showing good repeatability of ESC tests. As shown in Fig. 4(A), when the battery pack was discharged with a constant current of 4.8A, the pack voltage decreased slowly over time, until dropping suddenly at around 150 s. This is when cell 02 was short circuited externally, which can also be seen from the sudden drop of the red curve in Fig. 4(A). In order to balance the voltages of the two branches which are in parallel, cell 01, cell 03 and cell 04 were charged (with voltages going up), whereas cell 05, cell 06, cell 07 and cell 08 were discharged (with voltages going down). Therefore, it is seen from Fig. 4(C) that when the ESC fault occurred, the current of branch circuit 01 decreased considerably while that of branch circuit 02 increased considerably (suppose positive current for discharging). It is also clear from Fig. 4(A) and (C) that the ESC fault lasted for around 30 s, as the voltage of the ESC cell went close to 0 afterwards indicating cell failure. Due to the charging of the short-circuited branch 01 on top of the continuous discharging of the whole pack, cells in branch 02 experi- enced diﬀerent degrees of over discharging after around 550 s. Even- tually as branch 01 and branch 02 came close to balance due to the higher resistance of branch 02 than that of branch 01, the latter carried the whole discharging current (4.8A) of the battery pack as can be seen in Fig. 4(C). Meanwhile, temperatures of single cells in the Group 1 are shown in Fig. 4(E), being divided into three sets. The ﬁrst set is just cell 02 which is subject to ESC fault. Its surface temperature went up drastically within a short time after ESC occurred, similar to the previous cell-level ESC test [27]. The maximum temperature was around 110 °C. The second set includes cells in branch 02. Since these cells experienced severe discharging according to the current data in Fig. 4(C), their temperatures increased signiﬁcantly, as seen in Fig. 4(E). Particularly, cell 05 reached a maximum temperature of more than 70 °C since it experienced the most seriously over discharging condition, as shown in Fig. 4(A). The third set includes cells in branch 01 excluding cell 02. These cells were charged moderately during the ESC process and the temperatures saw mild gradual increase. The results of Group 2 are shown in Fig. 4(B), (D) and (F), showing similar and repeatable pat- terns. Fig. 5 shows the results for Group 3 and 4 battery packs which were subject to single cell (cell 02) ESC fault under charging condition. In general, voltage, current and temperature behaviors of the two groups were similar to those of Group 01 and Group 02. It is clear to see that cells in branch 01 were overcharged after the ESC fault occurred, while the cells in branch 02 got discharged severely. As is shown in Fig. 5(A) and (B), cell 01 in Group 3 and cell 04 in Group 4 experienced the most serious overcharging fault, respectively. Some conclusions can be made based on the above experimental results. Firstly, compared with our previous study [27,28], the beha- viors of the ESC cell in a battery pack that is being discharged or charged are similar to those of a single ESC cell. Secondly, no matter a battery pack is charged or discharged, when one cell in the pack is short-circuited, cells in the branch without the ESC cell experience se- vere continuous discharging while cells in the other branch are charged to balance the voltages of the two branches. Thirdly, cells in the branch without the ESC cell can be subject to over-discharge fault when the whole battery pack is being discharged, and cells in the branch with the ESC cell can be subject to over-charge fault when the whole battery Fig. 3. Battery Pack ESC fault test platform. R. Yang, et al. Applied Energy 260 (2020) 114253 4 pack is being charged. In summary, the single-cell ESC fault has great inﬂuence on other cells in the same pack and the inﬂuence depends on the external operation condition of the whole battery pack. 3. Modeling and prediction of pack ESC faults 3.1. ANN-based current prediction Artiﬁcial Neural Network is a mathematical model based on the imitation of the human brain neural structure. It is a black-box-based approach which does not require prior knowledge about the internal dynamics of a physical system [32,33]. Due to the ability of self- learning, fast searching, associative memory, and high-ﬁdelity non- linear mapping, the ANN can be used to accurately and eﬀectively capture nonlinear relationships that are diﬃcult to model. For battery ESC faults, it is typically diﬃcult to characterize the dramatic changes on voltage, current and temperature accurately using traditional modeling methods. If one certain battery cell is short circuited in a battery pack when the pack is being discharged or charged, the failure of the ESC cell would be aﬀected by not only its own discharge abusing behavior, but also the external bus power supply and other cells connected with the ESC cell in the same pack, which can be proved in Section 2. In addition, it is also diﬃcult to know the current ﬂowing through the ESC cell because there are a large number of cells in a battery pack and it is unrealistic to measure the current of every single cell. Voltage measurement, on the other hand, is usually available for each cell as a standard practice. In this paper, a back-propagation neural network (BPNN) model is employed to predict the ESC cell current based on the measured voltage information. BPNN employs the technique of steepest descent for training based on the gradient of the loss function with respect to the network parameters [32]. The procedure of BPNN implementation is summarized in Table 2 brieﬂy, where (xi, yi) represents input and output pair, f represents the activation function of the hidden layer, and η represents the learning rate. The neural network needs to be trained by adjusting the parameters, including weights and bias, to minimize a loss function, which is typi- cally the sum of squared errors over the training dataset. The training dataset is from the experimental results of four groups in Section 2. After the ESC fault occurs, the measured voltage and current of short- circuited cells are the input and output of the BPNN model respectively. The structure of the neural network used in this paper is shown in Fig. 6. As shown in Fig. 6, the number of input neurons is 5 and the number of output neurons is 1. The current at time instant t is de- termined by the voltages at time instant t and the previous four time intervals. The sampling interval is 0.02 s. The number of the hidden layer nodes is 18, the number of epochs is 500, the learning rate is 0.1, and validation checks are 500. After the above training process, the obtained BPNN needs to be validated using a new validation dataset to test its prediction capability. Fig. 4. Voltages, currents and temperatures of battery packs under discharging and ESC conditions (Group 1 and Group 2). R. Yang, et al. Applied Energy 260 (2020) 114253 5 The whole procedure is summarized in Table 2, including the de- termination of the structure of the BPNN, training, and validation of the trained BPNN. Since there is a clear correlation between current and voltage of the ESC cell as observed from the experiment results, a BPNN model would be trained based on the experimental data to estimate the current based on the voltage measured online without direct current measurement. 3.2. Coupled Electro-thermal model-based temperature estimation As mentioned previously, it is unrealistic to instrument current sensors for each cell in a battery pack and the same is true for tem- perature measurement. In general, there are very few temperature sensors in a battery module, and the cell-to-sensor ratio is often as low as 10:1 [34,35]. When the ESC fault occurs at one cell in a battery pack, a large amount of heat can be generated and released in a short period of time. This may cause exothermic chain reaction of the ESC cell as Fig. 5. Voltages, currents and temperatures of battery pack under charging and ESC condition (Group 3 and Group 4). Table 2 Procedure of BPNN implementation. Step 1. Initialize the network Step 2. Calculate the output of each hidden layer node Hj, weights between the hidden and input layerωijand hidden layer bias aj =∑ − = = Hf ω x a j l( ) 1, 2, ...,j i n ij i j 1 (1) Step 3. Calculate the output of output layer Ok, weights between the output and hidden layerωjkand output layer bias bk =∑ − = = O Hω b k m1, 2, ...,k j l jjk k 1 (2) Step 4. Calculate the output error ek =− =e YO k m1, 2, ...,kk k (3) Step 5. Update the weightsωijandωjk based on back propagation =+ − ∑ = = ω ωηH H x i ω e i n(1 ) ( ) 1, 2, ...,ij ij j j k m jk k 1 (4) =+ = =ω ωηH e j l k m1, 2, ..., ; 1, 2, ...,jk jk j k (5) Step 6. Update the bias aj and bk based on backpropagation =+ − ∑ = = a aηH H ω e j l(1 ) 1, 2, ...,jj j j k m jk k 1 (6) =+ =b be k m1, 2, ...,kk k (7) Step 7. Determine whether the training ends, if not, move on to the next data point (xi+1, yi+1) and start over at Step 2. R. Yang, et al. Applied Energy 260 (2020) 114253 6 well as the neighboring cells, and eventually trigger thermal runaway at the pack level. Therefore, it is necessary to estimate the maximum temperature increase of the ESC cell to generate an early safety warning and prevent catastrophic accidents. In this paper, a coupled 3D electro-thermal model is employed to estimate the temperature increase of the ESC cell based on the current predicted by the BPNN model. The 3D heat equation for a cylindrical cell takes the form ∂ ∂ = ∂ ∂ ⎛ ⎝ ∂ ∂ ⎞ ⎠ + ∂ ∂ + ∂ ∂ += +ρC T t λ rr r T r λ r T φ λ T z qq q q̇ , ̇ ̇ ̇ r φ z tt B s2 2 2 2 2 (8) where ρ and C represent the average density and speciﬁc heat capacity respectively; λ λλ,, andrφ z represent the eﬀective thermal conductivity along the direction of rφ z,, and under cylindrical coordinates re- spectively; q qq̇ , ̇ , ̇tB s represent the total, main reaction and side reaction heat generation rate respectively per unit volume; T represents the temperature distribution of the battery cell. Considering convective heat transfer at the battery surface against the ambient, the boundary condition is: − ∂ ∂ =− ∞λ T r hT T( ) (9) where λ represents the thermal conductivity of cell surface material; h represents convective heat transfer coeﬃcient and ∞T is the ambient temperature. In the heat Eq. (8), the heat generation term is q̇t. Rearding the main reaction heat generation qB, which is dominant under normal charging/ discharging conditions, Bernaidi et al. [36] proposed a model for computation as: =− − ⎛ ⎝ ⎞ ⎠ q I V UU I V T U T ̇ () d d B oc oc (10) where I represents the operating current, V represents volume of the battery; U and Uoc represent the terminal voltage and open circuit voltage (OCV); U T d d oc is the coeﬃcient of the entropic heat. In Eq. (10), the ﬁrst and the second term on the right denote the Joule heat and the reversible entropic heat respectively. The second term is much smaller than the ﬁrst one especially under high current, which is typical of ESC fault. Furthermore, under the ESC condition, battery is subject to exothermic side reactions. In general, side reactions include Solid electrolyte interface (SEI) decomposition, the dissolusion of active materials of negative electrode in electrolyte (Negative-solvent reaction), the decomposition of active materials in positive electrode, and electrolyte decomposition [37]. Based on temperature rise results in ESC test and research results in Refs. [3,37,38], side reactions in ESC abusing mainly include SEI decomposition and negative-solvent reac- tion. The governing equation of SEI decomposition is shown as: =× ⎛ ⎝ − ⎞ ⎠ ×= × ×kA E RT cQ H W kexp ,SS a,S SS S C S (11) where kS denotes the decomposition rate of SEI, AS is the pre-ex- ponential facter, Ea,S is the activation energy, R = 8.314 J⋅mol −1⋅K−1 is the ideal gas constant, T is the temperature. cS is the nomalized con- centration of SEI, QS is exothermic power per unit volume, HS is SEI decomposition heat release, and Wc speciﬁc carbon content in jellyroll. The governing equation of negative-solvent reaction is expressed as: ⎜⎟=× ⎛ ⎝ − ⎞ ⎠ ×× ⎛ ⎝ − ⎞ ⎠ =× ×kA E RT c t t QH W kexp exp , a CNN ,N N S S,ref NN N (12) where kN denotes the dissolusion rate of active materials of negative electrode, AN is the pre-exponential facter, Ea,N is the activation energy, cN is the dimensionless amount of lithium intercalated within the carbon, tS is the average thickness of the SEI layer, tS,ref is the reference thickness. QN is exothermic power per unit volume, and HN is negative- solvent reaction heat release. 4. Validation of proposed method 4.1. Validation dataset Two validation experiments have been conducted on two new bat- tery packs to validate the proposed method. The conﬁguration of the packs is the same as before. In the ﬁrst experiment, cell 02 was short- circuited when the pack was being charged under 4.8 A. In the second experiment, since constant power discharging is a very common oper- ating mode of EVs, the battery pack was discharged under a constant power of 75 W (instead of the previous constant current discharging condition) and cell 02 was short-circuited during the process. Accordingly, before the ESC fault, the initial SoCs of two ESC cells were 61.5% and 57.8% in the ﬁrst and second validation experiments, re- spectively. The test results are shown in Fig. 7, which are used to va- lidate the proposed method for current prediction and temperature prediction of the ESC cell. 4.2. Current prediction The validation dataset in Section 4.1 is used to validate the pro- posed current prediction method and the results are shown in Fig. 8. As shown in Fig. 8, (A) is results of the ﬁrst validation experiment and (B) is results of the second one. In two subgraphs, the green and yellow curves represent the measured and estimated current through the ESC cell respectively. It is clear from the two subgraphs that the two curves ﬁt well generally. As shown in Fig. 8(A), under the constant current charging condition, excellent accuracy can be achieved in current prediction. The current prediction error between the measured and estimated current is always within a certain value, as shown in the inset. The maximum error and root-mean-square error (RMSE) are 5.19 A and 3.72 A respectively. The two values are only 4.8% and 3.4% of the maximum short-circuit current respectively. As shown in Fig. 8(B), under the constant power discharging condition, the maximum current prediction error is 13.35 A. Even though the maximum error is 11.8% of the maximum current, most errors are less than 6 A after 5 s (5.3% of the maximum current) and the predicted trend is very close to the ac- tual one over the entire discharging interval. The RMSE between the measured and estimated current is 6.61 A, which is 5.8% of the max- imum current. Based on these results, it can be concluded that the proposed method can estimate the current of the ESC cell in a battery pack using only the voltage information with adequate accuracy, which is practical and important for EV applications. The generalization capability of the proposed method can also be veriﬁed because the validation dataset considers three factors to be diﬀerent from the training dataset. Firstly, the battery packs in Fig. 6. Structure of neural network. R. Yang, et al. Applied Energy 260 (2020) 114253 7 validation and training dataset are totally diﬀerent. Secondly, the initial SoCs of short-circuited cell are diﬀerent, being 56.3%, 56.4%, 85% and 61.6% for the training dataset, as well as 61.5% and 57.8% for the validation dataset. Finally, in the training dataset, working conditions are 4.8A discharging or charging, while working conditions are 75 W discharging and 4.8A charging. 4.3. Temperature increase prediction In this section, the estimated current obtained in the previous sec- tion is used to estimate the temperature increase of the ESC cell. The 3D electro-thermal model developed in Section 3.2 is employed to compute the temperature increase using the predicted current information. The parameters of side reactions can be obtained from the Ref. [37,38] and other parameters in the model are referred to Ref. [39]. Based on the model equations in (8)–(12), the main reaction heat generation rate is computed using the estimated and measured current, being shown and compared in the Fig. 9. The side reaction heat generation rate is com- puted using estimated current is shown in the inset of the Fig. 9. It can be seen from Fig. 9 that in the two validation groups, the main reaction heat generation computed with the estimated current matches well with that computed with the measured current. In both groups, side reaction only accounts for a small part of the total heat generation under the ESC condition. In the both two groups under constant current charging and constant power discharging, SEI decomposition represents the largest part of the heat generated by side reactions. It is reasonable Fig. 7. Voltages, currents and temperatures for battery packs under Validation Tests. Fig. 8. Current prediction results for two groups. R. Yang, et al. Applied Energy 260 (2020) 114253 8 because when the battery experiences temperature rising under the ESC condition, the SEI decomposition occurs before negative-solvent reac- tion. Based on the heat generation rate calculated above and the thermal model in Eqs. (8) and (9), the simulation software COMSOL Multi- physics was employed to simulate the temperature distribution of the ESC cell and the results are shown in Fig. 10. Speciﬁcally, Fig. 10 (1) and (2) demonstrate the comparison of the estimated and measured ESC cell surface temperature under the two operating conditions; (3)–(5) and (9)–(11) show the temperature distribution of the ESC cell over its cross section and surface at 2 s, 10 s and 20 s respectively after the ESC fault occurs under the constant charging condition; (6)–(8) and (12)–(14) show relevant results under constant power discharging. In general, it is clear from Fig. 10 (1) and (2) that the estimated temperature is in good agreement with the measured temperature. The maximum error between estimation and measurement is 4.9 °C under 4.8 A constant current charging, which accounts for only 4.5% of the maximum temperature. Under 75 W constant power discharging, the maximum error is 7.3 °C, or 7.2% of the maximum temperature. It is noted that these results were obtained without the assistance of a cur- rent sensor, and the achieved accuracy can be considered as acceptable to provide the reference of thermal runaway prediction. In addition, we can easily see from Fig. 10 (3)–(14), as the ESC continues, the tem- perature rise spreads rapidly from the inside of the battery to the sur- face and the temperature near the negative tab is slightly higher than the temperature near the positive tab. 5. Conclusion In this paper, the response of a battery pack is studied when one cell is externally short circuited while the whole pack is being discharged or charged. The analysis is conducted on 4 series-2 parallel connected battery packs. Experiment results showed good repeatability under the same operating conditions and the inﬂuences of the ESC cell on other cells in the battery pack are analyzed in detail. A BPNN-based current prediction method is proposed to estimate the current through the ESC cell using only the voltage information. The BPNN model is trained based on one experiment dataset and validated by two validation ex- periments under diﬀerent operating conditions. The RMSE between the estimated and measured current is 3.72 A under constant current charging condition and 6.61 A under constant power discharging con- dition. The results indicate that the proposed method can estimate the ESC current accurately and eﬃciently using only the voltage informa- tion, which is practical for EV application. The estimated current was then used to predict the temperature rise of the ESC cell based on a 3D electro-thermal battery model, which was compared with experimental measurement. The results indicate that the maximum surface tem- perature of the ESC cell can be estimated accurately without the need of a current sensor or temperature sensor, which can provide guidance for the design of battery safety management. Fig. 9. Main and side reaction heat generation rate of two validation tests. Fig. 10. Temperature Prediction results under two validation tests. R. Yang, et al. Applied Energy 260 (2020) 114253 9 CRediT authorship contribution statement Ruixin Yang: Conceptualization, Methodology, Software, Validation, Writing - original draft. Rui Xiong: Conceptualization, Data curation, Formal analysis, Funding acquisition, Methodology, Supervision, Writing - review & editing. Suxiao Ma: Data curation, Investigation. Xinfan Lin: Supervision, Writing - review & editing. Declaration of Competing Interest The authors declare that they have no known competing ﬁnancial interests or personal relationships that could have appeared to inﬂu- ence the work reported in this paper. Acknowledgments This work was supported in part by the National Science Foundation for Excellent Young Scholars of China (Grant No. 51922006). The systemic experiments of batteries were performed at the Advanced Energy Storage and Application (AESA) Group, Beijing Institute of Technology. References [1] Xiong R, Li L, Tian J. Towards a smarter battery management system: A critical review on battery state of health monitoring methods. J Power Sources 2018;405:18–29. [2] Lyu C, Lai Q, Ge T, Yu H, Wang L, Ma N. A lead-acid battery's remaining useful life prediction by using electrochemical model in the Particle Filtering framework. Energy 2017;120:975–84. [3] Ren D, Feng X, Lu L, He X, Ouyang M. Overcharge behaviors and failure mechanism of lithium-ion batteries under diﬀerent test conditions. Appl Energy 2018;228:633–44. [4] Ren D, Liu X, Feng X, Lu L, Ouyang M, Li J, et al. Model-based thermal runaway prediction of lithium-ion batteries from kinetics analysis of cell components. Appl Energy 2018;228:633–44. [5] Coman P, Darcy E, Veje C, White R. Numerical analysis of heat propagation in a battery pack using a novel technology for triggering thermal runaway. Appl Energy 2017;203:189–200. [6] Xiong R, Yu Q, Shen W, Lin C, Sun F. A Sensor Fault Diagnosis Method for a Lithium- Ion Battery Pack in Electric Vehicles. IEEE Trans on Power Electron 2019;34(10):9709–18. [7] Sun F, Moroni R, Dong K, Markötter H, Zhou D, Hilger A, et al. A Study of the mechanisms of internal short circuit in a Li/Li cell by synchrotron X-ray phase contrast tomography. ACS Energy Lett 2017;2(1):94–104. https://doi.org/10.1021/ acsenergylett.6b00589. [8] Larssona F, Mellander B. Abuse by external heating, overcharge and short circuiting of commercial lithium-ion battery cells. J Electrochem Soc 2014;161(10):A1611–7. [9] Zhao R, Liu J, Gu J. Simulation and experimental study on lithium ion battery short circuit. Appl Energy 2016;173:29–39. [10] Fang W, Ramadass P, (John) Zhang Z. Study of internal short in a Li-ion cell-II. Numerical investigation using a 3D electrochemical-thermal model. J Power Sources 2014;248:1090–8. [11] Chen M, Bai F, Song W, Lv J, Lin S, Feng Z, et al. A multilayer electro-thermal model of pouch battery during normal discharge and internal short circuit process. Appl Therm Eng 2017;120:506–16. [12] Yamanaka T, Takagishi Y, Tozuka Y, Yamaue T. Modeling lithium-ion battery nail penetration tests and quantitative evaluation of the degree of combustion risk. J Power Sources 2019;416:132–40. [13] Chen M, Bai F, Lin S, Song W, Li Y, Feng Z. Performance and safety protection of internal short circuit in lithium-ion battery based on a multilayer electro-thermal coupling model. Appl Therm Eng 2019;146:775–84. [14] Wang L, Yin S, Xu J. A detailed computational model for cylindrical lithium-ion batteries under mechanical loading: From cell deformation to short-circuit onset. J Power Sources 2019;413:284–92. [15] Abaza A, Ferrari S, Wong H, Lyness C, Moore A, Weaving J, et al. Experimental study of internal and external short circuits of commercial automotive pouch li- thium-ion cells. J Power Sources 2018;16:211–7. [16] Ouyang M, Zhang M, Feng X, Lu L, Li J, He X, et al. Internal short circuit detection for battery pack using equivalent parameter and consistency method. J Power Sources 2018;294:272–83. [17] Feng X, Weng C, Ouyang M, Sun J. Online internal short circuit detection for a large format lithium ion battery. Appl Energy 2016;161:168–80. [18] Lai X, Zheng Y, Zhou L, Gao W. Electrical behavior of overdischarge-induced in- ternal short circuit in lithium-ion cells. Electrochim Acta 2018;278:245–54. [19] Zhang Z, Kong X, Zheng Y, Zhou L, Lai X. Real-time diagnosis of micro-short circuit for Li-ion batteries utilizing low-pass ﬁlters. Energy 2019;166:1013–24. [20] Spotnitz R, Franklin J. Abuse behavior of high-power, lithium-ion cells. J Power Sources 2003;113(1):81–100. [21] Feng X, Zheng S, et al. Investigating the thermal runaway mechanisms of lithium- ion batteries based on thermal analysis database. Appl Energy 2019;246:53–64. [22] Sheikh M, Rehman S, Elkady M. Numerical simulation model for short circuit prediction under compression and bending of 18650 cylindrical lithium-ion battery. Energy Procedia 2018;151:187–93. [23] Kriston A, Pfrang A, Döring H, Fritsch B, Ruiz V, Adanouj I, et al. External short circuit performance of Graphite-LiNi1/3Co1/3Mn1/3O2 and Graphite- LiNi0.8Co0.15Al0.05O2 cells at diﬀerent external resistances. J Power Sources 2017;361:170–81. [24] Wang E, Wu H, Chiu C, Chou P. The eﬀect of battery separator properties on thermal ramp, overcharge and short circuiting of rechargeable Li-Ion batteries. J Electrochem Soc 2019;166:A125–31. [25] Rheinfeld A, Noel A, Wilhelm J, Kriston A, Pfrang A, Jossen A. Quasi-isothermal external short circuit tests applied to lithium-ion cells: Part I. Measurements. J Electrochem Soc 2018;165(14):A3427–48. [26] Rheinfeld A, Sturm J, Noel A, Wilhelm J, Kriston A, Pfrang A, et al. Quasi-iso- thermal external short circuit tests applied to lithium-ion cells: Part II. modeling and simulation. J Electrochem Soc 2019;166(2):A151–77. [27] Yang R, Xiong R, He H, Chen Z. A fractional-order model-based battery external short circuit fault diagnosis approach for all-climate electric vehicles application. J Cleaner Prod 2018;187:950–9. [28] Chen Z, Xiong R, Lu J, Li X. Temperature rise prediction of lithium-ion battery suﬀering external short circuit for all-climate electric vehicles application. Appl Energy 2018;213:375–83. [29] Kang Y, Duan B, Zhou Z, Shang Y, Zhang C. A multi-fault diagnostic method based on an interleaved voltage measurement topology for series connected battery packs. J Power Sources 2019;417:132–44. [30] Xiong R, Yang R, Chen Z, Shen W, Sun F. Online fault diagnosis of external short circuit for lithium-ion battery pack. IEEE Trans Ind Electron 2020;67(2):1081–91. [31] Yang R, Xiong R, He H, et al. A novel method on estimating the degradation and state of charge of lithium-ion batteries used for electrical vehicles. Appl Energy 2017;207:336–45. [32] Hussein A. Capacity fade estimation in electric vehicle Li-ion batteries using arti- ﬁcial neural networks. IEEE Trans Ind Appl 2015;51(3):2321–30. [33] Lai X, Qiao D, Zheng Y, Yi W. A novel screening method based on a partially dis- charging curve using a genetic algorithm and back-propagation model for the cascade utilization of retired lithium-ion batteries. Electronics 2018;7(399). https://doi.org/10.3390/electronics7120399. [34] Lin X, Perez H, Siegel J, Stefanopoulou A. Robust estimation of battery system temperature distribution under sparse sensing and uncertainty. IEEE Trans Control Syst Technol 2019. https://doi.org/10.1109/TCST.2019.2892019. [35] Lin X, Kim Y, Mohan S, Siegel J, Stefanopoulou A. Modeling and estimation for advanced battery management. Annual Rev Control Robot Auton Syst 2019;2:393–426. [36] Bernardi D, Pawlikowski E, Newman J. General energy balance for battery systems. J Electrochem Soc 1984;132:5–12. [37] Kim G, Pesaran A, Spotnitz R. A three-dimensional thermal abuse model for lithium- ion cells. J Power Sources 2007;170:476–89. [38] Biensan P, Simon B, Peres J, De Guibert A, Broussely M, Bodet J, et al. On safety of lithium-ion cells. J Power Sources 1999;81:906–12. [39] Santhanagopalan S, Ramadass P, Zhang JZ. Analysis of internal short-circuit in a lithium ion cell. J Power Sources 2009;194(1):550–7. R. Yang, et al. Applied Energy 260 (2020) 114253 10","libVersion":"0.3.2","langs":""}