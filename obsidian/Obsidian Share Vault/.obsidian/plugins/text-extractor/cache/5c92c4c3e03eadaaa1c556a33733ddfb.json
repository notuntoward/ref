{"path":"lit/sources/papers_added/papers/Zhang14trnFreeLoadMonLowSamp.pdf","text":"arXiv:1404.5020v2 [cs.OH] 7 Aug 2014 Training-Free Non-Intrusive Load Monitoring of Electric Vehicle Charging with Low Sampling Rate Zhilin Zhang∗, Jae Hyun Son, Ying Li, Mark Trayer, Zhouyue Pi Samsung Research America – Dallas 1301 E. Lookout Drive, Richardson, TX 75082, USA ∗Email: zhilinzhang@ieee.org Dong Yoon Hwang, Joong Ki Moon Smart Home Solution Lab Samsung Electronics Inc. Suwon, Kyeong-gi-do, Korea Abstract—Non-intrusive load monitoring (NILM) is an im- portant topic in smart-grid and smart-home. Many energy disaggregation algorithms have been proposed to detect various individual appliances from one aggregated signal observation. However, few works studied the energy disaggregation of plug- in electric vehicle (EV) charging in the residential environment since EVs charging at home has emerged only recently. Recent studies showed that EV charging has a large impact on smart- grid especially in summer. Therefore, EV charging monitoring has become a more important and urgent missing piece in energy disaggregation. In this paper, we present a novel method to disaggregate EV charging signals from aggregated real power signals. The proposed method can effectively mitigate interference coming from air-conditioner (AC), enabling accurate EV charging detection and energy estimation under the presence of AC power signals. Besides, the proposed algorithm requires no training, demands a light computational load, delivers high estimation accuracy, and works well for data recorded at the low sampling rate 1/60 Hz. When the algorithm is tested on real-world data recorded from 11 houses over about a whole year (total 125 months worth of data), the averaged error in estimating energy consumption of EV charging is 15.7 kwh/month (while the true averaged energy consumption of EV charging is 208.5 kwh/month), and the averaged normalized mean square error in disaggregating EV charging load signals is 0.19. Keywords—Non-intrusive load monitoring (NILM); Electric Vehicle (EV); Smart Grid; Energy Disaggregation I. INTRODUCTION Non-intrusive load monitoring (NILM) or non-intrusive appliance load monitoring (NIALM) is an important solution to realize smart-grid and smart-home energy management beneﬁts. It aims to estimate operation status and energy consumption of individual electronic appliances by monitoring aggregated current/voltage/power signals in the main circuit panel of a house or a building [1]–[3]. Electric vehicle (EV) charging is becoming an important load element for smart grid analysis [4]–[6] although home charging EVs recently entered the market. Due to the growing number of the EV customers, a utility might start to experience non-marginal impacts on parts of its distribution system. Particularly, the gravity of this impact will depend on at what time, for how long, with what utility rate, and in what season these EVs are being charged [7]. Therefore, it is necessary to solicit the importance and urgency of monitoring EV charging load via energy disaggregation. Another usage of monitoring EV charging load is to provide house owners the monthly energy consumption of EV 0 500 1000 0 1 2 3 4Power (kw) Time Index (min.) (a) EV Power Signal 200 400 600 800 1000 1200 1400 0 0.5 1 1.5 2 2.5 3 3.5 4Power(kw) Time Index(min.) (b) AC Power Signal Fig. 1. (a) An EV power signal. (b) An AC power signal exhibiting two kinds of waveform patterns, i.e. spike trains and lumps. charging. This monthly feedback information can help house owners in bill-management and travel-management in the same way as monthly gas bill and conventional monthly electricity bill [8]. There are many algorithms available for the energy disag- gregation of various residential appliances [1]–[3], [9]–[14], such as hidden Markov model(HMM) algorithms [10], [11], [13]. However, these algorithms were not speciﬁcally designed for EV charging, and they require extensive training and a large computational load. Therefore, for practical implementation where simultaneously monitoring tens of thousands houses is required, those algorithms may not be an attractive solution. In this paper, a novel algorithm for energy disaggregation of EV charging is presented. It has several desired advantages. (1) It can mitigate the interference coming from air-conditioner (AC) power signals. Thus, it could be very helpful for smart grid load analysis and management during peak load time in summer. (2) It does not require training, which is an highly attractive feature toward practical implementation. (3) It de- mands a light computational load, thus suitable for monitoring tens of thousands residual houses in large scale. (4) It works well for data sampled at 1/60 Hz, which aligns with the data provision capability of many smart-meters. Experiments based on real-world power data showed that it exhibits far better performance than state-of-the-art algorithms. II. CHALLENGES One big challenge of disaggregating an EV charging load from aggregated power signals is mitigating interference from AC. As shown in Fig.1(a), an EV charging load signal can be characterized as a square wave of a high amplitude (higher than 3 kW) and a long duration (longer than 30 minutes but generally shorter than 200 minutes) [5]. AC power signals usually exhibit two kinds of waveform patterns. One pattern resembles a spike train with very short durations (e.g. the train of waves from the 1st to 700-th minutes in Fig.1(b)). Another waveform pattern resembles a rectangular waveform of a high and slowly ﬂuctuating amplitude and a long duration (e.g. the two lumps from the 700-th to 1200-th minutes in Fig.1(b)). This waveform pattern can seriously affect disag- gregation performance of EV charging load signals due to the difﬁculty of distinguishing the AC waveform pattern from EV charging load signals, especially in the presence of other appliances' power signals and highly ﬂuctuating residual n oise. For notational convenience, this kind of AC waveforms will be called as AC lumps. Another challenge lies with the aggregated data themselves of being real power signals sampled at 1/60 Hz. At this sampling rate, many useful appliance signatures [15]–[17] such as transient characteristics available from high sampling rates no longer exist, which limits pattern recognition tools to render accurate disaggregation results. The third challenge is the lack of ground-truth of EV charging load signals for each house and its large variation across different houses. To obtain the ground-truth of EV charging load signals in a given house, it requires to install sub-meter sensors to record these signals. However, it is unpractical to install such sub-meter sensors in every house. Thus, when disaggregating EV charging load from aggregated power signals in a given house, there is no training set (i.e., a collection of ground-truth of EV charging load signals in the house) available to train an algorithm. On the other side, EV charging load signals have large variation across different houses. For example, EV charging load signals could have different amplitudes (although always higher than 3 kW), dif- ferent width (i.e., charging duration), and different appearance time from house to house. As a result, an algorithm working well for a given house may perform poorly for another house. In summary, a practical algorithm should work well for various houses and every season (especially the summer), and should not require training sets. But due to the above issues, to achieve high disaggregation accuracy of EV charging load is truly challenging. III. PROPOSED ALGORITHM This section will describe the proposed algorithm in detail. A one-day aggregated power signal (taken from the Pecan Street Database [18]) is chosen for illustration purpose (see Fig.2(a)). A. Step 1: Thresholding the Aggregated Signal For a given aggregated signal x(t), ﬁrst, a threshold Tlow is applied to obtain a rough estimate of the EV charging load signal: x shorter than the threshold. However, it is not easy to ﬁnd a suitable duration threshold to remove all these spikes due to the varying nature of an AC spike duration (see Fig.2(b)). Note that the duration of AC spikes gradually increases from morning to later afternoon and gradually decreases from later afternoon to midnight. Based on this observation, the following ﬁlter is designed to remove these spikes. It ﬁrst ﬁnds segments with duration shorter than Tseed = 20 (minutes), which are called `seeds' and labeled as ` spikes to remove'. Then, from each `seed', the ﬁlter searches the nearest segment forwardly, checking whether the segment's duration is shorter than D ≜ (1 + η)Dcur and whether the gap between the `seed' and the nearest segment is no more than 3Dcur, where Dcur is the duration of the current `seed' and η is a duration extension parameter (η = 1.2 in our algorithm). If this search condition meets, this nearest segment will be labeled as `spikes to remove' and will be set as a new `seed'. Now, using this new `seed', the ﬁlter repeats the same forward segment searching to the nearest segment, checking its condition in the same prescribed manner. If the search condition is not met, then jump to another `seed' and check its nearest segment forwardly as before. Similarly, the ﬁlter searches backwardly as well. In the end, after completing the whole search range, all segments labeled as `spikes to remove' are removed from x 20 40 60 0 1 2 3 4 5 6 7 8 9 10Power (kw) Duration(min) 0 5 10 0 5 10 15 20 25 30Num. of Samples Power(kw) 0 5 0 5 10 15 20 25 Power(kw)Difference in Num g(c)f(c)S(t) (a) 20 40 60 0 2 4 6 8 10 12Power (kw) Duration(min) 0 5 10 0 5 10 15 20 25 30 35 40 45Num. of Samples Power(kw) 0 5 0 5 10 15 20 25 30 35 Power(kw)Difference in Num S(t) f(c) g(c) (b) Fig. 4. Two typical segments of Type 0. (a) shows a dryer wave. (b) shows an EV wave completely overlapped by a dryer wave which has the same duration as the EV wave. For each segment, the gradient of its cumulative function (shown in the middle plot in (a) and (b)) does not show prominent peaks (see the right plot in (a) and (b)). 50 100150200 0 2 4 6 8 10 12 14Power (kw) Duration (min.) 0 10 20 0 20 40 60 80 100 120 140 160 180 200Num. of Samples Power (kw) 0 5 10 0 20 40 60 80 100 120 140 160 180 Power (kw)Difference in Num S(t) f(c) g(c) (a) 50 100150200 0 1 2 3 4 5 6 7 8Power (kw) Duration (min.) 0 5 10 0 20 40 60 80 100 120 140 160 180Num. of Samples Power (kw) 0 5 0 20 40 60 80 100 120 140 160 Power (kw)Difference in Num S(t) f(c) g(c) (b) Fig. 5. Two typical segments of Type 1. (a) shows an EV wave overlapped by a dryer wave with short duration. (b) shows an EV wave contaminated by ﬂuctuation of residual noise. For each segment, the gradient of its cumulative function shows one prominent peak (shown in the right plot in (a) and (b)). 20 40 60 80100 0 1 2 3 4 5 6 7 8 9 10Power (kw) Duration(min) 0 5 10 0 10 20 30 40 50 60 70Num. of Samples Power(kw) 0 5 0 10 20 30 40 50 60 Power(kw)Difference in Num S(t) f(c) g(c) (a) 100 300 500 0 2 4 6 8 10 12 14 16 18Power (kw) Duration(min) 0 10 20 0 100 200 300 400 500 600Num. of Samples Power (kw) 0 5 10 0 50 100 150 200 250 300 350 400 450 500 550 Power (kw)Difference in Num S(t) f(c) g(c) (b) Fig. 6. Two typical segments of Type 2. (a) shows an EV wave overlapped by an AC spike train, where the EV wave is the bottom part of the segment. (b) shows an EV wave overlapped by an AC lump and a dryer wave, where the EV wave is in the top part of the segment. The two segments are the ﬁrst two segments in Fig.3(c). For each segment, the gradient of its cumulative function shows two prominent peaks (shown in the right plot in (a) and (b)). 2 (Fig.6). Examples of segments of Type 0, Type 1, and Type 2 are given in Fig.4, Fig.5, and Fig.6, respectively. E. Step 5: Energy Disaggregation Let us ﬁrst introduce deﬁnitions of the effective width and the effective height of a segment. The effective width is deﬁned as the width of a segment at bottom. The effective height is deﬁned as the height at which the segment's width 0 20 40 60 80 100 0 1 2 3 4 5 6 7 8 9Power(kw) Duration (min.) Effective Height Width is Reduced by 20% at This Height Effective Width (a) A segment 0 20 40 60 80 100 0 1 2 3 4 5 6 7 8 9Power(kw) Duration (min.) Effective Height of the Segment in (a) Actual Height of this Sub−Segment Effective Height of this Sub−Segment (b) Sub-segments of the segment in (a) Fig. 7. (a) Calculation of the effective width and height from a segment. (b) Calculation of the actual height of sub-segments of the segment in (a). The sub-segments are obtained by thresholding the segment with Thigh = 6(kw). becomes only 80% of the bottom width. Fig.7(a) illustrates the calculation of the effective height and width. If a segment belongs to Type 0, then we ﬁrst determine its effective height. If its effective height is smaller than 5.5 kW, this segment is classiﬁed as a wave of dryer/oven (e.g. Fig.4(a)). If larger than 5.5 kW, the segment is classiﬁed as a fully overlapping waveform of an EV and a dryer/oven (e.g. Fig.4(b)). For the latter case, it is impossible to accurately estimate EV waveform's height. However, considering the fa ct that an EV waveform has constant and very stable amplitude from day to day, the EV waveform height can be assigned with a height estimate at another time of the same day or another day. Thus an EV square wave is reconstructed using the height and the calculated effective width. If a segment belongs to Type 1, the effective height and width can be simply calculated, and then its square waveform can be reconstructed accordingly. However, if the width is very large, e.g. larger than 250 (minutes), the segment will be removed since an EV waveform generally exhibits a constant amplitude for no more than 2-3 hours [5]. More likely, these long waveforms could be AC lumps (see Fig.2(b)) or other appliances' waveforms. Besides, if a candidate waveform ha s an effective height lower than 3 kw or is surrounded by a number of AC spikes, then it is treated as an AC lump as well. If a segment belongs to Type 2, this segment can be considered to include both an EV waveform and an AC waveform (see the deﬁnition of Type 2 Segments). Thus it needs to be determined whether an EV waveform occupies the top part or the bottom part of the segment. For the illustration, see Fig.6. In order to identify and separate two overlapped waveforms, ﬁrst an additional threshold Thigh will be used to obtain the sub-segment information of the top part. For the proposed algorithm, Thigh = Tlow + 2.5(kW) is set. Similar to Step 1, using this threshold a number of sub-segments in the top part can be obtained as shown in Fig.7(b). Next, the effective width of the segment is calculated. If the width is larger than 250 (minutes), then the bottom part is more likely to be an AC lump due to the EV duration characteristic mentioned before. Thus, EV waveforms belong to the top part. Subsequently, the effective width and the actual height 1 of each sub-segment (with duration longer than 20 minutes) are calculated to reconstruct an EV square waveform. If the width is less than 250 (minutes), then the sub- segments are analyzed. The proposed spike-train ﬁlter is used to remove the sub-segments. As a result, the following two cases are considered. (1) If the ﬁlter can remove all sub- segments, then the top part is an AC spike train, while the bottom part is an EV waveform 2. We can calculate the effective height and width of the bottom part to reconstruct the EV waveform. (2) If the spike-train ﬁlter cannot remove all sub-segments, then each remained sub-segment needs to be analyzed one by one. The actual height of each remained sub-segment and the effective height of the segment need to be calculated. Whichever (sub-segment's actual height o r the segment's effective height) is closer to an estimated EV height at another time of non-overlapping observation, it will be identiﬁed as an EV waveform 3. F. Remarks Admittedly, the proposed algorithm uses a number of default values such as the amplitude and width of EV charging load signals. However, it is worthy emphasizing that these default values are based on general knowledge of EV charging load characteristics, and do not rely on a speciﬁc type of EV. For example, although the amplitude of EV charging load signals is changing from house to house, the amplitude is always larger than 3 kW. The proposed algorithm utilizes the amplitude range information, but not any exact amplitude number. In the next section the proposed algorithm will be applied to a number of houses with robust performance across different houses and different seasons. This indicates the default values used in the algorithm do not affect practical use. IV. EXPERIMENTAL RESULTS An experiment was carried out to test performance of our proposed algorithm 4. For comparison, the HMM algorithm proposed in [10] was used. The data came from the Pecan Street Database [18], which collects raw power signals recorded from hundreds of residual houses in Austin, Texas. Eleven houses using EV were randomly chosen from the database. Each house data contain aggregated power signals of about one year. Each aggregated power signal is generally a combination of about twenty power signals of various appliances, such as EV, AC, furnace, dryer, oven, range, dishwasher, cloth-washer, refrigerator, microwave, bedroom-lighting, and bathroom-lighting. The ground-truth power signals of these appliances are also available in the database. Thus the database is very suitable to test algorithms' performance in practice. TABLE I. PERFORMANCE COMPARISON OF OUR PROPOSED ALGORITHM AND THE HMM ALGORITHM IN [10]. THE LAST ROW OF THE TABLE GIVES THE PERFORMANCE (MEAN ± STANDARD VARIANCE) AVERAGED OVER ALL MONTHS AND ALL HOUSES.behavior analysis, vol. 14, no. 1, pp. 81–88, 1981. [9] D. Srinivasan, W. Ng, and A. Liew, “Neural-network-based signature recognition for harmonic source identiﬁcation,” Power Delivery, IEEE Transactions on, vol. 21, no. 1, pp. 398–405, 2006. [10] O. Parson, S. Ghosh, M. Weal, and A. Rogers, “Non-intrusive load monitoring using prior models of general appliance types.” in AAAI, 2012. [11] J. Z. Kolter and T. Jaakkola, “Approximate inference in additive factorial hmms with application to energy disaggregation,” in International Conference on Artiﬁcial Intelligence and Statistics, 2012, pp. 1472– 1482. [12] J. Z. Kolter, S. Batra, and A. Ng, “Energy disaggregation via discrim- inative sparse coding,” in Advances in Neural Information Processing Systems, 2010, pp. 1153–1161. [13] M. J. Johnson and A. S. Willsky, “Bayesian nonparametric hidden semi- markov models,” Journal of Machine Learning Research, vol. 14, pp. 673–701, 2013. [14] L. Du, J. A. Restrepo, Y. Yang, R. G. Harley, and T. G. Habetler, “Nonintrusive, self-organizing, and probabilistic classiﬁcation and iden- tiﬁcation of plugged-in electric loads,” Smart Grid, IEEE Transactions on, vol. 4, no. 3, pp. 1371–1380, 2013. [15] C. Laughman, K. Lee, R. Cox, S. Shaw, S. Leeb, L. Norford, and P. Armstrong, “Power signature analysis,” Power and Energy Magazine, IEEE, vol. 1, no. 2, pp. 56–63, 2003. [16] J. Liang, S. Ng, G. Kendall, and J. Cheng, “Load signature studyłpart i: Basic concept, structure, and methodology,” Power Delivery, IEEE Transactions on, vol. 25, no. 2, pp. 551–560, 2010. [17] Y. Xia, S. C. Douglas, and D. P. Mandic, “Adaptive frequency estimation in smart grid applications: Exploiting noncircularity and widely linear adaptive estimators,” Signal Processing Magazine, IEEE, vol. 29, no. 5, pp. 44–54, 2012. [18] (2013) Pecan street database. [Online]. Available: http://www.pecanstreet.org/ [19] (2013) Average retail price of electricity to ultimate customers by end-use sector. [Online]. Available: http://www.eia.gov/electricity/monthly/epm","libVersion":"0.3.1","langs":""}