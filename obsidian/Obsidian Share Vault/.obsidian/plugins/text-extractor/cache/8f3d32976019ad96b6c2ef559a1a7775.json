{"path":"lit/lit_notes_OLD_PARTIAL/Chen18TemperatureRisePrediction2.pdf","text":"Contents lists available at ScienceDirect Applied Energy journal homepage: www.elsevier.com/locate/apenergy Temperature rise prediction of lithium-ion battery suﬀering external short circuit for all-climate electric vehicles application Zeyu Chen a, Rui Xiongb,⁎, Jiahuan Lua, Xinggang Li b a School of Mechanical Engineering and Automation, Northeastern University, Shenyang 110819, China b Collaborative Innovation Center of Electric Vehicles in Beijing, School of Mechanical Engineering, Beijing Institute of Technology, Beijing 100081, China HIGHLIGHTS • External short circuit of lithium battery is experimented at three ambient temperatures. • The impacts of SOC and ambient temperature on maximum temperature rise are analysed. • The heat generation caused by external short circuit is proved having two modes. • An online prediction approach of ESC-caused maximum temperature rise is proposed. • The presented algorithm can achieve the precise prediction 22.3 s ahead of time. ARTICLE I NFO Keywords: All-climate electric vehicles Battery safety Abusing test External short circuit Temperature prediction Fault detection ABSTRACT External short circuit (ESC) is a severe fault that can cause the large current and high temperature of lithium-ion batteries (LiBs) immediately. Temperature rise prediction is crucial for LiB safety management in an all-climate electric vehicles application because many disastrous consequences are caused by high temperature. This study mainly investigates the ESC-caused temperature rise characteristics of LiB, and proposes an online prediction approach of the maximum temperature rise. Three original contributions are made: (1) Abusing tests of LiBs under ESC are conducted at varying ambient temperatures, and the inﬂuences of battery state of charge (SOC) and ambient temperature on the maximum temperature rise are revealed. (2) Characteristics of temperature rises are analysed, therein ﬁnding that the heat generation of LiBs caused by ESC presents two modes: Joule heat- dominant mode and reaction heat/Joule heat blended mode; leakage is an external manifestation of the latter. (3) Two heat generation modes are proved to be linearly separable at temperature rise discharge capacity plane, and then a two-step prediction approach of maximum temperature rise is proposed based on support vector machine. Finally, the presented approach is validated by the experimental data. The maximum temperature rise can be predicted up to 22.3 s ahead of time and very precise prediction results are obtained, where the mean prediction error for the eight test cells is 3.05%. 1. Introduction Enhancing battery safety is of great signiﬁcance for the lithium-ion batteries (LiBs) utilization in all-climate electric vehicles (AEVs) and other applications, and is necessary to be taken into account in battery management [1–3]. LiB has potential hazards of ﬁre and explosion caused by sorts of ﬁeld failures, like overheat, overcharge, and short circuit. Up to now, various safety installations, such as pressure release valves, shutdown separators, positive temperature coeﬃcient elements, and one-shot fuses, etc., have been developed for battery safety con- cerns [4]. However, despite these achievements, severe battery faults have been reported continuously in many applications, some of which even result in catastrophic consequences [5]. How to improve the battery safety remains a technique challenge. In AEV applications, higher requirements for battery safety are put forwards due to the complex application environments in vehicle and possible serious consequences. Till now, publications of battery management studies are mainly directed against the battery state estimation, namely state of charge (SOC) [6–11], state of health (SOH) [12–14], state of power (SOP) [15], etc., without enough concern of battery safety issue [16,17]. There are several safety faults that may happen on the battery. Exploring the speciﬁc characteristics of LiBs under fault conditions is quite essential for designing an eﬀective fault detection and diagnosis system. A few https://doi.org/10.1016/j.apenergy.2018.01.068 Received 28 November 2017; Received in revised form 11 January 2018; Accepted 22 January 2018 ⁎ Corresponding author. E-mail addresses: rxiong@bit.edu.cn, rxiong@ieee.org (R. Xiong). Applied Energy 213 (2018) 375–383 0306-2619/ © 2018 Elsevier Ltd. All rights reserved. T researchers have carried on relevant studies pointedly. To name a few, Sahraei et al. [18] proposed a set of internal short circuit (ISC) abusing tests for 18,650-type cylindrical cells under mechanical abusing con- ditions; Maleki and Howard [19] investigated the eﬀects of ISC by three experimental methods and used accelerating rate calorimeter (ARC) to measure the heat generation of the battery, this study indicated the location of ISC is critical in ISC events; Shah et al. [20] proposed an experimental study on thermal runaway of LiB cells while Mohmma- dian and Zhang [21] investigated the prevention of thermal runaway using microchannels; Greve and Fehrenbach [22] proposed a ﬁnite element (FE) crash model based on various mechanical abusing tests of nickel cobalt oxide (NCA) LiB to predict the ISC occurrence location during the deformation process. However, in the literatures, there is a lack of investigation on the external short circuit (ESC) fault of LiBs. ESC is a dangerous battery failure and often occurs during the vehicle collisions, which usually causes the large current and high temperature. The expectation of this study is to propose an approach for online predicting the possible maximum temperature rise of the LiB under ESC fault based on the experimental analysis. Three original contributions are made: (1) ESC abusing tests: ESC abusing tests of lithium cells are conducted at three ambient temperatures. Cells with ﬁve diﬀerent SOC values are short-circuited under each ambient temperature condition. Based on the test results, the variation characteristics of the cell temperature rise are explored. The impacts of SOC and ambient temperature on the maximum temperature rise are disclosed. (2) Heat generation mode analysis: The manner of ESC-caused heat generation within the LiB is analysed based on a lumped parameter thermal model and found to fall into two modes; these two modes are linearly separable and are possible to be detected online. (3) Prediction of temperature rise: A novel two-step prediction ap- proach of the maximum temperature rise for the lithium cells in ESC fault is proposed based on support vector machine (SVM) classiﬁer. The presented algorithm can be implemented in online battery management applications. The remainder of the paper is organized as follows: the experi- mental study of lithium cells under external short circuit, thermal model, and analysis of heat generation mode are conducted in Section 2; the SVM-based heat generation mode discrimination algorithm and temperature rise prediction algorithm are proposed in Section 3; the eﬀectiveness of the presented approach is evaluated by experiments in Section 4 while the conclusions are summarized in Section 5. 2. External short circuit of lithium cells ESC abusing tests are conducted with the commercially available 18650-type cylindrical NMC lithium cells. The speciﬁcations of the tested cell are listed in Table 1, where the internal resistance is a mean value in the usable SOC range. In this test, the internal electrochemical thermal characteristics are not investigated; the lithium cells are seen as black boxes, being studied only in terms of their equivalent circuit model. The external input and output characteristics of cells that can be directly measured (the currents, voltages and temperatures) are utilized to implement the online prediction of temperature rise of the LiB during the ESC. 2.1. Experimental setup Fig. 1 shows the established ESC abusing test system. As shown in Fig. 1(A), a Motohawk controller is linked with the upper computer through a CAN bus to operate the relay module, which connects the positive and negative terminals of the cell and is used to touch oﬀ a short circuit fault. Fig. 1(B) shows the connection of the tested cell, where the total external resistance (including the connector and wire) is less than 25 mΩ. A thermal chamber is used to set up the ambient temperature. Cells, sensors, and relay are placed in a steel safety box. The entire short-circuit process can be controlled and clearly observed from the upper computer, as shown in Fig. 1(C). To make the results reliable, an infrared thermal imager and two thermocouple sensors are used to measure the cell temperature. The infrared thermal imager monitors the temperature distribution and is used as redundant device in case of the thermocouple malfunction. The two thermocouples are attached on the surface of the battery, close to positive and negative poles, respectively. The average of the data from two thermocouples is taken as the cell temperature to conduct the analysis. In this test, three ambient temperature conditions, 20 °C, 30 °C, and 45 °C are adopted. Under each temperature condition, two groups of lithium cells (named as Group 1 and Group 2) are short-circuited re- peatedly under the same test conditions. Each group contains ﬁve cells with SOCs ranging from 20% to 100% (in increments of 20%). Repeating the tests with two groups of cells ensures that the test data and conclusions are more credible and have generalizability. The cells, along with the safety box, are placed in the thermal chamber for more than three hours before the onset of the test to reach the constant pre- set temperature. The diﬀerent initiations of cell SOC and ambient temperature are expected to give insight into the impacts of SOC and onset temperature on the temperature rise of the lithium cells during the ESC process. The current, voltage, and temperature of the cells are recorded during the test. It should be noted that the so-called ‘cell temperature’ refers to the surface temperature, rather than the internal temperature of the cell. The ESC duration time is set as 90 s. Our previous studies [23] indicate that 90 s is long enough for the current and voltage of an 18650-type lithium cell to drop to zero. After this time period, the ESC is terminated by interrupting the relay module. The cell temperature continues being recorded after the test for more than ﬁve minutes to enable observation of the maximum temperature rise. 2.2. Analysis of test results The test results are summarized in Figs. 2–4. The discharge capa- cities are calculated from the measured current during the short-circuit process, as shown in the illustrations. It can be noticed that the dis- charge capacity during the short-circuit process is very diﬀerent from the initial charged capacity of the cell. Thus, unlike in a normal situa- tion, the heat generation caused by the ESC process cannot be simply inferred from the initial battery energy. The sensors recorded diﬀerent temperature variations, proving that the cell temperature during ESC is impacted by the initial conditions. Note that the temperature rise value, rather than the temperature value, of the cell surface is investigated to achieve a better comparison of the ESC characteristics under diﬀerent ambient temperature conditions. The voltage is not plotted because it is not used for the subsequent analysis; the variation of cell voltage of a lithium cell during ESC and its relation with the current can be found in Ref. [23]. After the ESC occurs, the cell instantly produces a high current. Then the current gradually decreases, producing a platform of Table 1 Speciﬁcations of the test cell. Speciﬁcation parameters Value Dimension ϕ18.6 × 65.2 mm Mass 45.5 g Operating temperature range −20 to +60 °C Nominal voltage 3.6 V Charge cut-oﬀ voltage 4.2 V Discharge cut-oﬀ voltage 2.5 V Internal resistance 35 mΩ Nominal capacity 2.0 Ah Z. Chen et al. Applied Energy 213 (2018) 375–383 376 discharge, denoted as continuous high current (CHC) stage. At the end of CHC stage, the current directly drop to zero. One interesting ﬁnding is that the duration of CHC stage varies with the ambient temperature and SOC. If the cells are without leakage, e.g. Figs. 2(B) and 3(B), the duration of CHC stages become longer with the decrease of SOC and the decline of ambient temperature. The longer duration of CHC stage may cause the larger Joule heat generation, which explains the temperature rise is higher when SOC or temperature is lower. The cells with leakage are also indicated on the temperature var- iation curves. For those leaked cells, the internal resistance increases because of the loss of the electrolyte in the cell, so their current curves may present sudden drops during the CHC stage (see cell SOC = 100% in Fig. 2 (A), cell SOC = 80% and SOC = 100% in Fig. 3(A), cell SOC = 60% and SOC = 100% in Fig. 4(A)). This phenomenon can be used as a preliminary judgement of leakage detection. In this test, the probability of leakage occurrence is low, only eight out of thirty cells leaked. Leakage seems more likely to occur in cells under high tem- perature and high SOC conditions. Once cell leakage occurs, it will be accompanied by a higher temperature rise while the duration of CHC stage is short, see Fig. 2(C), where the two leaking cells (with Actual image Configuration (A) (B) (C) Fig. 1. The ESC test system: (A) Actual image and conﬁguration of the experimental platform; (B) connector of the tested cell; (C) upper computer interface. Fig. 2. Test results of LiB cells under 20 °C ambient temperature condition. (A) Current and discharge capacity: Group 1; (B) current and discharge capacity: Group 2; (C) temperature rise: Group 1; (D) temperature rise: Group 2. Z. Chen et al. Applied Energy 213 (2018) 375–383 377 SOC = 80% and 100%) in Group 1 produced the highest temperature. Similar conclusions can also be drawn from Figs. 3(C) and 4((C), (D). The maximum values of the temperature rise of all test cells in Figs. 2-4 are summarized in Table 2. Based on the above observation and analysis, several important rules are revealed: • Rule 1: For cases without leakage, the ESC-caused maximum temperature rise becomes higher with decrease of SOC and decline of the ambient temperature. • Rule 2: If leakage occurs, the Rule 1 will be broken; the cell with leakage tends to produce higher temperature rise than that without leakage. • Rule 3: The occurrence of leakage is random, but when SOC and ambient temperature are high, the leakages are more likely to happen. Fig. 3. Test results of lithium cells under 30 °C ambient temperature condition. (A) Current and discharge capacity: Group 1; (B) current and discharge capacity: Group 2; (C) temperature rise: Group 1; (D) temperature rise: Group 2. Fig. 4. Test results of lithium cells under 45 °C ambient temperature condition. (A) Current and discharge capacity: Group 1; (B) current and discharge capacity: Group 2; (C) temperature rise: Group 1; (D) temperature rise: Group 2. Z. Chen et al. Applied Energy 213 (2018) 375–383 378 2.3. Thermal model Here a lumped parameter model is employed to analyse the test data of LiB cells under ESC fault [24,25]. The temperature distribution within the cell is assumed as uniform [26], and then the temperature rise is expressed by: =− −T Cm QhA T TΔ 1 (( ))σ p σair (1) where ΔTσ is the temperature rise, Cp is the speciﬁc heat capacity, m is the cell mass, Q denotes the heat generated within the LiB, Tσ is the temperature of the battery surface, Tair is the ambient temperature, h is the convective heat transfer coeﬃcient, A is the cell surface area. Heat generation within the LiB is mainly composed of three parts, namely the reversible chemical reaction, irreversible chemical reaction, and irreversible Joule heat, expressed by ∫ ⎜⎟= ⎛ ⎝ −+ ∂ ∂ ⎞ ⎠ +Q IU U IT U T dt Q()oc t air oc air R (2) where Uoc and Ut are the open circuit voltage and terminal voltage, respectively, I is the current, the ﬁrst item in the integrand function denotes the Joule heat and a small amount of polarization heat, the second item in the integrand function denotes the reversible reaction heat, and QR is the irreversible reaction heat. The short circuit failure is destructive, so the reversible reaction heat can be neglected. In the following, the ‘reaction heat’ refers to the irreversible reaction heat. In addition, in ESC fault, the temperature rise is rapid, so the impact of dissipate heat on maximum temperature rise is minor. Thus, the temperature rise is rewritten as ∫=− +( )T mC IU U dt QΔ 1 ()σ p oc t R (3) The irreversible exothermic reactions refer to the decomposition of active substances and the interaction of diﬀerent components during the ESC. This process may include several types of chemical reactions, such as SEI decomposition [27], electrolyte decomposition, and reac- tion between positive/negative electrode and electrolyte [28], etc. In this study, we are not concerned with the speciﬁc internal reaction category but rather focus on the external temperature characteristics. 2.4. Heat generation mode Based on the above model, the heat generation mode within the LiBs in ESC is further analysed. In ESC fault, the cell produces the high current, resulting in a large amount of Joule heat QJ. However, whether the reaction heat QR exists is still uncertain. In CHC stage, the cell Uoc changes little because the discharge capacity during ESC is very small (see Figs. 2–4); concerning the Ut is a small value close to zero, ΔU = Uoc − Ut can be regarded as a constant. Therefore, if we suppose that QR doesn’t exist, then the maximum temperature rise should be pro- portional to the discharge capacity, expressed by =TkQΔ σEmax (4) where k is the slope, k = ΔU/(mCp), ΔTσmax is the maximum temperature rise, QE denotes the total discharge capacity during the ESC process. To evaluate the above analysis, the relation of maximum tempera- ture rise vs. discharge capacity of all tested cells is given in Fig. 5,in which the cells with leakage and those without leakage are marked as diﬀerent colours. Interestingly, for all cells without leakage, the above hypothesis is tenable. The maximum temperature rises are linear with their discharge capacities, proving that the heat generation within the cell is mainly from Joule heat. Whereas for the cells with leakage, the temperature rise is much higher than that is deduced from Eq. (4),soin addition to the Joule heat, there is a large amount of reaction heat, resulting in the extra temperature rise. Therefore, the heat generation within the cell caused by ESC is ca- tegorized into two modes: Joule heat-dominant (JD) mode and reaction heat/Joule heat blended (RJB) mode. Leakage implies the intense exothermic reaction occurs within the cell and is an external manifes- tation of the RJB mode. To better analyse the temperature rise char- acteristics, the temperature rise is treated as the sum of two parts: =+TT TΔ ΔΔσσR σJ (5) where ΔTσR is the reaction heat-caused temperature rise and ΔTσJ is the Joule heat-caused temperature rise. The ratio of reaction heat to Joule heat can be expressed by == −κ Q Q T fQ max{Δ } () 1 R J σ E (6) The ratio κ can be identiﬁed from the experimental data. Table 3 gives κ of eight leaked cells. Accordingly, the reaction heat-caused temperature rises of the eight leaked cells are summarized in Table 4. The reaction heat-caused temperature rises during the ESC process under varying test conditions are very approaching, indicating that the inﬂuence of test conditions on reaction heat is not as dramatic as that on the Joule heat. 3. Prediction of maximum temperature rise The temperature prediction approach of lithium cells in ESC is Table 2 Maximum temperature rise (Bold-underline denotes leakage). Cell SOC 20 °C 30 °C 45 °C Group 1 Group2 Group1 Group2 Group1 Group2 20% 86.71 77.02 62.49 65.52 49.77 47.97 40% 67.82 77.88 64.66 46.88 59.71 35.84 60% 67.21 59.95 37.92 34.89 70.25 70.60 80% 96.88 51.23 86.95 41.90 31.61 63.82 100% 90.34 39.16 86.10 37.54 58.50 17.69 0 0.1 0.2 0.3 0.4 0.5 0 20 40 60 80 100 120 Discharge capacity (Ah)Maximum temperature increase (°C ) With leakage Without leakage Fitting y=189.2x+1.4 Fitting function: Fig. 5. Maximum temperature rise of all tested cells in ESC. Table 3 Values of κ from the test results. SOC T 20 °C 30 °C 45 °C 45 °C 60% N/A N/A 2.394 5.178 80% 0.873 1.896 N/A 3.196 100% 3.248 3.990 2.752 N/A Z. Chen et al. Applied Energy 213 (2018) 375–383 379 investigated in this section. The temperature variation possesses an obvious hysteresis compared with the current, and thus, after an ESC fault is detected, rapidly predicting the maximum temperature of the lithium cell before it causes dangerous consequences is feasible since the current can be measured. A two-step approach of the temperature prediction is proposed. The ﬁrst step is to determine the heat generation mode; the second step is to predict the maximum temperature that the cell could produce in the next few seconds. • Step 1: Heat generation mode discrimination Heat generation mode has a notable impact on the temperature characteristics. The above analysis has proved the JD mode and RJB mode are linearly separable, hence a support vector machine (SVM)- based discrimination algorithm is proposed to detect the heat genera- tion mode without the observation of leakage. SVM is a machine learning algorithm that specializes in resolving classiﬁcation problems. The target of SVM is to ﬁnd a boundary to divide the two classes with the maximum space. This boundary is used to determine the heat generation mode immediately following ESC occurrence. The basic theory and applications of SVM can be found in Refs. [29–31]. The input data of SVM in this study are temperature rise and dis- charge capacity while the output is the heat generation mode. The decision function of this optimal hyperplane is given by: += =ωa b a T Q( · ) 0, [max{Δ }, ]σE T (7) where ω and b can be calculated by minimizing the following problem: +⩾ ω ωayb min ‖ ‖ subject to: [( · ) ] 1i i 1 2 2 (8) A Lagrangian function is introduced as follows: ∑=+ − + = ωω ω aLb α α y b(, , ) 1 2 ‖ ‖ {1 [( · ) ]} i l i i i 2 1 (9) where α =[α1, …, αl] T represents the Lagrangian multipliers. The problem can be rewritten as: ∑∑ ∑ ∑ −+ ⎧ ⎨ ⎪ ⎩ ⎪ = ⩾ == = = aayy α α α yα α max ( · ) subject to: 0 0 α i l j l ij ij i j i l i i l i i i 1 2 11 1 1 (10) The training result is given in Fig. 6. The classiﬁcation boundary is formulated by Eq. (11), in which → ⩾cx() 0 denotes JD mode and → <cx() 0 denotes RJB mode. Three support vectors are established. The parameters of the support vectors are listed in Table 5. ∑ → = →→ +cx β v x b() ( · ) j j j (11) where β and b are coeﬃcients. • Step 2: Prediction of the peak temperature The heat generation mode detection is the primary step after the short circuit detection. Based on estimation of the SVM classiﬁer, peak value of the temperature rise can be further calculated according to Eqs. (1)–(6), described by ̂=+ = +T Mκ f Qf QM T τ TΔ (1 ) ( ) ( ) · ( , )σE E σJ airmax (12) where M is the heat generation mode determined by SVM: M = 1 de- notes RJB mode, M = 0 denotes JD mode, ̂TσJ is estimation of the temperature rise caused by QR, which is treated as an interpolation function of the data in Table 4, τ is the initial cell SOC at the onset of ESC. The rise of current is faster than that of temperature, but it still requires longer than ten seconds to be completely captured. The QE in Eq. (12) cannot be obtained immediately after the detection of ESC. Concerning the rapidity of online applications, here the calculation of QE includes two parts. An empirical method is employed at the begin- ning to roughly estimate the discharge capacity based on the experi- mental statistical results; as the high current continues, weight factor of the empirical value gradually shrinks and integration of the actual current comes into eﬀect, described as follows: ̂ ∫=∂ +∂Q It dtΦ( )EE t t 12 0 (13) = fτ TΦ( , )Eair (14) where ΦE is an empirical value of the discharge capacity, ∂1 and ∂2 are two weight coeﬃcients, t0 is the onset time of ESC. 4. Evaluations The presented two-step prediction approach is validated by ex- periment. First, the SVM-based classiﬁer is evaluated on the previous thirty cells. The SVM-based classiﬁer algorithm is used to determine the heat generation mode after the onset of ESC based on the measured current and the captured temperature rise. In the ﬁrst few seconds, the classiﬁcation accuracy is not good due to the hysteresis characterizing the temperature rise. As time goes on, the classiﬁer becomes eﬀective. The results of the heat generation mode classiﬁcation at certain time points are shown in Fig. 7. At 10 s, the correct classiﬁcation rate is only Table 4 Reaction heat-caused temperature rises. SOC T 20 °C 30 °C 45 °C 45 °C 60% N/A N/A 49.55 °C 59.17 °C 80% 45.15 °C 56.92 °C N/A 48.61 °C 100% 69.07 °C 68.85 °C 42.91 °C N/A 0 0.1 0.2 0.3 0.4 0.5 0 20 40 60 80 100 120 Discharge capacity (Ah)Temperature increase (°C ) JD mode RJB mode Support Vectors margin Hyperplane Fig. 6. Classiﬁcation based on SVM. Table 5 Parameters in SVM algorithm. Parameters No. 1 No. 2 No. 3 v(1) 1.3314 −1.4343 −1.4160 v(2) 0.9244 −2.1018 −0.0500 βi −0.3964 −0.6678 1.0642 Z. Chen et al. Applied Energy 213 (2018) 375–383 380 76.7%; at 17.5 s, the correct rate reaches as high as 96.7%, where only one cell’s heat generation mode is incorrectly determined; at 33 s, the correct classiﬁcation rate is 100%, where all the cells in RJB modes are detected correctly. This result indicates that the SVM-based algorithm provides a very reliable classiﬁer of ESC-caused heat generation within the LiBs. Some further discussion is as follow: (1) The determination of the heat generation mode is feasible based on the external electrical-thermal characteristics. The presented SVM- based classiﬁer can be implemented online since all the required parameters can be measured in real-time applications. (2) The classiﬁcation performance is inﬂuenced by the ratio factor κ.If the value of κ is very low (especially when κ < 1), Joule heat ac- counts for most of the temperature rise although the exothermic reaction is induced. This situation tends to result in a long treat- ment process to reach the correct classiﬁcation result. (3) The reliability and rapidity of the classiﬁcation are in contradiction. The presented SVM-based method is used to establish the most re- liable classiﬁcation without concerns with rapidity. If a more rapid classiﬁcation is required, the classiﬁcation algorithm can be ex- pedited with a little compromise of reliability. To evaluate the eﬀectiveness of the temperature rise prediction, the other eight cells are short-circuited, numbered Nos. 1–8. The initial SOCs of these cells are set as 10%, 30%…70%, in contrast to the pre- vious experiments. The ambient temperatures are set as 30 °C and 40 °C. The initial condition of each tested cells are summarized in Table 6. The presented prediction algorithm is implemented online through the ESC process. The evaluation results are listed in Table 7. After the tests, leakages are observed at the cell No. 3 and cell No. 4. The mean error of the eight tested cells is 3.58%, which indicates the presented algorithm is eﬀective to predict the maximum temperature rise caused by ESC. Only two cells have an error exceeding 5%. The maximum prediction error is 10.58% (No.5). The cell with the maximum error didn’t leak, so the prediction is from the JD mode. The error of this cell is relative high because the model was regressed as a linear correlation between temperature rise and discharge capacity, which may cause an error of some certain cells due to the linear approximation. But for the whole tested cells, the prediction results of maximum temperature rise are quite approaching to the test data. To further analyse the results, the speciﬁc prediction processes of cells Nos. 1–4 are plotted in Fig. 8. 0 0.1 0.2 0.3 0.4 0 20 40 60 80 100 120 Discharge capacity (Ah)Temperature increase (°C ) JD mode RJB mode Classifier Classification accuracy: 76.7% Time after ESC occurrence: 10s (A) 0 0.1 0.2 0.3 0.4 0 20 40 60 80 100 120 Discharge capacity (Ah)Temperature increase (°C ) JD mode RJB mode Classifier Time after ESC occurrence: 15s Classification accuracy: 83.4% B 0 0.1 0.2 0.3 0.4 0 20 40 60 80 100 120 Discharge capacity (Ah)Temperature increase (°C ) JD mode RJB mode Classifier Time after ESC occurrence: 17.5s Classification accuracy: 96.7% (C) 0 0.1 0.2 0.3 0.4 0 20 40 60 80 100 120 Discharge capacity (Ah)Temperature increase (°C ) JD mode RJB mode Classifier Time after ESC occurrence: 33s Classification accuracy: 100% (D) () Fig. 7. Evaluation of heat generation mode determination: (A) 10 s after ESC occurrence; (B) 15 s after ESC occurrence; (C) 17.5 s after ESC occurrence; (D) 33 s after ESC occurrence. Table 6 Experimental condition of each cell. Cells Ambient temperature (°C) SOC No. 1 40 10% No. 2 40 30% No. 3 40 50% No. 4 40 70% No. 5 30 10% No. 6 30 30% No. 7 30 50% No. 8 30 70% Table 7 Performance of the presented approach on eight test cells. Cells Actual maximum temperature rise (°C) Prediction (°C) Error (°C) Relative error No. 1 64.07 63.57 −0.50 0.78% No. 2 46.51 47.02 0.51 1.09% No. 3 69.27 70.25 0.98 1.40% No. 4 69.89 72.76 2.87 3.94% No. 5 62.86 69.51 6.65 10.58% No. 6 49.05 48.85 −0.2 −0.41% No. 7 64.18 65.54 1.36 2.12% No. 8 29.91 28.70 −1.21 −4.05% Z. Chen et al. Applied Energy 213 (2018) 375–383 381 Note that the black curve in Fig. 8 refers to the prediction of the maximum temperature rise value but not the temperature variation; accordingly, the ‘error’ refers to the diﬀerence between the maximum temperature rise prediction and the maximum value of the actual temperature rise, as indicated in Fig. 8(A). The cell No. 1 and cell No. 2 are without leakages and the heat generations caused by ESC are in JD mode. The maximum temperature rises are predicted roughly at the beginning based on the empirical data. As shown in the Fig. 8(A) and (B), the relative precise prediction results can be obtained right after the ESC occurrence; after a few seconds, the errors gradually decrease because the prediction according to the discharge capacity begins to take eﬀect. The precise prediction of cell No. 1 can be achieved at 44 s after the ESC occurrence, which is 18.0 s ahead of the actual time of the maximum temperature rise; the precise prediction of cell No. 2 is achieved at about 30 s, which is 19.6 s ahead of the actual time of the maximum temperature rise. In Fig. 8(C) and (D), the prediction error is very large at the beginning because the cell is in RJB heat generation mode. In this case, the precise prediction relies on the SVM-based classiﬁer. Point A in Fig. 8(C) and point B in Fig. 8(D) denote the de- tections of RJB mode by the classiﬁer. After the RJB mode is detected, the reaction heat-caused temperature rise ΔTσR is taken into account, as indicated in Fig. 8(C), then the presented algorithm is adjusted to ob- tain a correct prediction result. We can notice that the detection of RJB mode is at 14.9 s while the maximum temperature rise occurs at 37.2 s. In Fig. 8(D), the detection of RJB mode is at 9.8 s while the maximum temperature rise occurs at 29.7 s. There are 22.3 s and 19.9 s ahead of the actual time of the maximum temperature rise, respectively. These test results verify the eﬀectiveness of the proposed algorithm and il- lustrate the importance of the heat generation mode determination in ESC-caused temperature rise prediction. The maximum temperature rise can be predicted up to 22.3 s ahead of time, which is meaningful for making countermeasures or warning. 5. Conclusions The temperature rises of LiBs caused by ESC have been investigated experimentally in this study. The impacts of the battery SOC and am- bient temperature condition on the maximum temperature rise are disclosed. The heat generation within the LiB cells under ESC fault presents two modes, which are linearly separable on the temperature rise discharge capacity plane. Leakage is found as an external mani- festation of RJB mode. A novel two-step prediction approach of max- imum temperature rise is proposed based on an SVM determination algorithm. For the certain cell, the precise prediction can be obtained at 22.3 s ahead of the maximum temperature occurrence. The prediction errors of the maximum temperature rise are less than 10.58% and the mean error of the tested cells is 3.05%. Acknowledgements This work has been supported by the Joint Funds of the National Natural Science Foundation of China (Grant No. U1564206), National Natural Science Foundation of China (51607030), Beijing Municipal Science and Technology Project (Z171100000917013) and the Fundamental Research Funds for the Central Universities (N160304001). The systemic experiments of the lithium-ion batteries were performed at the Advanced Energy Storage and Application (AESA) Group, Beijing Institute of Technology. References [1] Tarascon J, Armand M. Issues and challenges facing rechargeable lithium batteries. Nature 2001;414:359–67. [2] Xiong R, Cao JY, Yu QQ, He H, Sun FC. Critical review on the battery state of charge estimation methods for electric vehicles. IEEE Access 2017. http://dx.doi.org/10. 1109/ACCESS.2017.2780258. [3] Xiong R, Cao JY. Q.Q Yu. Reinforcement learning-based real-time power manage- ment for hybrid energy storage system in the plug-in hybrid electric vehicle. Appl Energy 2018;211:538–48. Fig. 8. Online prediction results of four cells: (A) Cell No.1; (B) Cell No.2; (C) Cell No.3 (with leakage); (D) Cell No.4 (with leakage). Z. Chen et al. Applied Energy 213 (2018) 375–383 382 [4] Balakrishnan PG, Ramesh R, Kumar TP. Safety mechanisms in lithium-ion batteries. J Power Sources 2006;155:401–14. [5] Krisher T. Third ﬁre in Tesla Model S reported in Tenn. Bluegrass Automotive Report; 2013. [6] Tanim T, Rahn C, Wang C. State of charge estimation of a lithium ion cell based on a temperature dependent and electrolyte enhanced single particle model. Energy 2015;80:731–9. [7] Rahimian S, Rayman S, White R. State of charge and loss of active material esti- mation of a lithium ion cell under low earth orbit condition using Kalman ﬁltering approaches. J Electrochem Soc 2012;159:860–72. [8] Xiong R, Yu QQ, Wang LY, Lin C. A novel method to obtain the open circuit voltage for the state of charge of lithium ion batteries in electric vehicles by using H inﬁnity ﬁlter. Appl Energy 2017;207:341–8. [9] Lee S, Kim J, Lee J, Cho B. State-of-charge and capacity estimation of lithium-ion battery using a new open-circuit voltage versus state-of-charge. J Power Sources 2008;185:1367–73. [10] Xiong R, Zhang Y, He H, Zhou Michael Pecht X. A double-scale, particle-ﬁltering, energy state prediction algorithm for lithium-ion batteries. IEEE Trans Ind Electron 2018;65(2):1526–38. [11] Xiong R, Sun F, Chen Z, He H. A data-driven multi-scale extended Kalman ﬁltering based parameter and state estimation approach of lithium-ion polymer battery in electric vehicles. Appl Energy 2014;113:463–76. [12] Omar N, Monem M, Firouz Y, Salminen J, Smekens J, Hegazy O, et al. Lithium iron phosphate based battery – assessment of the aging parameters and development of cycle life model. Appl Energy 2014;113:1575–85. [13] Xiong R, Tian JP, Mu H, Wang C. A systematic model-based degradation behavior recognition and health monitor method of lithium-ion batteries. Appl Energy 2017;207:367–78. [14] Wang Y, Yang D, Zhang X, Chen Z. Probability based remaining capacity estimation using data-driven and neural network model. J Power Sources 2016;315:199–208. [15] Xiong R, He H, Sun F, Liu Z. Model-based state of charge and peak power capability joint estimation of lithium-ion battery in plug-in hybrid electric vehicles. J Power Sources 2013;229:159–69. [16] Spotnitz R, Franklin J. Abuse behavior of high-power, lithium-ion cells. J Power Sources 2003;113:81–100. [17] Peng P, Jiang F. Thermal safety of lithium-ion batteries with various cathode materials: a numerical study. Int J Heat Mass Tran 2016;103:1008–16. [18] Sahraei E, Campbell J, Wierzbicki T. Modeling and short circuit detection of 18650 Li-ion cells under mechanical abuse conditions. J Power Sources 2012;220:360–72. [19] Maleki H, Howard JN. Internal short circuit in Li-ion cells. J Power Sources 2009;191:568–74. [20] Shah K, Chalise D, Jain A. Experimental and theoretical analysis of a method to predict thermal runaway in Li-ion cells. J Power Sources 2016;330:167–74. [21] Mohmmadian S, Zhang Y. Improving wettability and preventing Li-ion batteries from thermal runaway using microchannels. Int J Heat Mass Tran 2018;118:911–8. [22] Greve L, Fehrenbach C. Mechanical testing and macro-mechanical ﬁnite element simulation of the deformation, fracture, and short circuit initiation of cylindrical lithium ion battery cells. J Power Sources 2012;214:377–85. [23] Chen Z, Xiong R, Tian J, Shang X, Lu J. Model-based fault diagnosis approach on external short circuit of lithium-ion battery used in electric vehicles. Appl Energ 2016;184:365–74. [24] Wang C, Zhao G, Ge S, Xu T, Ji Y, Yang X, et al. Lithium-ion battery structure that self-heats at low temperatures. Nature 2016;529:515–8. [25] Yang X, Liu T, Wang C. Innovative heating of large-size automotive Li-ion cells. J Power Sources 2017;342:598–604. [26] Wang S, Li Y, Li Y, Mao Y, Zhang Y, Guo W, et al. A forced gas cooling circle packaging with liquid cooling plate for the thermal management of Li-ion batteries under space environment. Appl Therm Eng 2017;123:929–39. [27] Richard M, Dahn J. Predicting electrical and thermal abuse behaviours of practical lithium-ion cells from accelerating rate calorimeter studies on small samples in electrolyte. J Power Sources 1999;79:135–42. [28] Venkatachalapathy R, Lee C, Lu W, Prakash J. Thermal investigations of transitional metal oxide cathodes in Li-ion cells. Electrochem Commun 2000;2:104–7. [29] Cai J. Applying support vector machine to predict the critical heat ﬂux in con- centric-tube open thermosiphon. Ann Nucl Energy 2012;43:114–22. [30] Patil M, Tagade P, Hariharan K, Kolake S, Song T, Yeo T, et al. A novel multistage Support Vector Machine based approach for Li ion battery remaining useful life estimation. Appl Energ 2015;159:285–97. [31] Pan Y, Jiang J, Wang R, Cao H, Cui Y. Predicting the auto-ignition temperatures of organic compounds from molecular structure using support vector machine. J Hazard Mater 2009;164:1242–9. Z. Chen et al. Applied Energy 213 (2018) 375–383 383","libVersion":"0.3.2","langs":""}