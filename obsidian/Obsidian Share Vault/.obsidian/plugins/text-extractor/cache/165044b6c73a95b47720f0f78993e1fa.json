{"path":"lit/lit_notes_OLD_PARTIAL/Liao16HybridFrameworkCombining.pdf","text":"Accepted Manuscript Title: A hybrid framework combining data-driven and model-based methods for system remaining useful life prediction Author: Linxia Liao Felix K¨ottig PII: S1568-4946(16)30122-3 DOI: http://dx.doi.org/doi:10.1016/j.asoc.2016.03.013 Reference: ASOC 3522 To appear in: Applied Soft Computing Received date: 4-1-2014 Revised date: 1-2-2016 Accepted date: 18-3-2016 Please cite this article as: Linxia Liao, Felix Kddotottig, A hybrid framework combining data-driven and model-based methods for system remaining useful life prediction, <![CDATA[Applied Soft Computing Journal]]> (2016), http://dx.doi.org/10.1016/j.asoc.2016.03.013 This is a PDF ﬁle of an unedited manuscript that has been accepted for publication. As a service to our customers we are providing this early version of the manuscript. The manuscript will undergo copyediting, typesetting, and review of the resulting proof before it is published in its ﬁnal form. Please note that during the production process errors may be discovered which could affect the content, and all legal disclaimers that apply to the journal pertain. Page 1 of 15Accepted Manuscript Highlights: • A hybrid/fusion prognostics framework to predict remaining useful life by combining the data-driven methods and model-based methods; • Introduce a data-driven method to estimate the measurement model in a model-based particle ﬁlter framework; • Introduce a data-driven method to predicted future measurement in long term prediction in a model-based particle ﬁlter framework; • Shown improved prediction accuracy using battery as a case study 1 *Highlights (for review) Page 2 of 15Accepted Manuscript time measurement Features Yk State Estimation Estimated Data-Driven Measurement Model Yk = h(Xk) + vk Physics-Based Degradation Model Xk = f (Xk−1) + wk State Xk Data-Driven Measurement Prediction ˆYk+1 = g(Yk, Yk−1, . . . ) + uk+1 Measurements ˆYk+1, ˆYk+2, . . . State Prediction Estimated Data-Driven Measurement Model Yk+1 = h(Xk+1) + vk+1 Physics-Based Degradation Model Xk+1 = f (Xk) + wk+1 Degradation Progression RUL *Graphical abstract (for review) Page 3 of 15Accepted Manuscript Applied Soft Computing 00 (2016) 1–13 ASC A hybrid framework combining data-driven and model-based methods for system remaining useful life prediction Linxia Liaoa, Felix K¨ottigb aSiemens Corporate Research, 755 College Road East, Princeton, NJ 08540, USA bDresden University of Technology, Mommsenstrabe 9, Dresden, Saxony, 81925, Germany Abstract Remaining useful life prediction is one of the key requirements in prognostics and health management. While a system or com- ponent exhibits degradation during its life cycle, there are various methods to predict its future performance and assess the time frame until it does no longer perform its desired functionality. The proposed data-driven and model-based hybrid/fusion prog- nostics framework interfaces a classical Bayesian model-based prognostics approach, namely particle ﬁlter, with two data-driven methods in purpose of improving the prediction accuracy. The ﬁrst data-driven method establishes the measurement model (in- ferring the measurements from the internal system state) to account for situations where the internal system state is not accessible through direct measurements. The second data-driven method extrapolates the measurements beyond the range of actually avail- able measurements to feed them back to the model-based method which further updates the particles and their weights during the long-term prediction phase. By leveraging the strengths of the data-driven and model-based methods, the proposed fusion prognostics framework can bridge the gap between data-driven prognostics and model-based prognostics when both abundant his- torical data and knowledge of the physical degradation process are available. The proposed framework was successfully applied on lithium-ion battery remaining useful life prediction and achieved a signiﬁcantly better accuracy compared to the classical particle ﬁlter approach. c⃝ 2011 Published by Elsevier Ltd. Keywords: Condition monitoring, Hybrid method, Predictive maintenance, Prognostics, Remaining useful life prediction 1. Introduction Prognostics technology covers many aspects such as yielding advanced warning of impending failures and esti- mating remaining useful life (RUL), etc., which ultimately result in increased availability, reliability and safety as well as reduced maintenance and logistics cost. As deﬁned in ISO13381-1 [1], prognostics is ‘an estimation of time to failure and risk for one or more existing and future failure modes.’ RUL was deﬁned as ‘the length from the current time to the end of the useful life’ in [2]. RUL prediction has been applied to many systems such as military and aerospace systems, manufacturing equipment, and structure, power systems and electronics. In general, there exist two main types of RUL prediction methods, namely date-driven methods and model-based methods. Data-driven methods rely only on previously observed data to predict the projection of systems’ state or match similar patterns in the history to infer RUL. Data-driven methods include but are not limited to statistical methods, reliability functions, and artiﬁcial intelligence methods. Statistical methods such as Hidden Markov Models (HMM) have been applied for prognostics as proposed in [3] for bearing RUL prediction. Statistical methods can further 1 *Manuscript Page 4 of 15Accepted Manuscript / Applied Soft Computing 00 (2016) 1–13 2 utilize time-series regression techniques such as auto-regressive moving average as mentioned in [4] for lithium- ion battery RUL prediction. Reliability functions such as Weibull distributions have also been used for data-driven prognostics. Guo et al. [5] presented a three-parameter Weibull failure rate function for wind turbine reliability assessment. Artiﬁcial intelligent methods such as neural networks were presented by Li et al. [6] using an enhanced fuzzy-ﬁltered neural network method for material fatigue prognostics. Yu [7] proposed a self-organizing maps method for machine health assessment. Data-driven methods derive models only from historical data and are applicable when data is abundant. Similar methods can be applied to diﬀerent systems without understanding the complex system physics. The output generated from real monitoring data tends to give more precise information than expert experience or maintenance feedback. However, most results of data-driven methods are not easy to explain or relate to any physical meaning. In prognostics applications, there are also challenges in determining thresholds, deﬁning data to describe normal behavior, and solving overﬁtting issues, etc. Model-based or physics-based methods are approaches that involve the knowledge of a system’s failure mecha- nisms (e.g. crack growth) to build a mathematical description of the system’s degradation process in order to estimate the RUL. The mathematical models quantitatively characterize a system’s behavior using the ﬁrst principles. E.g. Zhao et al. [8] presented a prognostics method for remaining useful life prediction for gears. The method was based on a ﬁrst-principle degradation model (Paris’ law) whose parameters were updated within a Bayesian framework. When available and suﬃciently complete, behavioral models tend to signiﬁcantly outperform other types of models [9]. Additionally, changes in model outputs as described by the residuals tend to have a direct (or easily translatable) physical meaning [10]. However, model-based methods may not be applicable to complex systems due to the lack of understanding of all failure modes and behaviors under a range of operating conditions. Model parameter identiﬁca- tion also requires extensive experiments. In addition, a model-based method is often built case by case. Hence, it is not generally applicable to a diﬀerent system without signiﬁcant amount of eﬀort. There is no universally the best prognostics method since each method has its advantages and disadvantages and sometimes case speciﬁc. It is intuitive to use a fusion approach via combining data-driven methods and model-based methods to leverage their strengths and improve the RUL prediction performance. There are generally four types of fusion approaches reported in the literature, which are listed as follows: • Use a data-driven method to infer a measurement model and a model-based method to predict RUL (e.g. [11]): This method makes it possible to use a mathematically sound model-based approach to predict system state, especially when the system state itself is not directly measurable or can not be measured accurately. The data- driven model builds a mapping from the measurement to the system state, which ideally requires the life cycle data to establish an exhaustive mapping. This is costly for some applications, while it is also reasonable to build the mapping using data collected when incipient fault is detected. • Use a data-driven method to replace a system model in a model-based RUL prediction method (e.g. [12]): Building a system model or fault growth model is prohibitive for a complex system, because it may involve detailed ﬁnite element analysis. Using a data-driven method to replace the system model provides an alternative to reduce modeling eﬀort. However, data exhaustiveness can not always be met to build such a model. For example, data in multiple temperature conditions for battery life prediction requires a signiﬁcant amount of eﬀort to collect. • Use a data-driven method to predict future measurements which are used within a model-based method (e.g. [13]): This method overcomes the hurdle of measurement availability during long-term prediction which as- sumes the system parameters to be constant in the future. The trade-oﬀ is that only accurate measurement prediction can help correct the system model. Otherwise, the prediction accuracy may not be ensured. • Combine a data-driven method and a model-based method for prediction by “averaging” their results (e.g. [14]): This method shares similar advantages and disadvantages with the data-driven methods and the model-based methods as mentioned earlier. The beneﬁt is potentially rewarding, while it requires more engineering eﬀort and it is not trivial to design the “averaging” mechanism. It was found out that a lot of research has been concentrated on the fusion approach of combining data-driven methods and model-based methods. The above mentioned methods have been proposed to fuse the two types of models with diﬀerent interfaces. These fusion methods addressed the fusion mechanism from diﬀerent aspects with 2 Page 5 of 15Accepted Manuscript / Applied Soft Computing 00 (2016) 1–13 3 a single interface (e.g. use a data-driven model to replace the system degradation model as an interface to a model- based method which eventually predicts the RUL). However, it is not clear how to fuse diﬀerent types of models with multiple interfaces to improve the prediction accuracy, especially when data becomes abundant. The proposed fusion prognostics framework uses data-driven methods both to predict future measurements and to infer the measurement model within a model-based method for RUL prediction. The content was organized as follows: Section 2 described the proposed data-driven method and model-based method fusion framework in detail. Section 3 ﬁrstly described the goal of a battery RUL prediction case study and the dataset that was used. Secondly, the prediction results of a traditional model-based method and the proposed fusion approach were analyzed. Finally, a conclusion and discussion of further improvements were given in Section 4. 2. The Proposed Data-Driven and Model-based Methods Fusion Prognostics Framework The proposed fusion prognostics framework estimated remaining useful life by combining the data-driven methods and model-based methods. The model-based method described the system degradation in the form of an analytical system equation (degradation model). The degradation model should accurately describe the general progression of degradation, however, there might always be deviations from this model in real applications. Data-driven prediction methods that incorporate historical data from both comparable systems and the very system under test can contribute to the prediction in a way that improves the prediction accuracy and lowers the uncertainty boundaries. The detailed interface between the data-driven methods and the model-based method was shown in Fig. 1 followed by a detailed descriptions of each method. The novelty of the proposed method is to introduce two data-driven methods into the classical model-based particle ﬁlter framework to improve prediction accuracy. The novelty can be summarized as follows: • Introduce a data-driven method to estimate the measurement model; • Introduce a data-driven method to predicted future measurement in long term prediction. The proposed hybrid prognostics framework generalizes the Bayesian state estimation by introducing two data- driven methods within a model-based method, which is particle ﬁlter in this case. The internal system state Xk (e.g. degradation) of a complex system is usually not directly accessible to the measurements Yk from sensors. Hence, inference needs to be made from measurements to indirectly estimate the internal system state, which is predicted by a model-based method. While the classical Bayesian state estimation relies on an analytical measurement model Yk = h (Xk) + vk, there are numerous cases where such analytical representation of the measurement model is unavailable. Consequently, a data-driven method (trained on historical data) fulﬁlls this function (ﬁrst data-driven method). Using the estimated data-driven measurement model, state tracking can be performed as usual using the system degradation model Xk = f (Xk−1) + wk. During the state prediction phase, the classical model-based particle ﬁlter applies the system degradation model to extrapolate the internal system state. In the proposed fusion prognostics framework, a second data-driven method is utilized at this stage to predict future measurements ˆYk+1 = g(Yk, Yk−1, . . . ) + uk+1 which are fed back into the particle ﬁlter algorithm. Using these predicted “measurements”, the state prediction phase is accomplished in the same way as the state tracking phase and the particles and their weights can be further updated. The case study in Section 3 demonstrated that the proposed fusion prognostics framework signiﬁcantly improved the RUL prediction accuracy while lowering the uncertainty at the same time, compared to the classical particle ﬁlter. This framework can be used in many application where knowledge about the degradation process and historical data is abundant. 2.1. The Data-Driven Methods Two data-driven methods were included in the proposed method fusion framework. One is to use the data-driven method to build a measurement model which was used to establish the mapping from the indirectly measurable internal state to the measurement. The other one was to use a data-driven method, which was trained from historical data, to predict future measurements. 3 Page 6 of 15Accepted Manuscript / Applied Soft Computing 00 (2016) 1–13 4 time measurement Features Yk State Estimation Estimated Data-Driven Measurement Model Yk = h(Xk) + vk Physics-Based Degradation Model Xk = f (Xk−1) + wk State Xk Data-Driven Measurement Prediction ˆYk+1 = g(Yk, Yk−1, . . . ) + uk+1 Measurements ˆYk+1, ˆYk+2, . . . State Prediction Estimated Data-Driven Measurement Model Yk+1 = h(Xk+1) + vk+1 Physics-Based Degradation Model Xk+1 = f (Xk) + wk+1 Degradation Progression RUL Figure 1. The proposed data-driven and model-based methods fusion prognostics framework. • Data-Driven Method for Estimating Measurement Model A measurement model can be generally described as: Yk = h (Xk) + vk, (1) where Yk is the measurement at step k, Xk is the system state at step k, h(·) denotes the measurement model function, and vk is the uncertainty term which generally pertains to model error and training data quality and can be estimated through a large number of simulations. A data-driven method is used to estimate h(·), reﬂecting the mapping between Yk and Xk. For example, support vector regression (SVR) can be adopted to build the measurement model, i.e. h (·) rep- resents the SVR model. The SVR model was created as an epsilon-SVR with a Gaussian radial basis function kernel k ( xi, xj) = exp ( −γ ∥∥∥xi − xj∥∥∥2) , with γ > 0. Historical datasets (ideally run-to-failure tests) can be used for model training; i.e. the vibration level measurements of a roller bearing can be used as training targets and the corresponding internal system state, e.g. crack length, can be used as training instances. Since the precision of the SVR model highly depended on the extent and completeness of the training data (the training data needed to cover the range of testing instances suﬃciently), adequate training data samples were important to ensure the model accuracy. Many other data-driven methods, such as adaptive neuro-fuzzy interference system (ANFIS) models [15] and Classiﬁcation and Regression Tree (CART) [16], can also be used to build the measurement model. • Data-Driven Method for Predicting Future Measurements The prediction of future measurements can be gen- erally described as to build the following model: ˆYk+1 = g(Yk, Yk−1, . . . ) + uk+1, (2) where ˆYk+1 is the predicted measurements at step k + 1, Yk, Yk−1, ... are the historical measurements, g(·) is the measurement prediction model, and uk+1 is the noise term. The predicted values served as new “measurements” that were fed into the model-based method (e.g. particle ﬁlter) during long-term prediction. Many data-driven methods mentioned in Section 1 can be used to predict future measurements. However, most of these methods require a training phase, which can be computationally intensive, to learn the patterns from historical data. When new data is available, a new training phase is generally necessary to retrain the model in order to adapt to the new dataset. In reality, the training phase can not be easily done without adequate knowledge of the algorithm unless an adaptation mechanism is well designed with the algorithm. In our case, a similarity-based prediction method, as a variation of the method proposed in [17], was proposed to predict the future measurements. Unlike many other machine learning algorithms, the proposed prediction method does not require a training phase. The method rather searches for the historical datasets for a system that is the most similar to the current measurement series (over time) of the very system under test up to time t. The measurement at time t + ∆t is determined by the measurement of the selected system’s historical measurements at time t + ∆t. Furthermore, each of the historical measurement datasets can be assigned a weight corresponding to the similarity to the measurement series of the system under test. The measurement at time t + ∆t is then calculated by the weighted average of all historical measurements at time t + ∆t. The similarity 4 Page 7 of 15Accepted Manuscript / Applied Soft Computing 00 (2016) 1–13 5 between the historical sets of measurements and the current measurements can be deﬁned by a distance measure, e.g. Euclidean or Mahalanobis distance. If a new dataset is available, the algorithm automatically incorporates for the extra dataset and calculates the prediction result. The pseudocode of the similarity-based prediction algorithm is shown in algorithm 1. 2.2. The Model-Based Method The model-based method was used to predict the future system state, which can be generally described as follows: Xk = f (Xk−1) + wk, (3) where Xk is the system state at current step k, Xk−1 is the system state at the previous step, and wk is the noise term. Particle ﬁlter can be adopted for both system state tracking and prediction. The system degradation was assumed to be a ﬁrst-order Markov process, i.e. the current state was only dependent upon the last state. Ensuing from the def- inition of the initial state probability density function (pdf) p (X0), the state probability transition density p ( Xk| Xk−1) and the marginal ﬁltering density p ( Xk| Y1:k), the latent system state was estimated by the following equations [18]: p ( Xk| Y1:k−1) = ∫ p ( Xk| Xk−1) p ( Xk−1| Y1:k−1) dXk−1, p ( Xk| Y1:k) = p ( Yk| Xk) p ( Xk| Y1:k−1) p ( Yk| Y1:k−1) , p ( Yk| Y1:k−1) = ∫ p ( Yk| Xk) p ( Xk| Y1:k−1) dXk. (4) Since the system equation was nonlinear, it was not obvious to derive the closed-form solution to the recursive Bayesian state estimation problem (Eq. 4). Sequential Monte Carlo sampling (particle ﬁlter) was employed to calcu- late an approximation of the posterior marginal ﬁltering density p ( Xk| Y1:k) by a weighted set of particles π 1 k, . . . , πM k , i.e. p ( Xk| Y1:k) ≈ M∑ i=1 πi kδ (Xk − Xi k), M∑ i=1 π i k = 1, (5) where M denoted the number of particles and δ was the Dirac delta distribution. When new measurements became available, the weights were recursively updated using importance sampling, i.e. the likelihood of the observation (measurement) given the state of each particle was used for updating: πi k ∝ π i k−1 p ( Yk| Xi k) . (6) To avoid the degeneracy problem of the particle ﬁlter algorithm (a single particle has a weight of (close to) one while all the other particles have weights of (close to) zero [19]), resampling can be performed in every iteration step (bootstrap particle ﬁlter) with systematic resampling scheme. This generic particle ﬁlter approach was adapted to the application by identifying the measurement model, the system model and the initial state distribution as well as the noise terms. In summary, the model-based method (e.g. standard particle ﬁlter) performed state tracking in parallel with pa- rameter identiﬁcation of the system model during the state tracking phase when actual measurements were available. The state prediction was accomplished based on the last estimated state by using the system equation (degradation model). The proposed approach was similar to the standard particle ﬁlter during the state tracking, however, the state prediction was diﬀerent. For the state prediction, new “measurements” were provided through a data-driven prediction 5 Page 8 of 15Accepted Manuscript / Applied Soft Computing 00 (2016) 1–13 6 t Time stamp MEAS c,t Current measurement at time stamp t of the system under test tc Current time stamp MEAS threshold Measurement threshold beyond which the system fails cur Measurements history of the system under test N Number of historical datasets i Index of historical datasets (1 ≤ i ≤ N) j Index of prediction steps tb Beginning time of a historical dataset during calculation ti End time of the i th historical dataset during calculation tei Actual end time of the i th historical dataset hist j Historical measurements up to the j th prediction step hist MEAS i,t The i th historical measurement at time stamp t s j Similarity measure at j th prediction step pred j Prediction result at jth prediction step ∆t Time between prediction steps ind Index of the maximum similarity measure si,tc Similarity measure of the ith historical dataset at time stamp tc predi,tc Predicted measurement of the i th historical dataset at time stamp tc while MEAS c,tc ≤ MEAS threshold do cur ← MEAS c,t, 0 ≤ t ≤ tc; i = 0, j = 1; while i ≤ N do i = i + 1; tb = 0, ti = tc; while ti < tei do hist j ← hist MEAS i,t, tb ≤ t ≤ ti; s j = 1/ √∑ti t=tb (cur2 − hist2 j ); pred j = hist MEAS i,ti+∆t; j = j + 1; tb = tb + ∆t; ti = ti + ∆t; end ind = argmax j(s j); si,tc = sind; predi,tc = predind; end MEAS c,tc+∆t = ∑N i=1 si,tc ×predi,tc∑N i=1 si,tc ; tc = tc + ∆t; end Algorithm 1: A Similarity-Based Prediction Procedure 6 Page 9 of 15Accepted Manuscript / Applied Soft Computing 00 (2016) 1–13 7 method. A similarity-based prediction method (trained on run-to-failure datasets) predicted the measurements during the prediction phase to provide new “measurements”. This provided the possibility to update the particle weights during the prediction phase and thus corrected an imperfect model-based degradation model or highly varying mea- surements at the end of the state tracking phase. Otherwise, the signiﬁcant prediction error of the internal state can lead to wrong RUL prediction results. The presented fusion framework expanded the framework presented by Liu et al. [18] in the way that a measurement model was introduced, which diﬀered from the canonical representation Yk = Xk + vk, i.e. that accounted for those cases, where the internal state was not directly accessible/measurable. Consequently, a model-based method with data-driven prediction of new “measurements” and a data-driven measure- ment model can gap the bridge between purely data-driven prediction methods that do not account for the physical degradation process, and the model-based method, that only relies on the potentially imperfect degradation model for state prediction. 3. Case Study and Results The proposed data-driven and model-based methods fusion framework was applied to a battery degradation case study in order to show the potential beneﬁt of the fusion method. 3.1. Battery RUL Prediction and Dataset The determination of the state of charge (SOC) as well as the determination and prediction of the state of health (SOH) of batteries plays an increasing role to ensure the reliability and safety of various battery powered and supported devices. The SOC ranges from SOC = 0 % (empty) to SOC = 100 % (full) and indicates the current charge level of the battery while being in use. The SOH is a ﬁgure of merit to assess the battery’s current health state within its life cycle and thus can be used as a precursor for an approaching failure. One of the possibilities to deﬁne the SOH is based on the internal battery parameters (e.g. resistance). Fig. 2 depicts a lumped parameter battery model for lithium-ion cells. The model parameters change with various aging and fault processes like plate sulfation, passivation, and corrosion [20]. The changes of the internal battery parameters are used to track the battery degradation process and assess the current SOH. The aim of a prognostics approach is to identify and predict the health parameters and give an estimation of the RUL. We identiﬁed the batteries’ internal resistance as implied by the lumped parameter model as a suitable health indicator and failure precursor and conducted RUL predictions based on the evolution of this resistance. RE RCT RW CDL Figure 2. Lumped parameter model of a lithium-ion battery for non-dynamic battery applications. RW . . . Warburg impedance, RCT . . . charge transfer resistance, RE . . . electrolyte resitance, CDL . . . dual layer capacitance [20]. The proposed fusion framework was applied for RUL predictions of lithium-ion batteries using datasets provided by the Prognostics CoE at NASA Ames [21]. The lithium-ion batteries were run through a sequence of charge, discharge and impedance tests at diﬀerent temperatures and the capacity as well as the voltage and current curves were measured in each discharging cycle. The selected set of batteries was tested at temperatures of 4 ◦C and 24 ◦C, respectively. Discharging was carried out in a constant current mode (ﬁxed current load) at 2 A until the voltage dropped from initial 4.2 V to 2.2 V, 2.5 V and 2.7 V, receptively. The tests were repeated until the capacity faded to 1.4 Ahr and 1.6 Ahr, respectively (end of life). Although the internal battery resistance was accessible through electrochemical impedance spectroscopy (EIS), the measurement was complex and expensive and thus not always available in industrial applications. Therefore, 7 Page 10 of 15Accepted Manuscript / Applied Soft Computing 00 (2016) 1–13 8 the internal resistance was derived from the discharge curve logged during each discharge cycle based on the model presented by Luo et al. [22]: E (t) = E0 − I (t) (RW (t) + RCT (t) + RE (t)) , (7) with RW (t) = α1 exp(−α2/t) . . . Warburg impedance, RCT (t) = α3 exp(−α4t) . . . charge transfer resistance, RE (t) = α5t + α6 . . . electrolyte resistance, (8) and the open circuit voltage E0. The model considered a lumped parameter model for non-dynamic battery applications and incorporated the three resistances as well as the dual layer capacitance of the battery. The model parameters α1, . . . , α6 were derived from the discharge curves using nonlinear curve-ﬁtting in the least-squares sense with a trust region algorithm. Since the order of magnitude of the model parameters distinctly varied, it was favorable to supply an analytical expression of the ﬁrst derivative of the model function rather than a numerical approximation in order to avoid numerical errors. The lower boundary for all parameters to be estimated within the trust region optimization was set to zero in order to constrain the results to physically meaningful values. The six degrees of freedom of the model function resulted in many local minima of the cost function S = ∑N i=1 (E (i) − E (t = ti)) 2. Therefore, an optimization algorithm like simulated annealing that is capable of escaping from local minima and is more likely to ﬁnd the global minimum can be used to ﬁnd initial values for the parameters and subsequently perform curve ﬁtting starting with these initial values. The internal battery resistance was eventually calculated by summarizing the resistances RCT and RE at the end of the discharge cycle, i.e. Zk = RCT (tend)+RE (tend). Note that only the voltage and current measured at each discharge cycle were required to estimate the internal battery resistance. While the battery aging proceeded, the internal resistance evolved according to an exponential degradation model [18], which was utilized in the model-based method (particle ﬁlter) as described in 2.2: Zk = Zk−1 exp (Λk−1) + wk, Λk = Λk−1 + ωk, Xk = [Zk; Λk] , Yk = h (Xk) + vk, (9) where Z denotes the internal battery resistance and Λ denotes the exponential decay parameter (model parameter). Xk is the system state. The noise terms wk, ωk and vk are zero mean normal distributions. During the state tracking phase, the battery’s capacities were provided as measurements, which necessitated a measurement model (Yk = h (Xk) + wk) that derived the battery’s capacity from its internal resistance. Support vector regressions (SVR) with training on ﬁve batteries was adopted to build the measurement model. Datasets of run-to- failure tests from ﬁve batteries were used for model training, i.e. the capacities measured for each discharge cycle were used as training targets and the corresponding internal resistances derived from the discharge curves were the training instances (the capacity was measured within the same discharge cycles). The trained SVR model was eventually used to estimate the capacity of the test battery from the internal resistance obtained from particle ﬁlter. One major source of uncertainty and potential deviation of the estimated capacity from the real, measured capacity (ground truth) was introduced by the SVR model. It is certainly possible to map the testing resistances with the training database of resistances in the sense of ﬁnding the closest resistance (nearest neighbor) from the training data base in terms of a certain distance measure, e.g. Euclidean distance. The corresponding capacity of the selected resistance from the training database of resistances was then the estimated capacity for the testing case. However, this model had the major drawback of possibly non-monotonic outputs for a monotonic set of input (testing) resistances. The trained SVR model overcame this pitfall and yield a smooth, monotonic output for the actual range of training data and a certain interval around it (reserve margins). Hence, the SVR model was preferred especially in those cases where the training data and the corresponding labels were highly varying and a straightforward mapping would introduce inadvertent ﬂuctuations. 8 Page 11 of 15Accepted Manuscript / Applied Soft Computing 00 (2016) 1–13 9 The similarity-based prediction method as proposed in Section 2.1 was used to predict the future measurements of the battery capacity based on historical measurements. The predicted capacity values served as new “measurements” that were fed into the particle ﬁlter algorithm. State prediction was eventually performed in the exact same way as particle ﬁlter state tracking/estimation. The similarity measure was chosen as the Euclidean distance in this case and the same historical set of (capacity) measurements as used for the SVR model training was used for similarity-based prediction. 3.2. RUL Prediction Result The prediction performance of the standard particle ﬁlter, a data-driven method, and the proposed fusion prognos- tics method was evaluated based on an average of 50 RUL estimations for each prediction starting from cycle 25 to the end of life (EOL). The data-driven method used here is similar to the similarity method described in Algorithm 1. Instead of predicting the measurement, we use the algorithm to predict the RUL by weighting the RUL of diﬀerent dataset based on the similarity of past state degradation pattern. Fig. 3 showed an exemplary result of the RUL pdfs for predictions starting at cycle 41. The RUL pdfs were assumed to follow a normal distribution and the correspond- ing mean (RUL estimation) and standard deviation (conﬁdence boundaries) were derived. The vertical lines indicated the mean values of the RUL pdfs and the real RUL (ground truth), respectively. The RUL pdf of the proposed fu- sion prognostics method was not only centered closer to the real RUL but also had a smaller standard deviation and hence narrower conﬁdence boundaries. The RUL estimations of the proposed fusion prognostics method, the standard particle ﬁlter, and the data driven method were 1 cycle early, 4 cycles early, and 11 cycles late, respectively, and the standard deviations were 7 cycles, 20 cycles, and 7.23 cycles, respectively. The proposed fusion method outperformed the standard particle ﬁlter method and the data driven method in terms of both a RUL estimation closer to the real RUL and narrower conﬁdence boundaries. 20 30 40 50 60 70 80 90 100 0.00 0.01 0.02 0.03 0.04 0.05 0.06 0.07 CycleProbability Particle Filter Proposed Fusion Prognostics Method Data Driven Method Real RUL Figure 3. RUL pdfs for the particle ﬁlter, the data-driven method and the proposed fusion prognostics method To assess the overall RUL prediction performance, the results for diﬀerent prediction starting points were shown in Fig. 4, Fig. 5, and Fig. 6 for the standard particle ﬁlter, the data-driven method, and the proposed fusion prognostics method, respectively. The starting point of prediction varied from the 25th cycle up to the 105th cycle (EOL). The mean value and standard deviation were calculated from 50 runs of RUL estimations starting at the 25th cycle until the EOL. Because the data-driven method is deterministic, the mean value and standard deviation were calculated from all the datasets used for prediction. The shaded areas indicated the mean standard deviations that were derived from the RUL pdfs under the assumption of a normal distribution. The light blue area showed the three sigma tolerance interval that covered 99.7 % of the RUL pdf at each cycle. The intermediate area showed the two-sigma tolerance interval that covered 95.4 % of the RUL pdf at each cycle, and the dark blue area in the center showed the one-sigma tolerance interval that covered 68.2 % of the RUL pdf at each cycle, respectively. The dark blue line in the center was 9 Page 12 of 15Accepted Manuscript / Applied Soft Computing 00 (2016) 1–13 10 EOL−80 EOL−70 EOL−60 EOL−50 EOL−40 EOL−30 EOL−20 EOL−10 EOL 0 25 50 75 100 125 150 CycleRULoinoCycles RULoPredictedoByoParticleoFiltero+oPredictionoBoundaries RealoRULo(GroundoTruth) Figure 4. Prediction result of the model-based method (particle ﬁlter) EOL−80 EOL−70 EOL−60 EOL−50 EOL−40 EOL−30 EOL−20 EOL−10 EOL 0 25 50 75 100 125 150 CycleRUL in Cycles RUL Predicted by Data Driven Method Real RUL (Ground Truth) Figure 5. Prediction result of the data-driven method 10 Page 13 of 15Accepted Manuscript / Applied Soft Computing 00 (2016) 1–13 11 EOL−80 EOL−70 EOL−60 EOL−50 EOL−40 EOL−30 EOL−20 EOL−10 EOL 0 25 50 75 100 125 150 CycleRULuinuCycles RULuPredicteduByuProposeduFusionuPrognosticsuMethodu+uPredictionuBoundaries RealuRULuTGrounduTruth) Figure 6. Prediciton result of the proposed fusion prognostics method Table 1. Prediction result comparison Method MAE (Cycles) Mean Prediction Interval (Cycles) Particle ﬁlter 9.8334 28.5845 Data-driven method 10.1857 20.9411 Proposed hybrid method 3.3309 12.5627 the average mean value for each cycle and hence represented the actual estimated RUL. The red line represented the real RUL (ground truth). The following two criteria were used to assess the prediction performance in terms of both prediction accuracy and conﬁdence boundaries. The comparison of the prediction result is shown in Table 1. • Mean absolute error MAE [23]: The mean value of the absolute diﬀerence of the predicted and the real RUL was calculated for the particle ﬁlter method (MAE = 9.8334 cycles), the data-driven method (MAE = 10.1857 cycles), and the proposed fusion prognostics method (MAE = 3.3309 cycles). The mean absolute er- rors of the particle ﬁlter method and the data-driven method were 295.22 % and 305.79 % higher than that of the proposed fusion prognostics method, respectively. • Mean one standard deviation (one σ) tolerance interval S: The mean value of the one standard deviation tol- erance interval ([µ − σ, µ + σ] ) was calculated for both the particle ﬁlter (S = 28.5845 cycles), the data-driven method (S = 20.9411 cycles), and the proposed fusion prognostics method (S = 12.5627 cycles). The conﬁ- dence boundaries of the particle ﬁlter method and the data-driven method were 227.53 % and 166.69 % higher than that of the proposed method, respectively. While the RUL conﬁdence boundaries of the standard particle ﬁlter method and the data-driven method narrowed with a later starting point of prediction, the proposed fusion prognostics method did not exhibit this behavior since resampling is performed either when degeneration of the particles occurs or after every step (bootstrap particle ﬁlter), which led the particles distribute around the most likely state vector and hence narrowed the conﬁdence boundaries. The prognostics performance metrics for both prediction techniques clearly showed that the proposed fusion prog- nostics method had a superior prognostics performance over either the standard particle ﬁlter method or the data-driven 11 Page 14 of 15Accepted Manuscript / Applied Soft Computing 00 (2016) 1–13 12 method. Not only were the RUL estimations of the proposed method closer to the real RUL, but also did this method narrow the conﬁdence boundaries of the RUL estimations considerably. 4. Discussion and Conclusion A fusion prognostics framework was proposed to combine the data-driven method and the model-based method for system remaining useful life prediction. The proposed method introduces two data-driven methods into the classical model-based particle ﬁlter framework. The advantages of the proposed method are summarized as follows. The ﬁrst data-driven method builds a mapping from the measurement to the system state in the case when the system state is not directly measurable. This provides a mathematically sound approach to use the model-based method for prediction. The second data-driven model predicts future measurements to reduce the uncertainty of the long- term prediction made by the model-based method. The prediction accuracy and uncertainty interval of the proposed methods are demonstrated to be superior to the standard particle ﬁlter method and a data-driven method through a battery degradation and RUL prediction case study. The proposed fusion method has its limitations. While the prediction of measurements via a data-driven predictor in the proposed fusion framework was well suited to reduce the sensitivity of the standard model-based method to anomalous measurements, the question arises, whether the predicted measurements should be considered as more reliable to track the system degradation than the actual model-based degradation model? The key to this philosophical quandary can be seen in an increased uncertainty (noise term) in the measurement equation during the long-term pre- diction. Consequently, the system evolution should be suﬃciently robust to not blindly trust and follow the predicted measurements, but rather rely on the degradation model. However, in case of strongly deviating model parameters, e.g. caused by anomalies in the measurements at the end of the state tracking phase, the predicted measurements should be able to guide the parameters back to reasonable values. The implication of the predicted measurements therefore should be regarded as failure avoidance, not as measurements that are unconditionally considered as trust- worthy. Although the determination of the corresponding uncertainties can be a balancing act, the performance of the proposed fusion prognostics method was superior to the standard particle ﬁlter. The proposed method was reasonable and can improve the prognostic performance especially in those cases where the measurements were very noisy and non-monotonic and/or the actual system degradation process signiﬁcantly diﬀered from the model-based degradation model. However, the predicted measurements may not be considered as panacea to overcome limited knowledge of the underlying physics of the degradation process. Furthermore, few literature has mentioned the practices of using the fusion method which incorporates all experience- based methods (e.g. IF-THEN rules based directly on domain experts [24]), data-driven methods and model-based methods. For future research, it is potentially beneﬁcial of fusing all types of information (e.g. domain knowledge, maintenance feedback, and condition data and physics) and leveraging the strengths of all types of methods to better manage the prediction uncertainty. Despite of the opportunities brought by the fusion methods, challenges remain in how to design the fusing method (e.g. using neural network to incorporate rule based experience and condition data) to integrate heterogeneous information, how to aggregate results from diﬀerent competing models (e.g. using Dempster-Shafer-based regression or a Bayesian framework), and how to utilize data-driven methods to reduce the prediction uncertainty (e.g. using data-driven models to estimate the measurement model or replace a system model). [1] Iso 13381-1, condition monitoring and diagnostics of machines prognostics part 1: General guidelines: International standards organization (2004). [2] X. Si, W. Wang, C. Hu, D. Zhou, Remaining useful life estimation a review on the statistical data driven approaches, European Journal of Operational Research 213 (1) (2011) 1–14. [3] K. Medjaher, D. Tobon-Mejia, N. Zerhouni, Remaining useful life estimation of critical components with application to bearings, IEEE Transactions on Reliability 61 (2) (2012) 292–302. [4] D. Liu, Y. Luo, Y. Peng, X. Peng, M. Pecht, Lithium-ion battery remaining useful life estimation based on nonlinear ar model combined with degradation feature, in: Annual Conference of the Prognostics and Health Management Society, Vol. 3, 2012. [5] H. Guo, S. Watson, P. Tavner, J. Xiang, Reliability analysis for wind turbines with incomplete failure data collected from after the date of initial installation, Reliability Engineering & System Safety 94 (6) (2009) 1057–1063. [6] D. Li, W. Wang, F. Ismail, Enhanced fuzzy-ﬁltered neural networks for material fatigue prognosis, Applied Soft Computing (2012). [7] J. Yu, A hybrid feature selection scheme and self-organizing map model for machine health assessment, Applied Soft Computing 11 (5) (2011) 4041–4054. [8] F. Zhao, Z. Tian, Y. Zeng, Uncertainty quantiﬁcation in gear remaining useful life prediction through an integrated prognostics method, IEEE Transactions on Reliability. 12 Page 15 of 15Accepted Manuscript / Applied Soft Computing 00 (2016) 1–13 13 [9] J. Luo, M. Namburu, K. Pattipati, L. Qiao, M. Kawamoto, S. Chigusa, Model-based prognostic techniques, in: IEEE Systems Readiness Technology Conference. AUTOTESTCON 2003., IEEE, 2003, pp. 330–340. [10] J. Sikorska, M. Hodkiewicz, L. Ma, Prognostic modelling options for remaining useful life estimation by industry, Mechanical Systems and Signal Processing 25 (5) (2011) 1803–1836. [11] P. Baraldi, M. Compare, S. Sauco, E. Zio, Fatigue crack growth prognostics by particle ﬁltering and ensemble neural networks, in: First European Conference of the Prognostics and Health Management Society, Vol. 3, 2012. [12] C. Chen, G. Vachtsevanos, M. Orchard, Machine remaining useful life prediction: An integrated adaptive neuro-fuzzy and high-order particle ﬁltering approach, Mechanical Systems and Signal Processing 28 (2011) 597–607. [13] M. E. Orchard, A particle ﬁltering-based framework for on-line fault diagnosis and failure prognosis, PhD Thesis, Georgia Institute of Technology, 2006. [14] K. Goebel, N. Eklund, P. Bonanni, Fusing competing prediction algorithms for prognostics, in: IEEE Aerospace Conference, IEEE, 2006, pp. 10–pp. [15] M. Schlechtingen, I. F. Santos, Wind turbine condition monitoring based on scada data using normal behavior models. part 2: Application examples, Applied Soft Computing 14 (2014) 447–460. [16] M. Seera, C. P. Lim, D. Ishak, H. Singh, Oﬄine and online fault detection and diagnosis of induction motors using a hybrid soft computing model, Applied Soft Computing 13 (12) (2013) 4493–4507. [17] T. Wang, J. Yu, D. Siegel, J. Lee, A similarity-based prognostics approach for remaining useful life estimation of engineered systems, in: Prognostics and Health Management, 2008. PHM 2008. International Conference on, IEEE, 2008, pp. 1–6. [18] J. Liu, W. Wang, F. Ma, Y. Yang, C. Yang, A data-model-fusion prognostic framework for dynamic system state forecasting, Engineering Applications of Artiﬁcial Intelligence 25 (2012) 814–823. [19] R. Douc, O. Capp´e, Comparison of resampling schemes for particle ﬁltering, in: Image and Signal Processing and Analysis, 2005. ISPA 2005. Proceedings of the 4th International Symposium on, IEEE, 2005, pp. 64–69. [20] K. Goebel, B. Saha, A. Saxena, J. Celaya, J. Christophersen, Prognostics in battery health management, Instrumentation & Measurement Magazine, IEEE 11 (4) (2008) 33–40. [21] B. Saha, K. Goebel, Battery data set, in: NASA Ames Prognostics Data Repository, NASA Ames, Moﬀett Field, CA, 2007. URL http://ti.arc.nasa.gov/project/prognostic-data-repository [22] W. Luo, C. Lv, L. Wang, C. Liu, Study on impedance model of li-ion battery, in: Industrial Electronics and Applications (ICIEA), 2011 6th IEEE Conference on, IEEE, 2011, pp. 1943–1947. [23] A. Saxena, J. Celaya, E. Balaban, K. Goebel, B. Saha, S. Saha, M. Schwabacher, Metrics for evaluating performance of prognostic techniques, in: Prognostics and Health Management, 2008. PHM 2008. International Conference on, IEEE, 2008, pp. 1–17. [24] T. Biagetti, E. Sciubba, Automatic diagnostics and prognostics of energy conversion processes via knowledge-based systems Energy, Energy, 2004, 29, pp. 2553–2572. 13","libVersion":"0.3.2","langs":""}