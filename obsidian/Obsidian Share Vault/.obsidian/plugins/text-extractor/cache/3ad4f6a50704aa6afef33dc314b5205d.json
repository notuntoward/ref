{"path":"lit/lit_sources/Zhang_2023_IEEE_PESGM_regulation.pdf","text":"Estimation of Regulation Reserve Requirements in California ISO: A Data-driven Method Li He, M. IEEE The University of Texas at Dallas Richardson, TX 75080, USA Email: li.he@utdallas.edu Jie Zhang, S.M. IEEE The University of Texas at Dallas Richardson, TX 75080, USA Email: jiezhang@utdallas.edu Benjamin Hobbs, L.F. IEEE Johns Hopkins University Baltimore, MD 21218, USA Email: bhobbs@jhu.edu Abstract—This paper proposes a data-driven method to esti- mate real-time regulation reserve requirements in the California Independent System Operator (CAISO) balancing authority area (BAA). The approach is based on the statistical analysis of actual historical area control error (ACE) and regulation procurement in the CAISO system. The CAISO baseline method uses day- ahead (DA) information and does not statistically relate require- ments in real time. In this work, we examine the benefit of setting requirements in real time, and the proposed method presents advantages rather than the present DA approach by using additional 1-hour-ahead (1HA) independent variables to estimate requirements. By adopting a time series forecasting technique, the approach estimates regulation reserve requirements on an hourly basis. More specifically, a neural network based upon a nonlinear autoregressive exogenous model (NARX), which accounts for tem- poral continuity and autocorrelation, is leveraged for regulation requirements estimation. The proposed approach incorporates multiple time-series variables that might affect the system balance (e.g., solar, wind, and load). Two metrics are adopted to evaluate method performance: 1) frequency of shortage, and 2) oversupply of the regulation reserve requirement. By dynamically tuning the parameters of the procurement strategies, system regulation reserve requirements were reduced without compromising system reliability, improving both system reliability and economics. Index Terms—Time-series forecasting, regulation reserve re- quirements, system reliability and economics. I. INTRODUCTION The California energy system experiences significant chal- lenges caused by the dramatic growth of renewable generation in recent years. As a result, the California Independent System Operator (CAISO) is facing multiple critical and interrelated issues that are challenging to be resolved. The ever-increasing penetration of grid-scale and distributed solar resources has caused frequent negative prices, increasing demand for ancil- lary services, and spikes in reserve procurement prices [1], [2], [3]. Recent studies on the integration of renewable energy resources indicated that the system requires a significant revolution in reserve procurement, because of the variability and forecast uncertainty associated with the high penetration levels of renewable resources. Regulation is the process of providing real-time balance to the system by adjusting the energy output of generating units connected to the automatic generation control (AGC) system. The CAISO procures these regulation-up and -down in both day-ahead (DA) and real-time (RT) markets to provide the system balance every 4 seconds by adjusting the power output. Before 2016 regulation-up and regulation-down requirements in the DA market were approximately 300 MW. However, in order to comply with control performance requirements with higher renewable penetrations, regulation procurement is more dynamic than that in past years and could be adjusted daily or hourly due to operating variances or system conditions [4]. Besides, CAISO has to pay from $90,000 to $500,000 per day for extra regulation, with the average regulation prices increasing from $6-7/MW to $15-20/MW [5]. In general, operating reserve requirements depend on the combination and interaction of multiple considerations. Nowa- days, the main factor affecting the balancing requirements is renewable generation and its volatility. However, other factors such as the grid situation, load conditions, market fluctuations, weather scenarios, and contingencies, could also have significant impacts. Our prior works [6], [7], [8] have fo- cused on translating probabilistic solar forecasts into weather- conditioned projections of flexible ramp product (FRP) needs for the CAISO system, and the performance of the methods we propose is evaluated by measuring both economic and reliability performance. Other works such as [3], [5], [9] have attempted to improve regulation procurement by con- sidering renewable power uncertainty, load forecasting errors, and control area imbalances in the historical data. However, these works have not considered information about system uncertainty available in real time. Besides, their evaluation of the regulation prediction was purely based on the amount procured or its cost, while the potential loss in reliability was not analyzed. In this paper, a data-driven method is developed to deter- mine regulation reserve requirements in the CAISO market. The method forecasts the regulation requirement to meet the control performance metrics in the system, i.e., area control errors (ACE), by leveraging a neural network based upon a non-linear autoregressive exogenous model [10]. Specifically, the forecasting target is the future time-series regulation re- serve requirement. The input to the regulation requirement estimation model includes the previous values of the same series, as well as the current and past values of the exogenous series, i.e., the externally determined series that influences the series of interest, such as renewable generation and volatility. The effectiveness of different procurement strategies and the sensitivity of tuning parameters are also discussed. The rest of the paper is organized as follows. Section II de- scribes the proposed methodology for regulation procurement. Results of a case study are discussed and analyzed in Section III, and Section IV concludes the paper. II. METHODOLOGY There are two different approaches to determine the regula- tion reserve requirements in the existing literature: i) statistical analysis of ACE, and ii) the balancing authority (BA) ACE limit (BAAL) standard [11]. It should be noted that this work only focuses on the former approach. The overall flowchart of the proposed data-driven regulation reserve estimation method- ology is illustrated in Fig. 1. Section II-A describes how the ideal regulation requirement is obtained in the system, Section II-B introduces the current CASIO baseline method, Section II-C summarizes the forecasting model, and Section II-D introduces the adaptive procurement strategy and performance assessment metrics. Fig. 1. Flowchart of the proposed method for estimating regulation reserve requirements. A. ACE and Regulation According to Ref. [3], a minute-by-minute “ideal” regula- tion (i.e., ACE∗) can be calculated by subtracting the actual ACE from the actual regulation values, given by: REG∗ = −ACE∗ = −(ACE − REGactual) (1) where REGactual is the actual regulation applied to the system balancing, and ACE is the BA’s control error. As a result, ACE∗ will be an estimate of the ACE that would occur without any regulation, and this value also represents the ideal regulation which ISO wants to procure in the system to achieve a zero ACE. In a conventional statistical method, the historical ACE∗ values are analyzed to generate future ACE∗ forecasts. The CAISO also uses percentiles to eliminate certain percentages of extreme values on both sides of the distribution, since the regulation procurement is not designed to cover all possible deviation of ACE. This also helps to determine different intervals corresponding to certain level of confidence. For example, the operator could procure more regulation when the system is facing higher uncertainty caused by renewable generation. The detailed setup of the method is described in Section II-D. B. CAISO Baseline Method The CAISO presently sets its regulation reserve target as a percentage of the system’s demand forecast for the hour, to meet Western Electricity Coordinating Council (WECC) and North American Electric Reliability Corporation (NERC) per- formance standards. The current approach used to determine regulation requirements in the CAISO has been discussed in [12], which is briefly summarized as follows: 1) Historical Need: For each hour, the CAISO examines the 95th percentile of regulation required as calculated by the control algorithm. The data from the same month last year is also used to inform procurement for the current month. 2) Anticipated Variability / Forecast Uncertainty: The CAISO examines the performance from recent days that had higher forecast uncertainty in order to inform change in procurement related to weather. For example, a large weather system moving across California will cause variability in cloud cover and wind speed/direction. It is noted that the targets can be different for regulation- up and regulation-down, and can also vary based on the operating hour. CAISO’s regulation targets may also change if its demand forecast changes after running the day-ahead market. For more details, please refer to [4]. Figure 2 illustrates an example of REG∗ and the base- line regulation requirements in CAISO for one week (i.e., September 1-7, 2019)1. It is observed that the daily baseline regulation procurement differs significantly within this week. Generally, the baseline procurement covers the ACE∗ very well, however, regulation shortages are still observed during some periods. On the other hand, regulation oversupply occurs on some days, implying that the system doesn’t need that much reserve since it experiences less uncertainty and has a lower ACE. The profile also explains the motivation of dynamic regulation estimation: i) days with higher uncertainty need should procure more reserve than normal days to improve the system reliability, and ii) if similar amounts are procured in all hours without considering the dynamics in the system, over- procurement compromises economic efficiency of operations. Fig. 2. Regulation-up and -down requirements resulted from the CAISO baseline method in one week (transformed data from CAISO in Sept. 2019) C. NARX Network-based Forecasting The NARX neural network is a dynamical neural architec- ture, which is commonly used for input-output modeling of 1To comply with non-disclosure agreements, in this work all the regulation- up and -down requirements, ACE, ACE∗, and regulation procurement data have been subjected to an affine transformation, and so will not correspond with OASIS data in Section III. nonlinear dynamical systems. The experimental results in Ref. [10] showed that NARX networks are better in discovering chaotic characteristics and behavior of long time series than conventional recurrent neural networks (RNN). The architec- ture of the NARX network makes it highly applicable to look- ahead prediction of univariate time series. In this paper, the NARX model is represented as: ˆy(t) = f (y(t − 1), ..., y(t − n), u(t − 1), ..., u(t − n)) (2) where u(t) represents exogenous input of the model, y(t) is the dependent output, and n is the lags of the input and output. The forecasted value of the output ˆy(t) (i.e., ˆACE∗) is obtained based on previous values of y(t) (i.e., historical ACE∗) and u(t) (i.e., exogenous factors). It is noted that Eq. (2) only forms in one-step ahead, but the model is also compatible with multiple-steps ahead. The mean absolute percentage error (MAPE) is calculated to evaluate the accuracy of the proposed netload forecasting. M AP E = 1 n n∑ t=1 ∣ ∣ ∣ ∣ ∣ ˆy(t) − y(t) y(t) ∣ ∣ ∣ ∣ ∣ (3) where ˆy and y denote the forecasted and actual values, respectively, and n denotes the number of datapoints. Regulation and balancing requirements depend on the com- bination and interplay of multiple uncertain factors. In addition to solar, wind, and load, the ramps of these variables are also considered, because the ACE is known to correspond to the changes/variations of load and renewables. The ramps are computed as the first-order derivatives using finite differences of the variables, and are named solar ramp, wind ramp, and load ramp. Then a feature selection is performed to screen the crucial inputs which yield the best forecasting performance, as documented for our application in Section III-A below. D. Procurement Strategy and Performance Evaluation The regulation requirements for the CAISO are the result of a combination of an analysis of historical regulation needs and anticipated variability and forecast uncertainty. Although we attempt to minimize regulation procurement using exogenous input-informed forecasting methods, it is challenging to predict the actual ACE in a realistic system. The market operator has to determine appropriate procurement strategies based on relative priority assigned to reducing procurement cost or improving reliability. A risk-averse operator can always purchase more reserve in the market to avoid greater losses if a contingency happens, however, this conservative strategy compromises economic operation. On the other hand, an aggressive operator might choose to reduce procurement cost, leaving the system at potentially higher risk. Our hypothesis in this work is that we can utilize historical ACE∗ and other exogenous inputs to forecast the future ACE∗ on a near real-time basis, then use the forecasted ACE∗ signal to determine regulation procurement. It is ex- pected that this procurement strategy will perform better than the ISO baseline method. The forecast is performed on a rolling basis by using ACE∗ in previous several weeks. We propose the following approach of defining the regulation requirement as: REG∗ = max(Pmin, β × ˆACE∗) + z(t) × Pextra (4) where Pmin is a lower bound to the regulation requirement, ˆACE∗ is the forecasted ACE adjusted for the amount of regulation actually dispatched as defined in Eq. (1), β is a multiplier, and Pextra is an increase in procurement for t in day-time hours (6:00 to 20:00, when z(t) =1; otherwise z(t) =0). Pmin, β, and Pextra are tuned parameters to maximize the performance. An example of Pmin =491 MW and Pextra = 0 has been shown in Fig. 2. Hereby the sensitivity of the three tuning parameters is examined by: 1) Multiplying the forecasted ˆACE∗ value by various values of the factor β. Higher values provide a greater safety margin for regulation procurement. 2) Reducing the minimal regulation-up procurement for all previous Pmin hours to save procurement costs of the system, so the final requirement is max(Pmin, β × ˆACE∗). Please note that the transformed minimal pro- curement for CAISO’s baseline is 491 MW for hours with less fluctuations in ACE∗ (i.e., 8 p.m. to 6 a.m. in Fig. 2). 3) Adding an extra amount of procurement Pextra to compensate for possible shortages of forecasted ˆACE∗ in hours with more fluctuations, i.e., max(Pmin, β × ˆACE∗) + z(t) × Pextra. A Pareto plot as proposed in Fig. 3 is used to show the relative performance of the regulation requirement estimation method, by showing both how often the regulation shortages occur and amounts of excess regulation (the amount above what is needed to meet actual ACE) for a given method as a point on an x-y plot. The figure shows the trade-off between reliability and oversupply in the form of Pareto frontiers. The point at the intersection of two dashed lines represents CAISO’s baseline implementation. The dashed cross divides the plane into four quadrants (I, II, III, and IV), where points in Quadrant III indicate an improvement in both dimensions, yielding a strictly better outcome. Points in Quadrant I indicate degradation in both metrics, which have strictly worse results. Quadrants II and IV represent non-inferior solutions with ambiguous improvement in one objective with a degradation of the other. III. CASE STUDY AND RESULTS The transformed historical ACE∗ data in May 2020 from CAISO, which was originally averaged from 4-sec to a 1- min resolution, has been aggregated into a 15-min resolution (i.e., choosing the maximum value in every 15 minutes) to be consistent with the CAISO Open Access Same-time Informa- tion System (OASIS) dataset[2]. The regulation procurement baseline data is also selected from the same month, and all the sensitive data are subjected to an affine transformation to be 2http://oasis.caiso.com/mrioasis/logon.do Fig. 3. Conceptual Pareto framework for analysis of regulation procurement. consistent with non-disclosure agreements. The transformed historical ACE∗, together with the OASIS data, are used to calibrate models that estimate ˆACE∗ one-hour ahead of time, which can then be used to determine the real-time regulation procurement. A. Forecasting Performance Days 1-24 in May 2020 are used for training/validating the NARX neural network (split 3/1 for training and validation, respectively) and the remaining 7 days are used for testing. It should be noted that in this study, only regulation-up is examined since regulation-down follows the same procedure. The out-of-sample test forecasting accuracy for the ACE∗ in the last week with different exogenous input combinations is summarized in Table I. A total of 10 combinations are examined, which are labeled as Index 2-11 in Table I. Index 1 indicates no exogenous input is added to the network. As seen from the results in Table I, there exist correlations between regulation requirements and additional inputs, and the indexes of additional inputs which could improve the accuracy are highlighted in bold. The results indicate that solar generation and solar ramps are potentially the most influential factors that can be used to improve the accuracy of regulation requirement estimation at CAISO, which also confirms the results from our previous work in Ref. [6] that CAISO’s solar power uncertainty contributes at least half of overall net load uncertainty. This is likely due to the fact that total grid- scale and roof-top solar capacity in the state in Year 2022 is approximately 16 GW, while wind is only approximately 8 GW [13]. Therefore, the ˆACE∗ in our recommended model is generated using solar and solar ramp as exogenous inputs. B. Procurement Performance Prediction of the hourly-specific requirements for the up- ward regulation is shown in Fig. 4. The current CAISO day- ahead baseline is illustrated as the purple line, while the orange line stands for the real-time adjusted Base491 MW case. The value of 491 is the minimal procurement that the CAISO actually follows in this week, which is the lowest value during the selected period as illustrated in Fig. 2. The Base 491 MW case represents the combination of parameters Pmin =491, β =1, and Pextra =0 in Eq. (4). As seen from Fig. 4, although the Base491 case is not able to cover TABLE I ACE∗ FORECASTING ACCURACY WITH DIFFERENT EXOGENOUS INPUTS Index MAPE[%] Exogenous Inputs 1 17.8693 - 2 17.8096 + Solar 3 17.6768 + Solar ramp 4 18.1596 + Wind 5 18.2864 + Wind ramp 6 17.8593 + Load 7 18.3572 + Load ramp 8 18.0886 + Index 2 - 7 9 17.8614 + Index 3, 5, 7 10 18.2682 + Index 3, 5 11 16.4811 + Index 2, 3 all the regulation shortages, it is still able to capture some extreme values in regulation requirements. By dynamically tuning parameters Pmin, β, and Pextra, the performance of the proposed procurement strategy can be further improved. Fig. 4. Statistical analysis of regulation-up procurement, Base 491 (red, Pmin =491, β =1, and Pextra =0) vs. Baseline method (purple) vs. ACE∗ (Grey), Data (grey) May 25 - 31, 2020. Figure 5 shows the Pareto frontiers of regulation-up pro- curement on the last 7 days of May 2020, along with the performance analysis of three different procurement param- eters. The red diamond in Fig. 5 represents the transformed CAISO baseline procurement, and the yellow star indicates the ideal regulation procurement (i.e., minimal procurement with 0 shortage). As observed from Fig. 5(a), a greater β (the arrow indicates the direction of increasing β) results in more conservative regulation requirements, which reduces the probability of regulation shortage while increasing procurement. It is found that no points fall into Quadrant I (where both reliability and GWh procured are worse than the baseline). When β = 1.513, we could maintain same level of reliability with about 25% reduction in procurement, while β = 2.205, we could reduce the chance of shortage by as much as 30% with a same amount of procurement. When β ≤ 1.513, the curves fall into Quadrant IV, indicating a higher probability of regulation shortage than the CAISO baseline method, but less total GWh of procurement. A greater β results in more conservative regulation requirements, and the curves when β ≥ 2.205 fall into Quadrant II, where procurement is greater than the CAISO baseline and the reliability is improved. As explained in Ref. [5], the regulation shortage always occurs during hours with sunshine. To evaluate the perfor- mance of adaptive procurement in different periods, we divide a day based on two time points: 6 a.m. and 8 p.m., and (a) Sensitivity analysis of β (b) Sensitivity analysis of Pmin (c) Sensitivity analysis of Pextra Pmin=0 Pmin=491 Pmin=480 Pmin=440 Pmin=400 Pmin=360 III III IV III III IV III III IV β ↑ X1 X2 Fig. 5. Sensitivity analysis of procurement parameters. (a) Multiplying factor β ranging from 0.5 to 3, Pmin = 491 MW, Pextra = 0. (b) Multiplying factor β ranging from 0.5 to 3, minimal procurement Pmin for hours 8 p.m. to 6 a.m., Pextra = 0. (c) Multiplying factor β ranging from 0.5 to 3, Extra procurement Pextra for hours 6 a.m. to 8 p.m., Pmin = 491MW. consider values of the β ranging from 0.5 to 3. As shown in Fig. 5(b), the regulation requirement could be improved by reducing procurement in less fluctuating periods. The curve of Pmin= 491MW refers to the method where the regulation requirement is MAX(491MW, β×forecast ACE∗), while the Pmin = 480MW case (i.e., requirement is MAX(480MW, β×forecast ACE*) shows a very close proximity in Quadrants III and IV, indicating that slightly reduced procurement will not harm reliability very much. The results in Fig. 5(c) also show that adding an extra procurement to the forecasted value during the 6 a.m. to 8 p.m. period also helps in promoting reliability, however, with a higher amount of over-supply. Based on a careful selection of parameters β, Pmin, and Pextra, we can either reduce procurement by as much as 30% and maintain the same reliability (X1 on the curve Pmin = 0 in Fig. 5(b)), or reduce the probability of shortage by up to 50% with the same procurement (X2 on the curve Pextra = 75 in Fig. 5(c)). IV. CONCLUSION We propose a data-driven method to predict hourly regu- lation needs in the California Independent System Operator (CAISO) system. The methodology allows the operator to estimate the real-time hourly specific regulation reserve re- quirements by dynamically predicting the optimal regulation requirement to cover the ideal area control error (ACE∗). The economic and reliability benefits from using those require- ments have been analysed by evaluating both the shortage and oversupply of regulation reserve. Simulation results showed that the regulation requirement can be improved without compromising the level of reliability that the CAISO baseline method targets. Potential future work will include probabilistic forecast information provided by renewable and load forecasts into the regulation requirements prediction. Also, the methodology will also be updated following the CAISO’s latest procedure for regulation reserve procurement. ACKNOWLEDGMENT This material is based upon work supported by the U.S. Department of Energy’s Office of Energy Efficiency and Re- newable Energy (EERE) under the Solar Energy Technologies Office Award Number DE-EE0008215. REFERENCES [1] D. A. Halamay, T. K. Brekken, A. Simmons, and S. McArthur, “Reserve requirement impacts of large-scale integration of wind, solar, and ocean wave power generation,” IEEE Transactions on Sustainable Energy, vol. 2, no. 3, pp. 321–328, 2011. [2] C. Feng, M. Sun, J. Zhang, K. Doubleday, B.-M. Hodge, and P. Du, “A data-driven method for adaptive reserve requirement estimation via probabilistic net load forecasting,” in 2020 IEEE Power & Energy Society General Meeting (PESGM), 2020, pp. 1–5. [3] P. V. Etingov, Y. V. Makarov, N. Samaan, J. Ma, C. Loutan, M. Roth- leder, and S. Chowdhury, “Prediction of regulation reserve requirements in california iso balancing authority area based on baal,” in 2013 IEEE Power & Energy Society General Meeting, 2013, pp. 1–5. [4] California ISO. Business Practice Manual for Market Operations. [Online]. Available: https://bpmcm.caiso.com/Pages/BPMDetails.aspx? BPM=Market%20Operations [5] P. Etingov, L. Miller, Z. Hou, Y. Makarov, C. Loutan, and W. Katzen- stein, “Improving ba control performance through advanced regulation requirements prediction,” in 2018 IEEE Power & Energy Society Gen- eral Meeting (PESGM), 2018, pp. 1–5. [6] B. Li, C. Feng, C. Siebenschuh, R. Zhang, E. Spyrou, V. Krishnan, B. F. Hobbs, and J. Zhang, “Sizing ramping reserve using probabilistic solar forecasts: A data-driven method,” Applied Energy, vol. 313, p. 118812, 2022. [7] B. F. Hobbs, J. Zhang, H. F. Hamann, C. Siebenschuh, R. Zhang, B. Li, I. Krad, V. Krishnan, E. Spyrou, Y. Wang et al., “Using probabilistic solar power forecasts to inform flexible ramp product procurement for the california iso,” Solar Energy Advances, vol. 2, p. 100024, 2022. [8] B. F. Hobbs, V. Krishnan, J. Zhang, H. F. Hamann, C. Siebenschuh, R. Zhang, B. Li, L. He, P. Edwards, H. Sky, I. Krad, E. Spyrou, X. Fang, Y. Wang, Q. Xu, and S. Zhang, “How can probabilistic solar power forecasts be used to lower costs and improve reliability in power spot markets? a review and application to flexiramp requirements,” IEEE Open Access Journal of Power and Energy, pp. 1–1, 2022. [9] G. Zhang and J. D. McCalley, “Estimation of regulation reserve re- quirement based on control performance standard,” IEEE Transactions on Power Systems, vol. 33, no. 2, pp. 1173–1183, 2017. [10] E. Diaconescu, “The use of NARX neural networks to predict chaotic time series,” WSEAS Transactions on computer research, vol. 3, no. 3, pp. 182–191, 2008. [11] North American Electric Reliability Corporation. ”Standard BAL-001-2 – Real Power Balancing Control Performance”. [Online]. Available: https://www.nerc.com/pa/Stand/Reliability% 20Standards/BAL-001-2.pdf [12] CAISO Market Performance and Planning Forum, December 7, 2016. [Online]. Available: http://www.caiso.com/Pages/documentsbygroup. aspx?GroupID=021BEEDE-1DE0-4BD7-BE34-E82E7607FD0C [13] “Caiso,” http://www.caiso.com/informed/Pages/CleanGrid/default.aspx, accessed: 2023-01-30.","libVersion":"0.3.2","langs":""}