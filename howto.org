* <<Emacs>>
*** Auto .emacs maker:  file out the checkboxes and it makes one for you
    [[https://emacs.amodernist.com/][Emacs Configuration Generator]]
*** *Emacs to try*
    My experiments, Emacs packages I've tried and installed (from Melpa repository). Also, some builtins I could try

***** *TRY*
******* TRY automatically size frame to match screen dpi
********* setting frame size in pixels
          From: [[https://www.emacswiki.org/emacs/FrameSize][EmacsWiki: Frame Size]]
    Maximize:

    (add-hook 'after-init-hook '(lambda () (w32-send-sys-command #xf030)))

    Arbitrary frame size and position: Use functions set-frame-height, set-frame-width, set-frame-size, and set-frame-position. For example:

    (when window-system (set-frame-size (selected-frame) 80 24))

    Set size parameters of ‘initial-frame-alist’ or ‘default-frame-alist’. E.g.,

    (add-to-list 'default-frame-alist '(height . 24))
    (add-to-list 'default-frame-alist '(width . 80))
    
********* measuring dpi
          already in my .emacs
********* noticing dpi has changed, or at least # pixels on display
          [[https://github.com/mnp/dispwatch][dispwatch: Emacs - Watch the current display for changes (ie plu...]]

********* scaling fonts across all frames
*********** [[https://github.com/purcell/default-text-scale][default-text-scale: Easily adjust the font size in all Emacs...]]
*********** zoom-frm

            Change all buffers' text scales & frame sizes, keeping const #chars width.  This is fixed for Windows in 2023.  Works as it should.  I borrowed a use-package setup from [[https://github.com/danielmai/.emacs.d/blob/master/config.org#zoom-frm][here]], but haven't yet figured out what keys to bind it to.
            
************* 2023 emacs guy liked it: [[https://youtu.be/UtSu3ydxKJ4?t=354][Some new Emacs packages I tried]] 
************* [[https://github.com/emacsmirror/zoom-frm][GitHub - emacsmirror/zoom-frm: Commands to zoom frame font size]]
************* But do [[https://github.com/emacsmirror/frame-cmds/blob/master/frame-cmds.el][frm-cmds.el]] and [[https://github.com/emacs-mirror/emacs/blob/master/lisp/help-fns.el][frm-fns.el work now?]]

              If I remember correctly, these only worked on Xwindows before, so not on Windows.  But I see that they've been updated in Dec 2022 and in 2023; do they work on Windows now?
              
********* scaling fonts for one frame
          [[https://www.gnu.org/software/emacs/manual/html_node/emacs/Text-Scale.html]]

********* may want to also set default size for new frame
          From: [[https://emacs.stackexchange.com/a/28391][Quickly Adjusting Text to DPI Changes - Emacs Stack Exchange]]

          i.e. default-frame-alist
          
********* change font or scale with moom
          From: [[https://github.com/takaxp/moom][moom: A Moom port to Emacs - Make your dominant hand FREE fro...]]

(with-eval-after-load "moom"
  (define-key moom-mode-map (kbd "C--") 'moom-font-decrease)
  (define-key moom-mode-map (kbd "C-=") 'moom-font-increase)
  (define-key moom-mode-map (kbd "C-0") 'moom-font-size-reset)
  (define-key moom-mode-map (kbd "C-_") 'text-scale-decrease) ;; built-in for ascii
  (define-key moom-mode-map (kbd "C-+") 'text-scale-increase) ;; built-in for ascii

  ;; Recommended for stable presentation during font size increasing
  (add-hook 'moom-font-after-resize-hook #'moom-move-frame-to-edge-top))
  
******* TRY <<ivy-less completion using mostly emacs builtins>>

        org-roam author said somewhere that he preferred to use emacs 27 builtins for completion, etc.  nobiot also says that [[https://org-roam.discourse.group/t/sorting-org-roam-files-by-frequency/1187/10?u=scotto][ivy is too big, and prefers built-in packages]].  He points to prot.  Here are two of prot's video/configs that I should look at:
        
********* [[https://protesilaos.com/codelog/2021-01-06-emacs-default-completion/][Default Emacs completion and extras]]: watch this one first
********* [[https://protesilaos.com/codelog/2021-01-09-emacs-embark-extras/][Embark and my extras (Emacs)]]: nobiot pointed to this one

********* TRY emacs 27 completion styles
	  https://karthinks.com/software/more-batteries-included-with-emacs/

	  Do this

     	    (global-set-key (kbd "<down-mouse-3>") 'strokes-do-stroke) ; Draw strokes with RMB
	    (setq strokes-use-strokes-buffer nil) ; Don't draw strokes to the screen

	  Then you'll get M-x completions like counsel, I think it was.  Works w/ ido completing if that's enabled, but not ivy/swiper
          
********* TRY M-x fido-mode
	  New in emacs 17
	  https://karthinks.com/software/more-batteries-included-with-emacs/

	  Does ido-like completing read, for example, in M-x find-file
******* TRY strokes-mode
	New in emacs 27.1
	https://karthinks.com/software/more-batteries-included-with-emacs/
******* TRY [[https://github.com/takaxp/org-tree-slide][org-tree-slide: A presentation tool for org-mode based on the...]]

        Has [[https://github.com/takaxp/moom#org-mode-org-tree-slide][links to moom-mode]]
        
******* TRY [[https://orgmode.org/manual/Link-Abbreviations.html#Link-Abbreviations][link abbreviations]] e.g. "google" and [[https://orgmode.org/manual/Completion.html#Completion][completion]]
******* TRY [[https://github.com/DarwinAwardWinner/amx/blob/master/README.mkdn][amx mode]]: a better M-x, fork of smex
******* TRY [[https://github.com/jaypei/emacs-neotree][neotree]]: folding directory tree, something like Explorer
******* TRY [[Emacs/Git for experiment logging]] (git/emacs/org-mode)
******* TRY nicer colors/fonts in modeline
******* TRY virtual buffers: do I like them?
        I've turned it off to see if I care.
        
        removed customization ido-use-virtual-buffers
        commented out (ivy-use-virtual-buffers t)

        would expect to notice the difference in at least
        
        ido-switch-buffer
        ivy-switch-buffer

        Right now, I don't use this from shorcuts -- I'm using ibuffer

******* TRY in eshell cd to ssh connection
        See: [[https://www.youtube.com/watch?v=pjhRFMUxBB4][Using emacs 27 - shell and eshell - YouTube]] (at about 4:30)
******* TRY [[https://github.com/killdash9/better-shell][better-shell: Emacs shell management]]
******* TRY [[https://github.com/Wilfred/emacs-refactor][emacs-refactor]]

        Replaces variables, etc., like the matlab and other IDE's do. But as of March 2018, was not implemented for either R, Matlab, or Python.  Only for:
        C
        Lisps
        Elisp
        JavaScript
        Ruby
        Scheme
 
******* TRY decide on <<highlight symbol>>
        
        In python the best way is probably using [[refactoring in elpy]]

        _Three highlighting only alternatives, none perfect_

        highlight-thing is actively maintained, more flexible, [[https://github.com/emacs-tw/awesome-emacs#interface-enhancement][more popular?]] faster? (no fontlock), can be restricted to defun.  The change it needs is to query "describe-symbol" or something when it's in "symbol" mode and then only highlight if it's a symbol. Better yet, only if it's a variable, so "describe-variable", if that exists.

        Related to [[smartscan]] and [[iedit]]

********* highlight-symbol

          ;; /doesn't restrict to defun/, has nav keys, also highlights words in comments
          ;; alternative, only in defun: https://github.com/fgeller/highlight-thing.el
          ;; prog-mode-hook could be  
          (use-package highlight-symbol
          :config
          (global-set-key [(control f3)] 'highlight-symbol)
          (global-set-key [f3] 'highlight-symbol-next)
          (global-set-key [(shift f3)] 'highlight-symbol-prev)
          (global-set-key [(meta f3)] 'highlight-symbol-query-replace))

********* highlight-thing

          ;; NOTE: iedit works better: just put cursor in sumbol and hit C-;
          ;; ALSO NOTE that I've remaped er\iedit to iedit-within-defun in my .emacs
          ;;
          ;; /highlights more than symbols, no nav keys/: https://github.com/nschum/highlight-symbol.el
          ;; Highlights any word the cursor is on e.g. comments: too much!
          ;; highlight-thing-what-thing lets you hightlight a huge # of different things
          (use-package highlight-thing  ; highlight variables, etc, like in matlab
          :init
          (setq highlight-thing-delay-seconds 1)
          (setq highlight-thing-limit-to-defun t)
          (setq highlight-thing-case-sensitive-p t)
          :config (global-highlight-thing-mode)) ; alternatively, just do prog-mode-hook

********* [[https://github.com/mhayashi1120/auto-highlight-symbol-mode][auto-highlight-symbol-mode]]
*********** Doesn't restrict highlighting to defun
*********** has navigation functions (see [[https://github.com/kaushalmodi/.emacs.d/blob/master/setup-files/setup-highlight.el][this]] setup or [[https://github.com/tuhdo/emacs-proglang/blob/master/custom/setup-editing.el][this one]])
*********** =ahs-edit-mode= does symbol editing but across defuns ([[https://github.com/tuhdo/emacs-proglang/issues/1][bug report]])
*********** last commit was in 2012
******* TRY <<smartscan>>

        Like [[iedit]] but no highlighting.  Also can replace like iedit, M-' globally and C-u M-' within defun (after M-n or M-p, replace is just a string, something like iedit) i.e. replace is stupid: just replaces strings, whether they are symbols or not, and it will replace inside of substrings
        
        https://github.com/sachac/.emacs.d/blob/gh-pages/Sacha.org
        From https://github.com/itsjeyd/emacs-config/blob/emacs24/init.el, this makes M-n and M-p look for the symbol at point.
        (use-package smartscan
        :defer t
        :config (global-smartscan-mode t))

        Related to [[highlight symbol]]

******* ACCEPTED Search for 'ß' with 's'
        See StackXchange answer to my question [[https://emacs.stackexchange.com/questions/32321/char-fold-search-match-for-german-eszett-%25c3%259f/38696][here]].

        Also, I promised to report this as an emacs bug.

******* TRY figure out how to activate tensorflow environment inside of elpy
******* TRY bookmarks
        remembers places in files or even on remote machines
        [[https://www.youtube.com/watch?v=Mxpp91jo27A][bookmarks video]]
******* TRY retry tramp.  Maybe good for working on IWES servers
******* TRY python modes [[https://github.com/jorgenschaefer/elpy][elpy]] vs. [[https://github.com/proofit404/anaconda-mode][anaconda-mode]]
******* TRY expand-region/smart-region extra org mode bindings
        expand-region: https://github.com/magnars/expand-region.el/blob/master/the-org-mode-expansions.el

        expand has er/mark-org-parent, which I don't see in smart-region, but might be handy

        It's included in smart-regions somehow, and I can see the function, but how to bind it?

        *expand-region-bug*: 
        - /in org-mode/ expand region (C==) causes the error: er/save-org-mode-excursion: Symbol’s function definition is void: org-outline-overlay-data
        - Fix is [[https://github.com/syl20bnr/spacemacs/issues/12099][said to be]] to deleting: ~/.emacs.d/elpa/*/develop/expand-region*
        - I tried deleting ~/.emacs.d/elpa/expand-region but this did not help.

******* TRY put '#' in dedicated target link 

        Will prefer to match with dedicated links (but didn't [[][]] already do that?)

        http://orgmode.org/manual/Internal-links.html

        This is somehow _incompatible with org-ref_.  If I test the example org file from [[https://github.com/snosov1/toc-org][GitHub - snosov1/toc-org: toc-org is an Emacs utility to have an up-to-date t...]]

        and put my cursor on, or C-c C-o on any of the links referencing a headline (could also be referencing a dedicated target), I get errors like this:

        Error running timer ‘org-ref-link-message’: (error "No match for custom ID: Installation")

        /DOES toc-org insert custom ID definitions that org-ref would not crash on?/

        *ANYWAY* _the change to my .emacs for # targets would be:_ 

        (defun create-and-link-dedicated-org-target (callPrefix)

        Changing the line:
	(kill-new (concat "[" targBdy "]"))
        To this:
	(kill-new (concat "[#" targBdy "]")) ;'#' for dedicated targ match

******* TRY get Windows file associations working again, esp. pdf reader

        Note: it already works for opening pdfs in bibtext mode (from C-c j p)

******* TRY different scrollbar color for window in focus (like modeline behavior)
        https://www.gnu.org/software/emacs/manual/html_node/elisp/Scroll-Bars.html

******* TRY [[https://github.com/emacsmirror/org/blob/master/contrib/lisp/ox-confluence.el][org-confluence]] export
******* TRY use setup file for every org file (like a template)

        Inspired by [[https://mail.google.com/mail/u/0/?shva=1#inbox/15f336bd15ceba8c][this]] email, the documentation is [[http://orgmode.org/manual/In_002dbuffer-settings.html][here]].

******* TRY remember to use ~org-iswitchb~ (=bound to C-c b=)
******* TRY improve hydra
********* org: counsel-org-goto
********* org: counsel-org-tag
********* counsel-unicode-char˲
********* more describe stuff e.g. describe-key to my =M-apps= hydra
********* Fancy region editing (double cursors but not that, remember the Finn's video)
********* [[Rectangle editing]] (make it a sub-menu?)
********* abo-abo window switching, etc. w/ setup: [[https://www.youtube.com/watch?v=_qZliI1BKzI][Switching Emacs windows with hydra and ace-window]]
******* ACCEPTED [[https://github.com/abo-abo/swiper][ivy/swiper/counsel]]
        For some things, I like ido better:
        - Emacs27 isearch repaces swiper: [[org-roam author migrated to Doom Emacs]]
        - See [[Swiper]]
        - compunaut [[https://www.reddit.com/r/emacs/comments/51lqn9/helm_or_ivy/][says]] that [[https://github.com/compunaut/helm-ido-like-guide][setting helm up like ido]] makes it match ivy better, if want to use helm chunks
********* TRY speed up swiper on energy.bib and energytop.org
*********** the swiper-grep thing helped but did not solve it
*********** it is said that visual line mode slows down swiper
********* TRY make an <<ivy gridmode>> like [[https://github.com/larkery/ido-grid-mode.el][ido-grid-mode]]

          I [[https://github.com/abo-abo/swiper/issues/962][asked &]] commenter suggested that [[https://github.com/clemera/ivy-explorer][ivy-explorer]] might be what I want.
          I couldn't get it to work after a brief try on 10/13/19
          
          o ivy grid would be especially nice in M-x (although counsel-M-x does show keys).  I asked (see [[Swiper]]).

          gridmode is more efficient. I asked if ivy could do this, and abo-abo said [[https://github.com/abo-abo/swiper/issues/962]["No, but try ivy-format-function"]]

          [[help:ivy-format-function]] default
          *[[file:~/.emacs.d/elpa/ivy-20170416.1021/ivy.el][-->>
          ]]* [[file:~/.emacs.d/elpa/ivy-20170416.1021/ivy.el::"Transform%20CAND-PAIRS%20into%20a%20string%20for%20minibuffer."][ivy-format-function-default]] 
          -->
          [[file:~/.emacs.d/elpa/ivy-20170416.1021/ivy.el::(let%20((i%20-1))][ivy--format-function-generic]]

          can see that these functions just take a list of items from a lower level ivy function, cancatenate a seperator and return.

          To make grid mode, would change

          [[file:~/.emacs.d/elpa/ivy-20170416.1021/ivy.el::(let%20((i%20-1))][ivy--format-function-generic]]

          which makes a string that goes in the buffer.  It's just a vertical list, with one on each line, because a newline is inserted after each item in the list.

          Would need to
          o set a screen width
          o set a max file width
          o set a screen height
          o decide max # items per row
          o rewrite this function to only insert newlines at the row ends

          What I don't understand is where the highlighting for matches in this display is applied.  If it's after a call to this function, it seems like I'd have to change A LOT.  If it's before them, and the highlighting is somehow transferred, then it's not too much.

          Maybe the faces are added, like for the default function, [[file:~/.emacs.d/elpa/ivy-20170416.1021/ivy.el::(ivy--add-face%20str%20'ivy-current-match))][here]].

********* [[Http://oremacs.com/swiper/#getting-started][Official ivy setup in manual]]
********* TRY bindings on [[https://sam217pa.github.io/2016/09/13/from-helm-to-ivy/][this page]] or [[this other page]].  Things I might like
          o ivy resume (goes back to previous swiper)
          (C-r inside of swiper mini-buffer also does this)
          o counsel-find-file (but no grid mode)
          o counsel-M-x (but no grid mode)
          o counsel-recentf (but no grid mode)
          o ivy-switch-buffer (but no grid mode)
          o [[http://oremacs.com/swiper/#key-bindings][officially recommended bindings]]
********* ivy fonts: green inherited from 'highlight', different than ido yellow


          'highlight' is also used for that fancy multi-curor-like-thing

          also get rid of that ugly purple

          [[https://oremacs.com/2015/03/14/more-swiper-ivy-stuff/][Guy says]] there are six faces that inherit the following fonts
          highlight, isearch-lazy-highlight-face, isearch and match

          From [[help:ivy-minibuffer-faces]]
          swiper fonts are:
          (ivy-minibuffer-match-face-1 ivy-minibuffer-match-face-2 ivy-minibuffer-match-face-3 ivy-minibuffer-match-face-4)

********* See [[Swiper]]
******* TRY play with [[help:org-show-context-detail]]
******* TRY get grep/find on windows to work

        grep w/ cygwin works fine

        but I can never get recursive find to work.

********* TRY ? [[http://ergoemacs.org/emacs/elisp-xah-find-text.html][xah-find]] package: pure emacs find/grep good for windows
********* <<deadgrep>>
*********** <<deadgrep for org-roam>>
            From:[[https://org-roam.discourse.group/t/using-consult-ripgrep-with-org-roam-for-searching-notes/1226/12?u=scotto][Using consult-ripgrep with org-roam for searching notes - #12 by adouzzy - Ho...]]

            adouzzy
            I ended up using deadgrep instead.
            Instead of calling rg directly, I have a bash wrapup. This allow me to remove id string in the link. Make reading easier. It’s not pretty but very useful

            rg -i --color always "$@" | sed "s/\[id:[a-z0-9]\+-[a-z0-9]\+-[a-z0-9]\+-[a-z0-9]\+-[a-z0-9]\+\]//g"

            
******* ACCEPTED <<ivy-mode>>
********* TRY org-mode search: horribly slow when not expanded, otherwise fast
********* TRY =C-h m=: inside of swiper, etc. brings up ivy help.  READ IT.
********* TRY to remember the return to point thing after searching: =C-u C-space=
******* TRY [[https://github.com/jkitchin/org-ref/blob/master/org-ref.org][org-ref-ivy-cite]]
******* TRY [[https://github.com/jacktasia/dumb-jump][dumb-jump: an Emacs "jump to definition" package]]
******* TRY C-h k and C-h f (help key and function)
******* TRY [[Rectangle editing]]
******* TRY [[Emacs Macros]]
******* TRY remember to use apps-key for M-x
******* TRY <<Concept map-like stuff: superlabel, dedicated targets, org-brain>>
********* TRY Look at how concept maps tools do outlines
*********** [[https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=7&cad=rja&uact=8&ved=0ahUKEwjPwfmQnefTAhVFL1AKHauECeEQFgg8MAY&url=http%253A%252F%252Fvue.tufts.edu%252Fhelp%252Fcontent%252FMap%252520Display.pdf&usg=AFQjCNF8aylIFqpcYkLTuya7kzqzQA_kMg&sig2=W3kYpzXSVJ3nSOoZcn1GKg][VUE]]
*********** [[http://cmap.ihmc.us/][IHMC Cmap]]
********* TRY [[https://github.com/Kungsgeten/org-brain][org-brain: Org-mode wiki + concept-mapping]] (and ask for what I would like in it)

          *What I would like*:  Generally, preserve outline structure but still have two way links.
          - Definition of a concept
            - explicitly define with org dedicated target, or similar
            - make every headline be an idea
              - easy but...
              - many headlines aren't really an idea
              - would have problems with headlines containing unintended duplicate text
          - Two sources of dependency: explicit and org-tree
            - explicit: done by a two-way link
            - org-tree parent/child/sibling relationships come from org outline
              - sibling: under same headline (immediately or total)
                Two kinds of sibling
                - headline is defined as a concep
                  - explicitly
                  - or by a setting that makes all headlines a concept (tons of siblings)
                - headline has no concept
                  - would have a ton of sibling relationships in this view
                  - but easier
              - parent: this idea is a headline over some other idea
              - child: this idea has a headline with some other idea in it
          - If currently on X, then Y is shown as related to X
            - in an outline, X is a parent of Y, X is a child of Y, X is a sibling of Y
            - an explicit two-way link has been made
          - Three views: parent of, child of, sibling of
            - _X is parent of Y_
              - show X's (narrowed) tree containing Y, expanded to highest sub level where Y shows up
              - option to expand tree until show all instances of Y within X's tree
              - option to expand normally
              - option to un-narrow
              - option to navigating to all other (disjoint) trees where X is a parent of Y
            - _X is child of Y_
              - show Y's (narrowed) tree containing (path to) highest sublevel of X
              - option to expand tree until show all instances of X within Y's tree
              - option to expand normally
              - option to un-narrow
              - option to navigating to all other (disjoint) trees where X is a child of Y
            - _X is sibling of Y_
              - expand (narrowed) tree(s) at level where can see both X and Y
              - option to navigating to all other (disjoint) trees where X is a sibling of Y
              - option to expand tree until show all instances of X and Y in tree (below top level of siblingship?)
              - option to expand normally
              - option to un-narrow
          - View for explicit X/Y link
            - /do something?!/
          - search result outline display controllable like: org-show-context-detail

*********** tools: [[Elisp]]
********* Definition of a "Concept"
*********** dedicated target
*********** any headline
*********** tags 
************* quick way to have multiple assoc. but no ordering
*********** bibtex reference
********* TRY superlabel continue with =create-and-link-dedicated-org-target=
          First step is probably: [[Fontlock to toggle hide dedicated targets]]
********* TRY Hiding dedicated targets
*********** TRY ~create-and-link-dedicated-org-target~: clean text from targText
            remove links, etc., from before making target, etc.
            Maybe remove all formatting: _x_, ~x~, etc.
*********** [[https://emacs.stackexchange.com/questions/19230/how-to-hide-targets][org mode - How to hide <<target>>s? - Emacs Stack Exchange]] (my exact question!)

            Doesn't work for spaces in targets

*********** <<Fontlock to toggle hide dedicated targets>>

            This is how hyperlinks, headline starts, etc. are hidden.
            See: org-context in org.el

            [[https://emacs.stackexchange.com/questions/5387/show-org-mode-hyperlink-as-plain-text][Here]], "David J" does it by calling org-remove-from-invisibility-spec

*********** [[http://endlessparentheses.com/use-org-mode-links-for-absolutely-anything.html][Use Org-Mode Links for Absolutely Anything · Endless Parentheses]]

*********** using unique ids instead of/within dedicated targets
************* [[https://writequit.org/org/settings.html][Lee's Emacs settings file]] has my/org-custom-id-get and many others
************* [[http://orgmode.org/w/?p=org-mode.git;a=blob_plain;f=lisp/org-id.el;hb=HEAD][package org-id]]
************* [[http://endlessparentheses.com/markdown-style-link-ids-in-org-mode.html][Markdown style link IDs in org-mode · Endless Parentheses]]

*********** tools needed: [[Elisp]]°
********* TRY [[https://github.com/caiorss/org-wiki][caiorss/org-wiki: Wiki for Emacs org-mode built on top of Emacs org-...]]
********* TRY [[https://www.emacswiki.org/emacs/Hyperbole][EmacsWiki: Hyperbole]]
********* <<graphviz in Emacs>>
*********** [[https://github.com/ppareit/graphviz-dot-mode][GitHub - ppareit/graphviz-dot-mode: Emacs mode for the DOT language]]
*********** [[graphviz]]
********* [[Emacs Mermaid]]
********* See [[Knowledge as Graphs]]
******* TRY [[http://kitchingroup.cheme.cmu.edu/blog/2017/04/15/A-new-org-mode-exporter-to-Word-for-scimax/][A new org-mode exporter to Word for scimax]]
******* TRY [[Saving/restoring window sessions]]
******* My org-mode experimentation: [[file:org_mode][./org_mode]]
******* TRY vertical lines for paren matching

        PICKED: highlight-indent-guides (most subtle)
        BUT: still need to make it work for all programming modes -- see below

********* TRY Get hightlight-indent-guides to activate for all prog modes
          I have
          (add-hook 'prog-mode-hook 'highlight-indent-guides-mode)
          but it only works for elisp, so I have to manually do
          M-x highlight-indent-guides-mode to activate

          A [[ https://github.com/syl20bnr/spacemacs/issues/4741][thread on this problem]] says it could be a programming mode in scratch
          (is org-mode a "programming mode?")
          I guess not: I disabled orgmode in scratch on startup and highlighting on programming modes other than elisp still didn't work.

          BUT, the thread is marked as solved, so come back to this someday
********* ACCEPTED [[https://github.com/DarthFennec/highlight-indent-guides][highlight-indent-guides: Emacs minor mode to highlight i...]]

          used in
          [[https://github.com/0rdy/kaolin-theme][kaolin-theme: A dark jade Emacs theme inspired by Sierra.vim]]

          config was
          ;; Highlight indent guides

          (hl-indent  gray)

          `(highlight-indent-guides-odd-face  ((t (:background ,hl-indent))))
          `(highlight-indent-guides-even-face  ((t (:background ,hl-indent))))
          `(highlight-indent-guides-character-face  ((t (:foreground ,hl-indent))))



********* [[https://github.com/DarthFennec/highlight-indent-guides][Comparison]]
          | Package Name               | Widths  | Hard Tabs   | Other Notes                |
          |----------------------------+---------+-------------+----------------------------|
          | highlight-indentation.el   | Fixed   | Unsupported | Very popular, fat lines    |
          | indent-guide.el            | Dynamic | Supported   | Fairly slow, jittery, asii |
          | hl-indent.el               | Dynamic | Unsupported | Slow for large files       |
          | visual-indentation-mode.el | Fixed   | Unsupported | Fast and slim, ugly        |
          | highlight-indent-guides    | ?       | ?           | in kaolin, has slim lines  |
          |----------------------------+---------+-------------+----------------------------|
******* Syntax for try/accepted/reject todo things

        The two TODO sets will be available in the whole file (above and below this line). If you have multiple [[https://orgmode.org/manual/Per_002dfile-keywords.html][per-file keywords]] or if have multiple
 [[https://orgmode.org/manual/Multiple-sets-in-one-file.html#Multiple-sets-in-one-file][keyword sets in elisp]], you can switch between the sets by [[https://orgmode.org/manual/Completion.html#Completion][completion]] using =ESC-TAB= when the cursor is at start of empty headling (there are other methods too).

        # -*- org-todo-keyword-faces: (("ACCEPTED" . "green") ("TRY" . "red") ("REJECTED" . "gray")) ; -*-
        #+TODO: TRY | REJECTED | ACCEPTED
        #+TODO: TODO | DONE
******* TRY [[org-download]]
******* TRY [[https://github.com/abo-abo/lispy][abo-abo/lispy: short and sweet LISP editing]]
******* TRY [[https://github.com/abo-abo/lpy][abo-abo/lpy: Minimal Python IDE for GNU Emacs]]
******* TRY [[https://github.com/abo-abo/ace-window][abo-abo/ace-window: Quickly switch windows in Emacs]]
******* [[https://github.com/aaronjensen/spacemacs.d/blob/af8a583972e680fea512f939db06f17fffc84fb7/lisp/init-org.el#L215-L247][spacemacs.d/init-org.el Add beginnings of dwim org backspace]]
        Maybe nice in future
        has lots org code examples

        Might be worth it to see how (setq org-hide-emphasis-markers t) is responded to in org-mode:  maybe it can be hacked into hiding <<>> ?

******* [[Emacs symbols]]
******* TRY [[http://kitchingroup.cheme.cmu.edu/blog/2017/04/09/A-better-return-in-org-mode/][A better return in org-mode]]

        I might like this Word like behavior but I just automatically wrote this bullet assuming that return would break me out of headline creation.  Which is more natural?  On the other hand, I do like org-autolist.

********* a little better than, [[https://github.com/calvinwyoung/org-autolist][calvinwyoung/org-autolist]]
          which I'm already using: jkitchin is considering merging it
********* creates new rows of tables, for example, which is nice
********* modified and posted on github by somebody [[https://github.com/Kungsgeten/selected.el][here]]
********* still being heavily revised, as of April 15, 2017.  Wait for it to settle down?
********* I still want to create a new headline if return or M-return in middle of line
******* TRY [[https://github.com/tbanel/orgaggregate][orgtbl-aggregate]]
******* TRY [[https://github.com/wolray/symbol-overlay][wolray/symbol-overlay: would be nice for programming e.g. in python or something]]*
******* TRY [[Presentation slides from org-mode]]
******* TRY [[help:re-builder]]*

        Can also use [[swiper]], which matches on regex (split into groups with a space).  Each group is highlighted with a different face.

******* TRY M-x proced
******* TRY Flashcards inside german.org: [[https://www.reddit.com/r/emacs/comments/63z6yj/org_mode_and_anki/][org-drill or pamparam]]
******* TRY <<Get IEEE & ScienceDirect with abstracts in emacs>>
********* [[Org-ref operations on .bib file]] (gets science direct, as of May 2017)
********* [[http://ieeexplore.ieee.org/gateway/][IEEE Xplore Search Gateway Search Parameters]] (but no download???)
********* [[gscholar-bibtex]] gets IEEE but no abstracts
*********** gscholar-bibtex-ieee-bibtex-content seems to be where it's done
********* Python/wget: [[https://github.com/ipapusha/get-ieee-paper][ipapusha/get-ieee-paper: downloads an IEEE Xplore paper over ssh]]
********* Ruby: [[https://github.com/BoolLi/BibTex-Fetcher/blob/master/parser.rb][BibTex-Fetcher/parser.rb at master · BoolLi/BibTex-Fetcher]]
********* [[http://guides.lib.berkeley.edu/information-studies/apis][APIs for scholarly resources]]
********* See also: [[BibTex and Emacs]]
***** *ACCEPTED*
******* ACCEPTED Improve elpy python path: [[Better elpy path]]

        Use conda.el hooks?

        *problem*: elpy requires
        (elpy-use-ipython)
        but can't run this until know what conda environment (path to perl, iconsole, etc.) is known

        Can conda.el call it after it has determined the environment e.g. with a hook?

        Can conda.el get the path to the anaconda dir some other way than via an environment variable or by walking up the path of a python command, like I did at first?

        Actually, conda.el DOES have hooks!

        ;; hooks -- TODO once we actually have environment creation / deletion

        (defcustom conda-preactivate-hook nil
        "Hook run before a conda environment is activated.")

        (defcustom conda-postactivate-hook nil
        "Hook run after a conda environment is activated.")

        (defcustom conda-predeactivate-hook nil
        "Hook run before a conda environment is deactivated.")

        (defcustom conda-postdeactivate-hook nil
        "Hook run after a conda environment is deactivated.")
******* ACCEPTED right justify mode-line clock

        DONE: the smart-mode-line does this and I now have it installed.

********* Mode line is controlled by the variable: =mode-line-format= 

          _My current =mode-line-format= settings_

          This is with the clock already in there somewhere, as set by (display-time-mode 1) in my .emacs and customized.a
         
          M-x describe-symbol mode-line-format

          ("%e" 
          mode-line-front-space 
          mode-line-mule-info 
          mode-line-client
          mode-line-modified 
          mode-line-remote 
          mode-line-frame-identification 
          mode-line-buffer-identification
          "   " 
          mode-line-position
          (vc-mode vc-mode)
          "  "
          mode-line-modes 
          mode-line-misc-info 
          mode-line-end-spaces)

********* can see which modes are putting stuff on mode-line with =M-x describe-mode= (for the standard emacs mode line)

********* current mode-line-format suggests clock is in: =mode-line-misc-info=
********* [[help:mode-line-misc-info]] contains =global-mode-string=
********* [[help:global-mode-string]] contains =display-time-string=
********* [[help:display-time-string]] is processed by func [[help:display-time]]
********* [[https://stackoverflow.com/questions/16775855/how-to-fixate-value-on-the-right-side-of-the-modeline][code]] for adding arbitrary fixed text, justified to modeline right

          Seems like I could easily do this by just copying my current settings but I don't want to do all this manually in my .emacs file -- seems like it would interfere with other things that might want to change the mode-line.

          Also, this text is fixed, not updated.

          Also, emacs seems to deal with =mode-line-misc-info=, which contains the time string and other stuff, as a variable. I don't see how to break it up.

********* TODO Using [[https://github.com/Malabarba/smart-mode-line][smart-mode-line]]
*********** =smart-mode-line= pkg aligns =mode-line-misc-info= 
            From [[https://emacs.stackexchange.com/questions/5529/can-i-align-items-in-the-modeline-to-the-right][here]]
 
            Comment: 
            Since you asked for a specific mode-line-format this isn't a proper answer, but smart-mode-line right-aligns the mode-line-misc-info by default, and it can right-align the list of minor-modes by setting sml/mode-width to 'right. – Malabarba Dec 18 '14 at 21:51

*********** This puts the clock on the RHS but obliterates my modeline faces
            From [[https://github.com/Malabarba/smart-mode-line/issues/116][here]]

            I added to my .emacs

            (use-package smart-mode-line
            :ensure t
            :config
            (setq sml/theme 'respectful)
            (setq sml/no-confirm-load-theme t)
            (add-hook 'after-init-hook 'sml/setup)
            (add-hook 'after-init-hook 'display-time)  
            (setq display-time-24hr-format t))

            *Unfortunately*, 'respectful wasn't that respectful, and changed fonts to black and green so they're invisible on my dark blue modeline, and it also messed up the 'inactive' face.

            I commented out the sml/theme line so that the fonts were picked automatically: Better, and mostly legible but I don't love it.

*********** TODO *Fix* with: =sml/customize= and =sml/customize-faces= ?
************* setting sml/theme to "don't use a theme." fixes color problems
              Actually, you have to

              (setq sml/theme nil)

              in order for this to work across emacs sessions.

              (use-package smart-mode-line
              :ensure t
              :config
              ;;  (setq sml/theme 'respectful) ;; let it figure it out
              ;;  (setq sml/theme 'light)
              (setq sml/theme nil)
              (setq sml/no-confirm-load-theme t)
              (add-hook 'after-init-hook 'sml/setup)
              (add-hook 'after-init-hook 'display-time)  
              (setq display-time-24hr-format t))
              
************* DONE don't slighly smaller font, or maybe not bold (customize)
              actually, it's the same font if you compare screenshots of w/ and w/o sml
************* DONE what is that red x when have modifed a file? do I care?

              It's 
              Sml/Modified Char 

              in customization 
              Smart Mode Line Others group:

*************** DONE I like it better as a little '•'
************* DONE better color?: Yes, I changed it to firebrick

************* TODO I prefer the uniquified buffername, not the full path (or truncated)

******* ACCEPTED remove percent from mode-line

        *Done*: in customize set sml/position-percentage-format to nil. In order to do this, I had to set it to nil in customize (this made it the string "nil" in ([[https://github.com/Malabarba/smart-mode-line/issues/211][bug report]]). The workaround was hand editing the customization in .emacs.

        Problem with percent
        1.) Percent is redundant with line count, and can see the same info on the scrollbar.  
        2.) it blocks out clock when viewing .emacs on a normal-width emacs window
        
        This [[http://ergoemacs.org/emacs/modernization_mode_line.html][guy]] points out that scrollbar is not present in terminal mode.

        So leave it there in terminal mode, remove it if GUI?

        Related: [[http://www.holgerschurig.de/en/emacs-tayloring-the-built-in-mode-line/][Tayloring the built-in Emacs Mode line · Holger's Computer Calisthenics and O...]]

******* ACCEPTED enable shift-arrow select, for uniformity with Windows/Linux

        *Conclusions*: 

        1.) set [[help:org-support-shift-select][org-support-shift-select]] to *'always'*
        /[[Using customization instead of .emacs setq]]/
        2.) retain my existing windmove =C-arrows= bindings

        *Why*:

        The default org setup [[help:org-support-shift-select][uses]] =C-arrows= for
        1.) *headline*: change TODO state (left/right) and priority (up/down)
        /I've been doing =C-c C-t= forever, so I don't care/
        2.) *plain list*: change the bullet type
        /this would be a little nice but I don't use it/
        3.) *time stamp*: change the time
        /never use/
        4.) *property definition*: switch between allowed values
        /never use/
        5.) *BEGIN line of a clock table*: change time block
        /never use/

        These bindings [[http://orgmode.org/manual/Conflicts.html][conflict]] with:
        1.) Windows/Linux style shift-select: I might like this consistency
        2.) [[help:windmove-default-keybindings][windmove]] (but I had already mapped these keys to =C-arrows).
        o =C-arrows= used to move cursor by word/paragraph, but I used M-f/b
        o =C-arrows= consistent w/ buffer move: I'd [[
        (][mapped]] it to =C-S-arrows=

        If customize [[help:org-support-shift-select][org-support-shift-select]], then shift select works
        o *'t'**:* in text but not in special regions (bullet cycling is modified)
        o *'always'*: works everywhere except on a timestamps

******* ACCEPTED make recent files display "basename|dirname" like buffer uniquify
        Done.  See ~/.emacs (defun sdo/uniquify-like-buffer (vm-unique-filename)...)

******* ACCEPTED try out [[https://github.com/larstvei/Try][try]] (try packages w/o installing)
        I've installed this.  It works unless the packages being tried has undownloaded dependencies, it seems.

******* ACCEPTED get a recent directories like recent files

        I picked bjm/ivy-dired-recent-dirs (Method #1 below).

        I thought about ido'izing it, and making uniquifying like recent files are, but actually, I like the plain ivy binding better, so I'm keeping it as it.

        Here are two ways to make recent directories.maybe one is easier to idoize?

                   1. [[http://pragmaticemacs.com/emacs/open-a-recent-directory-in-dired-revisited][Method #1]] using ivy directly
                      [[From: http://blog.binchen.org/posts/use-ivy-to-open-recent-directories.html][2. Method #2]] using counsel
                      Calls executable "fasd" which I don't see in my IWES path.
                      There is also an emacs fasd package, but this also wants the binary???

                   They look the same to the user but 
******* ACCEPTED fix helm and ref-bibtex bibtex _pdf openers_ on SP4 (Win 10 v.s Win 7?)
      
        Bug report is [[https://github.com/jkitchin/org-ref/issues/511][here]].

        In the end (Oct. 28, 2017), this just started working again.  I'm not sure if I did anything that fixed it, or if one of the package updates did the job.  
      
        Comments on [[https://emacs.stackexchange.com/questions/3105/how-to-use-an-external-program-as-the-default-way-to-open-pdfs-from-emacs][this article]] might be of help w/ windows file associations or with using pdf-tools package ([[http://tuhdo.github.io/static/emacs-read-pdf.gif][demo]] for pdf-tools, I think)

********* my bug tracking trail
************* org-ref bibtex hydra
              hdyra 'p' [[file:~/.emacs.d/elpa/org-ref-20171019.724/org-ref-bibtex.el::("p"%20org-ref-open-bibtex-pdf)][calls]] org-ref-open-bibtex-pdf
              org-ref-open-bibtex-pdf calls
              the function [[file:~/.emacs.d/elpa/org-ref-20171019.724/org-ref-core.el::org-ref-open-bibtex-pdf][org-ref-open-bibtex-pdf]]

              I changed this to print what it's trying to open.  Here are the responses:

              ... key=Garcke17dimRedWindTurb, pdf=c:/Users/scotto/Tempo Box/ref/papers/Garcke17dimRedWindTurb.pdf

              and then

              tried to open c:/Users/scotto/Tempo Box/ref/papers/Garcke17dimRedWindTurb.pdf

              which is the right path.

              formats to: [[file:c:/Users/scotto/Tempo Box/ref/papers/garcke17dimredwindturb.pdf]]

              (is the blank in the path the problem?)

              this then [[file:~/.emacs.d/elpa/org-ref-20171019.724/org-ref-core.el::(org-open-link-from-string%20(format%20"%5b%5bfile:%25s%5d%5d"%20pdf)))][calls]] the function [[file:~/.emacs.d/elpa/org-plus-contrib-20171023/org.el::(defun%20org-open-link-from-string%20(s%20&optional%20arg%20reference-buffer)][org-open-link-from-string]]

              _Experiments_

              (setq pdf "c:/Users/scotto/Tempo Box/ref/papers/Garcke17dimRedWindTurb.pdf")

              (setq pdf "c:/Users/scotto/OneDrive/scotto/tmp/Garcke17dimRedWindTurb.pdf")

              (org-open-link-from-string (format "[[file:%s]]" pdf))

              (message "qa=%s" (shell-quote-argument pdf))

              (message "qa2=%s" (format "[[file:%s]]" (shell-quote-argument pdf)))
              (message "qa3=%s" (format "[[file:""%s]]" pdf))

              (org-open-link-from-string (format "[[file:%s]]" (shell-quote-argument pdf)))
              (org-open-link-from-string (format "[[file:%s]]" pdf))

              (setq pdf "c:/Users/scotto/Tempo Box/ref/papers/Garcke17dimRedWindTurb.pdf")
              (org-open-link-from-string (format "[[file:%s]]" pdf))          

******* ACCEPTED clean up .emacs w/ use-package or equivalent

        See: [[File:~/.emacs::;;%20TODO%20use-package%20is%20redundant%20w/%20'(package-selected-packages%20in%20customizations)][use-packages notes in my .emacs]]
******* ACCEPTED fix org-ref hydra thing: C-j no longer brings up hydra

        My hack was to put it inside of 
      
        (use-package org-ref

        and to directly put it into the bibtex map

        (define-key bibtex-mode-map "\C-cj" 'org-ref-bibtex-hydra/body)

        normally, it's bound in:

        https://github.com/jkitchin/org-ref/blob/master/org-ref-bibtex.el

******* ACCEPTED Decide mappings: C-c b, C-c r *VS*. =C-x 5 c= etc. *VS.* Prefix
      
        *Conclusion*: New mappings will be

        C-x C-f: find file (as always)
        C-x 4 f: find file other window (easier than fully consistent =C-x 4 C-f=)
        C-x 5 f: find file other frame

        C-x C-r: find recent file (mimicking C-x c-f since it's also a file)
        C-x 4 r: find recent file other window
        C-x 5 r: find recent file other frame

        C-x c:   clone buffer (like files but avoids =C-x C-c= (kills emacs))
        C-x 4 c: clone buffer other window
        C-x 5 c: clone buffer other frame

        C-c b:   org-iswitchb (/generalize to "files of same mode"/)

********* C-x 5 r vs. C-5 C-4? *C-x 4, *C-x 5 are better*

          *Conclusion*: C-x 4 and C-x 5 would be consistent w/ frame and window functions ([[Emacs key binding conventions]])

*********** For recentf, C-x 5 C-r is a little clumsy.
*********** could use a prefix: C-4 C-r, C-5 C-r but C-x 4/5 r is following a standard
*********** or did I make that up in my own .emacs file
      
********* C-c b (C-c 5 b) and C-c b (C-c 5 b)? *C-c b and C-c c are OK*
*********** I can use C-c since I'm a user ([[Emacs key binding conventions]])
*********** I had already mapped C-c b to clone-indirect-other buffer
************* Nice b/c easy to type, and C-c 5 b would be easy too
************* BUT it wrote over org-iswitchb which restricts to org files (also NICE)

*********** For uniformity: I could also do C-c b, C-c 4 b, C-c 5 b
************* Easy to type
************* Consistent with C-c b

********* Save C-c b binding to clone-indirect-buffer-other-window? *No*

          Conclusion: redefining C-c b would not be a sacrifice since I never used my C-c b binding anyway.  And it was kind of inconsistent.

          Also, somebody else uses this as "org-iswitchb" which I think is more consistent, somehow.  Note: org-iswitchb might have a sensible use for C-u prefixes.  See the help for this function.  This might generalized to other modes e.g. for C mode: C-u could mean to ".h" files, etc.

********* Use prefixes args (e.g. C-u)? *No*

          Conclusion: It seems like prefixes arguments are best for binary command options (C-u) and this isn't binary.  Also, I don't have a consistent idea for the other ones, while I do notice that C-x 4 and C-x 5 are almost always bound to window and frame functions

          See [[Emacs key binding conventions]]

********* C-x f is finger-memoried to find-file so use =r= and =c=? *Yes*

******* ACCEPTED make recentf-ido-file-file-other-frame and window

        - Start with recentf-ido-file-file() in .emac
        - separate 'recentf file' finding
        - call it in recentf-ido-file-file, recentf-ido-file-file-other-window and recentf-ido-file-file-other-frame
        - ... using tricks in
          - find-file-guessing-other-window
          - find-file-guessing-other-frame
        - maybe consult [[https://www.emacswiki.org/emacs/RecentFiles#toc2][this page]]
******* ACCEPTED [[Jumping to papers from inside of org-mode and bibtex files]]
******* ACCEPTED [[ivy-push-view]] (window configs)
        I've bound it in my .emacs.  See [[Saving/restoring window sessions]]
******* ACCEPTED [[http://oremacs.com/2015/10/23/dired-compress/][dired file compression]] instead of crypt++
******* ACCEPTED Make =M-%= search string comes from region, like =C-s= does
        Done: I installed package [[https://www.emacswiki.org/emacs/replace-from-region.el][replace-from-region.el]]

        Reason I hadn't done this so far is that I wanted to keep the "replace only within selected region of the default =M-%=.

        Maybe make the default behavior a prefix option in a new function that looks something like ~sdo-swiper-region~

        =M-%= already has a bunch of prefix args, and also has a fancy way of making the previous isearch string the replacement target (see help on M-%).

        So, [[https://www.gnu.org/software/emacs/manual/html_node/elisp/Interactive-Call.html][call-interactively]] or ~execute-extended-command~ to pass prefixes?

        *Packages*
        o Maybe use [[https://www.emacswiki.org/emacs/ReplacePlus#toc1][EmacsWiki: Replace Plus]]?  package mgr calls it obsolete.  I'm also not sure if it does regions.
        o [[https://www.emacswiki.org/emacs/download/replace-from-region.el]]
        package mgr says it's obsolete but it works (it's installed right now)

        *Good to know*
        =M-n=: invoke replacements from incremental search with a key sequence like ‘C-s C-s M-%’

        *Maybe* I should try to duplicate the search --> search-replace behavior in ~sdo-swiper-region~

******* ACCEPTED think of a good use for =M-app=
        - hydra for all kinds of emacs functions?
          Would that work when stuff is selected or 'at point'?
          - symbol, function, variable
          - man page
          - info
          - bindings
        - [[make a hydra for the frame transpositions]] ?
        - eval-region
******* ACCEPTED good use for =M-m=, now that manpages are in hydra
        - ~create-and-link-dedicated-org-target~
        - eval-region
******* ACCEPTED [[https://github.com/d12frosted/flyspell-correct][GitHub - d12frosted/flyspell-correct]] (ido, ivy, helm, ...)
******* ACCEPTED org (the latest org mode)
******* ACCEPTED org-bullets
******* ACCEPTED org-plus-contrib (must have been something in there I wanted?)
******* ACCEPTED [[https://github.com/calvinwyoung/org-autolist][org-autolist]]

        *Keep it.*

        org-autolist makes org-mode lists behave more like lists in non-programming editors such as Google Docs, MS Word, and OS X Notes.

        When editing a list item, pressing "Return" will insert a new list item automatically. This works for both bullet points and checkboxes, so there's no need to think about whether to use M-<return> or M-S-<return>. Similarly, pressing "Backspace" at the beginning of a list item deletes the bullet / checkbox, and moves the cursor to the end of the previous line.

        Works on '-' lists and checkboxes, not headlines ('***').  But it
        works and is handy.  Must enable org-autolist-mode so it works.  See
        instructions in the doc below (I've done that now).

********* testing
          - asdlkfjsfdj
          - alskfjalsfjd
          - alskdfjlkfj
            - aslkdfj
            - alskddfj
          - alskfdj
          - alksdfj
          - [ ] asldkfj
          - [ ] lkajfs
          - [ ]

********* package doc
          org-autolist is an available package.

          Status: Available from melpa -- Install
          Archive: melpa
          Version: 20150922.705
          Summary: Improved list management in org-mode
          Homepage: https://github.com/calvinwyoung/org-autolist
          Keywords: lists checklists org-mode

          `org-autolist` makes org-mode lists behave more like lists in non-programming
          editors such as Google Docs, MS Word, and OS X Notes.

          When editing a list item, pressing "Return" will insert a new list item
          automatically. This works for both bullet points and checkboxes, so there's
          no need to think about whether to use `M-<return>` or `M-S-<return>`. Similarly,
          pressing "Backspace" at the beginning of a list item deletes the bullet /
          checkbox, and moves the cursor to the end of the previous line.

          To enable org-autolist mode in the current buffer:

          (org-autolist-mode)

          To enable it whenever you open an org file, add this to your init.el:

          (add-hook 'org-mode-hook (lambda () (org-autolist-mode)))

******* ACCEPTED org-cliplink

        *Keep it.*

        It's simple and it works.  A bit like pasting note links in Evernote.
        Can edit title later to make it shorter.

        I bound C-c y to org-cliplink

********* test

          [[https://github.com/calvinwyoung/org-autolist][GitHub - calvinwyoung/org-autolist: Making it even easier to edit lists in or...]]

          [[http://www.canoo.net/services/Search/ueberblick/index.html?MenuId=Search&lang=en][canoonet - Dictionary for Spelling, Inflection, Wordformation and Grammar for...]]

          [[http://www.nytimes.com/2016/05/05/us/politics/trump-gop.html?hp&action=click&pgtype=Homepage&clickSource=story-heading&module=first-column-region&region=top-news&WT.nav=top-news][With Donald Trump in Charge, Republicans Have a Day of Reckoning - The New Yo...]]
********* package docs
          org-cliplink is an available package.

          Status: Available from melpa -- Install
          Archive: melpa
          Version: 20160319.500
          Requires: emacs-24.4
          Summary: insert org-mode links from the clipboard
          Homepage: http://github.com/rexim/org-cliplink

          A simple command that takes a URL from the clipboard and inserts an
          org-mode link with a title of a page found by the URL into the
          current buffer

          This code was a part of my Emacs config almost a year. I decided to
          publish it as a separate package in case someone needs this feature
          too.

          [back]
          *
******* ACCEPTED different screen font for ~code~ and =verbatim=
******* ACCEPTED map mouse buttons to emacs functions e.g. mouse-4 and mouse-5 (browser back/forward)
        Ideas
********* I don't know,... try to use org-mode with a mouse and see
********* C-x b (bufer history)
********* winner mode
********* buffer movement (winmove commands, although maybe that's stupid, since I would have my hands on a mouse)
********* undo/redo (with undo-tree?)
          *
******* ACCEPTED [[help:narrow-or-widen-dwim]]
******* ACCEPTED think of new home/end since it's a mess on SP4
        didn't these used to be M-[ and M-]? Use for page up/down?  I don't know, but they are now.
        Done: Home/end is now a hydra of []
******* ACCEPTED swiper
******* ACCEPTED write functions anchor-create and anchor-link
        I'm always making anchors from headline titles and then turning around and linking them.  Make it simple:
        *dedicated-target-create:* makes an dedicated-target (<<XX>>) and either
        o puts it in the copy buffer so it can be pasted somewhere
        o pastes it itself on the line below the current headline
        o XX can come from
        o selected text
        o the full headline
        o what you type in

        *dedicated-target-link*: creates a link to an dedicated-target ([[[[XX]]]]) and puts it in copy buf
        o you paste it where you want
        o XX can come from
        o copy buffer leftover from of *dedicated-target-create*
        o putting the cursor on an dedicated-target (it's extracted)
        o putting cursor on a dedicated-targetless headline
        (it calls *dedicated-target-create* to make the dedicated-target)

********* TRY ID's?: Auto headline ID making: [[https://writequit.org/articles/emacs-org-mode-generate-ids.html][Emacs Org-mode: Use good header ids!]]
********* TRY See: jkitscher's headline link: I think he gets the text somehow
********* TRY [[http://stackoverflow.com/questions/16346622/how-can-i-reference-a-section-by-number-in-org-mode-export][How can I reference a section by number in org-mode export?]]
********* [[file:org_mode/superlabel.org]]
********* [[how to do interesting stuff in org-mode/org-ref]]
********* [[file:org_mode/sandbox/store-head-link.el::(when%20(and%20(eq%20major-mode%20'org-mode)%20;;%20do%20something%20if%20@%20org%20header,%20else%20ret%20nil][store-head-link.el]]
********* [[http://kitchingroup.cheme.cmu.edu/blog/2017/04/09/A-better-return-in-org-mode/][A better return in org-mode]]
********* dedicated target matching, fontifying: in org.el
*********** org-target-regexp

            (defconst org-target-regexp (let ((border "[^<>\n\r \t]"))
	    (format "<<\\(%s\\|%s[^<>\n\r]*%s\\)>>"
	    border border border))
            "Regular expression matching a link target.")

*********** org-at-target-p
            (defun org-at-target-p ()
            (or (org-in-regexp org-radio-target-regexp)
            (org-in-regexp org-target-regexp)))
*********** org-any-target-regexp
            (defconst org-any-target-regexp
            (format "%s\\|%s" org-radio-target-regexp org-target-regexp)
            "Regular expression matching any target.")
*********** what org-context does when he finds a target (org.el)

            pushes start and end of context, expect position to be visible b/d of fontlock faces.

            ((org-at-target-p)
            (push (org-point-in-group p 0 :target) clist)
            (goto-char (1- (match-beginning 0)))
            (when (looking-at org-radio-target-regexp)
	    (push (org-point-in-group p 0 :radio-target) clist))
            (goto-char p))

            "p" seems to be set somewhere with
            (interactive "p")

            <<bob>> <<>> <<>> <<>> <<>> <<>>

********* org-heading-components() gets heading contents
          *********
********* org-edit-headline() could be used to edit a heading when doing a target

******* ACCEPTED TODO hide <<>>'s like hyperlink [[]]'s are hidden
******* ACCEPTED =M-y=: counsel-yank-pop (within counsel-yank-pop) =M-y= cycles)
******* ACCEPTED [[outshine-mode]]
******* ACCEPTED less ugly ~code~ face
        Courier seems be bitmapped is there truetype?

        New Courier seems OK

        ~code face~

******* ACCEPTED better org-mode ellipses (end of line char)

        In the end, I picked the single character for three little dots: ...

********* [[https://zhangda.wordpress.com/2016/02/15/configurations-for-beautifying-emacs-org-mode/][one guy's collection]]: ellipsis and bullets
          A test line»
          A test line…
          A test line⇉
          A test line↴
          A test line⤵
          A test line➛
          A test line➮
          A test line➻
          A test line↝
********* aslkf sadf sfd¤þ
********* lkasf sadf slkΔ
********* lasjf asfd lkjsadfΞ
********* asdlkfjasdf sdflk asdflkj safdΞ
********* other possible chars
          ¤
          °
          þ
          Đ
          Ɖ
          Ǝ
          ˥
          Δ
          Ξ
          ϖ
          Ϸ
          З
          Ф
          Э
          Ю

******* ACCEPTED fix ediff of org files

        Answer: turn off folding before ediff, following instructions [[https://emacs.stackexchange.com/questions/21335/prevent-folding-org-files-opened-by-ediff][here]] in .emacs

        M-x font-lock acts like a literal toggle.  Can you ediff that way? NO.

        add toggle-literal() to =M-apps= hydra?. NOT needed so delete this from .emacs

******* ACCEPTED [[gscholar-bibtex]]
******* ACCEPTED counsel-descbinds in hydra
        It's overall better than ido binding search
        better than: instant search (ido: must switch to to buff and search)
        better than: ivy-resume goes back to it
        worse: always in minibuffer; ido uses big side buff if available.

******* ACCEPTED remove dependency upon align-equals.el

        Used script in https://gist.github.com/WaYdotNET/700416
        which has many other align functions too.

***** *REJECTED*
******* REJECTED Use context key for hyper keybindings

        The argument for it is [[http://kundeveloper.com/hyper/][here]]; this guy's config for that is [[https://gitlab.com/fiachetti/i3][her]].

******* REJECTED try out [[http://orgmode.org/worg/org-contrib/org-choose.html][org-choose]] module
        Too hard to figure out what it does, and built-in TODO's are OK

******* REJECTED [[https://github.com/steckerhalter/helm-google][helm-google]]
        does nothing
******* REJECTED ivy-bibtex
        does nothing
******* REJECTED make a hydra for the frame transpositions?
        <<make a hydra for the frame transpositions>>
        Bindings for [[https://www.emacswiki.org/emacs/TransposeFrame][EmacsWiki: Transpose Frame]]

        *But do I need this?*  Existing =C-|= can already do what I want, I think.

        *NOPE* C-| is enough.  Don't do this.

        See .emacs, one already used, horizontal and vertical flipping might be useful
        ;; make a hydra for the frame transpositions?
        ;‘flip-frame’ … Flip vertically
        ;‘flop-frame’ … Flop horizontally

        An idea for =M-app=?
******* REJECTED icicles (needed by some other package or is this a leftover?)

******* REJECTED [[http://sachachua.com/blog/2017/04/emacs-pasting-with-the-mouse-without-moving-the-point-mouse-yank-at-point/][Pasting with the mouse without moving the point – mouse-yank-at-point]]

        I guess I like the X-windows style of pasting and don't find the control problem that hard.

        just add (setq mouse-yank-at-point t)
        do I really use middle click mouse anymore?, like in X?

******* REJECTED [[https://github.com/Kungsgeten/selected.el][GitHub - Kungsgeten/selected.el: Keymap for when region is active]]
        Uppercases a region and stuff.  But I don't need this very often, and the standard M-u, etc. is fine

******* REJECTED org-wunderlist

        MS is killing Wunderlist and integrating into Win10.  This is very unlikely to survive, especially since [[https://github.com/myuhe/org-wunderlist.el][last checkin for org-wunderlist was 2015]]

        Would be nice to sync org mode w/ phone and browser.  Wunderlist has been
        bought by MS so maybe it will survive a while.  Could try this and switch
        from Google Keep to Wunderlist (but will MS kill Wunderlist?).

        Anyway, there are apps for windows 10, android, and browser interace.


********* REJECTED package docs
          org-wunderlist is an available package.

          Status: Available from melpa -- Install
          Archive: melpa
          Version: 20150817.1913
          Requires: request-deferred-0.2.0, alert-1.1, emacs-24, cl-lib-0.5, org-8.2.4,
          s-1.9.0
          Summary: Org sync with Wunderlist
          Homepage: https://github.com/myuhe/org-wunderlist.el
          Keywords: convenience

          Put the org-wunderlist.el to your
          load-path.
          Add to .emacs:
          (require 'org-wunderlist)

          [back]

******* REJECTED anzu modeline display
        [[https://github.com/syohex/emacs-anzu][GitHub - syohex/emacs-anzu: Emacs Port of anzu.vim]]

        A nice little display of the number of matches of an isearch string, displayed on the mode-line. But I wasn't using it because I started using swiper instead of isearch.

        One nice thing about it, though, is that it somehow knoew to put itself on the right side of the modeline.  

        I'd like to do do that for (display-time-mode 1), where time would go on left side of modeline.
        
*** <<Org Mode>>
***** [[https://code.orgmode.org/bzg/org-mode][org-mode git repository]] (according to [[https://orgmode.org/worg/dev/index.html][this]])
***** org mode table math
      See: [[http://orgmode.org/org.html#Advanced-features][Advanced-features]]
***** [[MoinMoin emacs]]
***** [[org-mode indentation]]
***** <<org-tree operations>>
      From: [[https://orgmode.org/manual/Structure-Editing.html][Structure Editing (The Org Manual)]]]

      *Tree Copy/Cut/Paste/Move*
        C-c C-x C-w   org-cut-subtree
        C-c C-x M-w   org-copy-subtree
        C-c C-x C-y   org-paste-subtree
        C-c C-w       org-refile (move)

      *Tree & Block Narrowing* (hide other trees, limit scope of search/replace)

        C-x n n      recursive-narrow-or-widen-dwim 
                     (done in my .emacs.  Works in non-org modes like code too)

        _standard org-mode tree operations_
          C-x n s       org-narrow-to-subtree
          C-x n b       org-narrow-to-block
          C-x n w       widen

      *Tree Folding*
          C-c u         org-fold-outer

      *Headline/List Conversion*
        C-c * (org-toggle-heading)

      *Tree to indirect buffer*
        C-x 4 t  sdo/org-tree-to-indirect-buffer
        C-x 5 t  sdo/org-tree-to-indirect-buffer-new-frame

******* also [[Narrowing/Widening: narrow-or-widen-dwim]]
******* also [[org-mode searching]]
***** <<org-mode searching>>

      C-c / t             org-show-todo-tree
      M-x org-occur
      M-x consult-outline
      M-x counsel-org-goto  # Nov. 2021: breaks swiper, though
      M-x counsel-org-tag

******* also [[org-tree operations]]

=oc-bibtex-actions=
******* [[https://kitchingroup.cheme.cmu.edu/blog/2017/01/03/Find-stuff-in-org-mode-anywhere/][Find stuff in org-mode anywhere]]
******* also [[Org-mode parsers]]

***** org-mode export
******* A plain text file
        For some reason, I can't see ascii in the export dispatcher, so I installed ox-minutes

        This does show up in the dispatcher, and works OK.

******* <<Org to/from MS Word>>
********* <<org-mode to/from Word using pandoc command line>>

          _Basic (too basic, see Fix below)_
            make a Word file
            pandoc -f org -t docx -o tmp.docx tmp.org
            make a .org file
            pandoc -f docx -t org -o tmp2.org tmp.docx

          This kinda works: The org-mode outline structure shows up as an outline structure in Word, and on the docx-->org step, the org structure is retained.  But this has those annoying :PROPERTIES: drawers, which weren't there before.  

          _Fix_

            pandoc -t org my_doc.docx | sed -E "/^[[:space:]]+:/ d" > my_doc.org

          Problems
          - Heading fonts, etc. are
          - How to control the appearance of headlines, etc. in Word output? (See [[Pandoc docx output formatting]])
          - a syntax error when I tried to convert my whole howto.org file.

*********** <<Pandoc docx output formatting>>
************* [[https://github.com/jgm/pandoc-templates/issues/20][how to create docx template · Issue #20 · jgm/pandoc-templates · GitHub]]
************* See also [[Org to/from MS Word]]
*********** also [[org export to word using ox-pandoc]]
********* <<Word export to org-mode>>
*********** Using [[Pandoc]] (works)
************* [[org-mode to/from Word using pandoc command line]]
************* one guy's [[https://lists.gnu.org/archive/html/emacs-orgmode/2015-06/msg00246.html][back and forth workflow]]
************* there are also pandoc and pandoc-mode packages (not org)
************* [[Pandoc docx output formatting]]

              Kind of annoying: must create a reference document using pandoc and then edit that to create the styles you want.  Can't directly use, for example, a conference paper template; you'd need to manually make the pandoc docx template look like the paper template.  Anyway...

              pandoc myfile.txt -o reference.docx

              where myfile just says "hello world" or something.  Then use Word to edit reference.docx to taste.

************* [[http://blog.kdheepak.com/writing-papers-with-markdown.html][Writing papers in markdown]] (org mode kind of is that)
*********** [[http://blog.binchen.org/posts/how-to-take-screen-shot-for-business-people-efficiently-in-emacs.html][Using OpenOffice]] (this needs zip to be installed)
********* Org-export to Word
*********** <<org export to word using ox-pandoc>>
            Uses [[https://github.com/kawabata/ox-pandoc][ox-pandoc]], a way to avoid org-export hell?

            This is supposed to show up in the C-c C-e menu, and I have seen it there.  But for some reason, it's not there now.  *Fix!*

            *Hack* 
            M-x org-pandoc-export-to-docx-and-open 
            /(from [[https://github.com/kawabata/ox-pandoc][here]])/

            Put 

               #+OPTIONS: H:0

            at top of .org file for decent bulleted list, which you can get in Word by selecting all and clicking the "bullets button" at the Word top.

************* [[Pandoc docx output formatting]]
************* pandoc setup for export to Word
*************** Using package [[https://github.com/kawabata/ox-pandoc][ox-pandoc: Another org-mode exporter via pandoc]]
                Doesn't work yet
***************** On windows, it can't find my pandoc executable
******************* [[Windows pandoc path]]
******************* [[http://superuser.com/questions/685479/pandoc-in-emacs-in-windows-searching-for-program-permission-denied-usr-bin-p][Try these customizations]]?
***************** [[http://emacs.stackexchange.com/questions/22485/org-mode-pandoc-export-to-docx-and-open][how to get org mode to open the docx in word]]
*************** [[http://kitchingroup.cheme.cmu.edu/blog/2014/07/17/Pandoc-does-org-mode-now/][Pandoc does org-mode now]] (how it works)
************* [[http://www.rousette.org.uk/blog/archives/org-mode-and-pandoc/][a gal]] exports her org files to it, and then to whatever 
*************** she also [[https://www.rousette.org.uk/archives/obsidian/][moved]] from [[org-roam]] to [[obsidian]] b/c of Dropbox sync probs
************* pandoc-citeproc seems important for citations
************* inspiration: Keeping a lab notebook with org-mode, git, Papers, and Pandoc: ([[https://erikclarke.net/2014/10/04/keeping-a-lab-notebook-with-org-mode-git-papers-and-pandoc-part-i/][Part I]] and [[https://erikclarke.net/2014/10/21/keeping-a-lab-notebook-with-org-mode-git-papers-and-pandoc-part-ii/][Part II]])
************* =cite:= partly lost: [[http://kitchingroup.cheme.cmu.edu/blog/category/pandoc/][jkitchin's org-cite test/modifications for pandoc]]
************* [[https://sylvaindeville.net/2015/07/17/writing-academic-papers-in-plain-text-with-markdown-and-jupyter-notebook/][This fellow]] makes [[http://iopscience.iop.org/1468-6996/16/4/043501][perfect papers]] with Pandoc.
************* TODO READ: [[https://kieranhealy.org/blog/archives/2014/01/23/plain-text/][Detailed description of a pandoc workflow]] using emacs (not orgmode)
*************** has clickable links to both figures and citations
*************** bib is nicely formated: he uses CSL; IEEE CSL is [[https://github.com/citation-style-language/styles][here]]
************* bibliography
*************** style file (.csl)
*************** reference in doc: =#+PANDOC_OPTIONS: csl:sample.csl=
***************** latest are [[https://www.zotero.org/styles?q=ieee][here]]
*************** refernce bib to file: =#+BIBLIOGRAPHY: sample.bib=
********* also [[org-mode to/from OneNote]]
******* Controlling header numbering in exports

        Bullets instead of numbers, no author or TOC
        - #+OPTIONS: num:0 H:0 author:nil toc:nil

        Off entirely for all documents
        (setq org-export-with-section-numbers nil)

        Turn them off entirely, this doc
        - #+options: num:nil

        Only numbers on 1st level, this doc
        - #+options: num:1

******* export '_' and '^' as chars instead sub and superscript
        From: [[https://emacs.stackexchange.com/a/54525/14273][How to export underscore as underscore instead of highlight]]

        _Per org document_ 

        Add at top: #+OPTIONS: ^:nil

        _For all org documents_

        In emacs customizations: Group Org Export 
                             --> Group Org Export General
                             --> Option Org Export With Sub Superscripts

******* <<org-mode to/from confluence>>

        Best I can do for now:

        _org --> confluence_

          1. export org to a pdf via latex
             (latex .bib proc. is better than html export)
          2. open pdf in Word
          3. [[import Word to Confluence]]

          *Note* [[exporting org-mode, latex to html with bibliography references]] would be an one step deal if I could only get emacs to run xhlatex

        _confluence --> org_

          1. [[export confluence to word]]
          2. M-x org-pandoc-import-docx-to-org
           ([[https://github.com/tecosaur/org-pandoc-import][org-pandoc-import]] avoids :Property drawers when use pandoc directly)

********* [[exporting org-mode, latex to html with bibliography references]]
********* Word to org, using pandoc directly
          From [[https://emacs.stackexchange.com/questions/31906/in-org-mode-a-function-to-delete-all-properties-drawers][in org-mode, a function to delete all properties drawers?]]

          pandoc -t org my_file.docx | sed -E "/^[[:space:]]+:/ d" > my_file.org

********* M-x org-confluence-export-as-confluence 
********* [[Emacs PlantUML]]
********* <<ox-confluence>>

          Some kind of org-mode to confluence supporter.  [[https://eising.it/posts/org-pandoc-confluence/][Guy who writes a lot of confluence pages]] uses it (in 2020).  He also syncs w/ git.

          BUT [[https://www.reddit.com/r/orgmode/comments/hugs7h/exporting_to_confluence/][many export org to markdown or html]], say org/ox-confluence is obsolete

*********** [[https://github.com/aspiers/orgmode/blob/master/contrib/lisp/ox-confluence.el][orgmode/ox-confluence.el at master · aspiers/orgmode · GitHub]]
*********** TRY but I'm not sure how to use it in emacs
        
********* [[https://eising.it/posts/org-pandoc-confluence/][How to avoid confluence as much as possible]]: ox-confluence/pandoc/git
********* [[https://www.reddit.com/r/orgmode/comments/hugs7h/exporting_to_confluence/][many export org to markdown or html]], say org/ox-confluence are obsolete
********* org-kungfu
          From: [[https://github.com/baohaojun/org-kungfu][baohaojun/org-kungfu: Using Org-mode to write Confluence pages]]

          Uses perl and pandoc, keeps confluence and org-mode synced, somehow

          Seems to be maintained.  In Sept. 2021, last commit was Feb 2021

********* [[Exporting from confluence]]
********* [[export confluence to MS Word]]
********* [[Importing to confluence]]
******* <<org-mode to/from OneNote>>
********* <<org-mode export to OneNote>>
*********** via MS Word
************* [[org export to word using ox-pandoc]]
************* paste word doc contents into OneNote
************* clean up in Word
*************** select all
*************** format as Heading 1
*************** format as Normal
*************** (optionally) click on bullet formatter if want bulleted instead of numbered items
*********** ifree/org-onenote
            From: [[https://github.com/ifree/org-onenote][GitHub - ifree/org-onenote: Post org file to onenote]]
************* exports OneNote page to online OneNote
************* must run some authentication, define destination section
************* Last commit was in 2017 (in 2021)
*********** also [[OneNote export to org-mode]]
********* <<OneNote export to org-mode>>
*********** via MS Word
************* [[org export to word using ox-pandoc]]
************* [[Word export to org-mode]]
*********** also [[org-mode export to OneNote]]
********* also [[OneNote]]
********* also [[Org to/from MS Word]]
******* disable heading numbering & bullets in export
        From: [[https://stackoverflow.com/a/9096734/2591097][How do you remove numbering from headers when exporting from org-mode...]]
        
        Can be done programmatically in .emacs settings or in file variables.  File variables below:

        All headings showing, Only bullets, use @ top if file    

         #+OPTIONS: H:0 num:0

        All headings showing, bullets below top level headlines

         #+OPTIONS: H:0 num:1

***** Moving/skipping to headlines
******* [[Swiper]]
******* [[http://orgmode.org/org.html#Motion][org-goto]]: =C-c C-j=
******* <<Mark-ring>>

        =C-SPC=
        Set the mark, pushing it onto the mark ring, without activating it.

        =C-u C-SPC=
        Move point to where the mark was, and restore the mark from the ring of former marks.

******* Moving/skipping to headlines w/ refile
        From [[http://sachachua.com/blog/2015/02/learn-take-notes-efficiently-org-mode/][here]]:

        Moving a headline w/ org-refile
        C-c C-w
        Then select dest headline.  I've set it to use ido but it doesn't...

        Skipping to a headline
        C-u C-c C-w     (go there)
        C-u C-u C-c C-w (return)

******* [[outshine-mode]]
***** [[Narrowing/Widening: narrow-or-widen-dwim]]
***** <<org-cite>>

      The new built in org-mode citation processor, starting with org mode 9.5.  Can use [[citar]] for bibtex link processing.

******* [[https://orgmode.org/org.html#Citation-handling][The Org Manual: Citation-handling]]
******* prettier cite rendering: links w/ paper title, etc.
********* [[https://github.com/andras-simonyi/org-cite-csl-activate][GitHub - andras-simonyi/org-cite-csl-activate: A CSL-based activation process...]]
********* bdarcus's answer to my question about it is [[https://org-roam.discourse.group/t/all-about-the-upcoming-org-cite-feature/1600/27?u=scotto][here]]
********* dotemacs that has it: [[https://github.com/anghyflawn/dot-emacs/blob/master/emacs.org][dot-emacs/emacs.org at master · anghyflawn/dot-emacs · GitHub]]
********* [[https://tecosaur.github.io/emacs-config/config.html][org-cite-csl-activate function]] preventing buffer modes
******* converting org-ref links to org-cite
********* <<code for converting org-ref links to new native org cite links>>

[[https://github.com/bdarcus/citar/issues/442][function to convert org-ref and/or pandoc citations to org]]
********* using [[https://github.com/bdarcus/citar/issues/485#issuecomment-992463280][pandoc to do org-ref --> org-cite]]
******* Eric S. Fraga's question/answer on 10/20/21

Config that eventually worked for him
            
    1. install =embark=
    2. update and load =parsebib=
    3. load =oc-bibtex-actions=
    4. set =org-cite-insert-processor= to ='oc-bibtex-actions=

Date: Tue, 19 Oct 2021 17:30:36 +0100
From: Eric S Fraga <e.fraga@ucl.ac.uk>
To: Emacs Org mode mailing list <emacs-orgmode@gnu.org>
Subject: the tangled web of org-cite, selectrum, completing-read, ...
Message-ID: <87tuhdou37.fsf@ucl.ac.uk>
Content-Type: text/plain; charset="utf-8"

Hello all,

TL;DR: how can I format the suggestions listed by selectrum when I ask
to insert a citation with org-cite-insert?

Longer version: I use selectrum a my completion engine together with
marginalia.  This works very well for most selections I wish to
make.  However, for org-cite, the display has the author list truncated
(to 25 characters; screenshot image attached, assuming it doesn't get
removed by the mailing list server) and the search only appears to
consider the truncated text.  The result is that if I am looking for a
paper by an author (say Kitchin ;-)) who is not one of the first few
authors on a particular publication, I won't be able to find that
particular publication (sorry John).

I have no idea which bit of the tool chain does the
formatting/truncation or whether I can make the search ignore the
truncated information.  I hope somebody has some suggestions.  I started
looking at bibtex-completions, which does mention org-cite (at least in
the most recent version), but none of the configuration suggestions
seems to have any effect.

Any pointers welcome!

Thank you,
eric              

******* [[configuring new org-cite and org-roam-bibtex]]
******* exporting org-cites to pandoc
********* citeproc author [[https://www.reddit.com/r/emacs/comments/oiljph/comment/h4wztn4/?utm_source=share&utm_medium=web2x&context=3][expects]] pandoc to support it
********* The pandoc ticket for this: [[https://github.com/jgm/pandoc/issues/7329][#7329]]
******* <<citar>>

And [[org-cite]]e link follower written by the guy who started native org-mode citation links.  Can replace [[org-roam-bibtex v2]], at least [[https://github.com/bdarcus/citar/issues/485#issuecomment-991994134][according to citar author]].  To adopt energytop.org would need [[code for converting org-ref links to new native org cite links]].

********* works in plain org 9.5: "jump to bib entry by clicking ref link" 
********* [[JethroK's org-roam capture templates for citar]]
********* bib entry search, like what org-ref helm thing dis
*********** [[https://github.com/bdarcus/citar][citar: quickly find and act on BibTeX, BibL...]]
*********** it works best w/ embark, etc.
********* setting up citar to open org ref notes on a bibitem
********* [[https://gist.github.com/bdarcus/09dff264a75ae78330d8ee1a1ee5e1b2][how to create a hydra for use with citar, and org-cite "follow processor" tha...]]
********* customizing citar completion display [[https://github.com/bdarcus/citar#templates][with templates]]
********* opening pdfs w/ citar
          From: [[https://github.com/bdarcus/citar/issues/531#issuecomment-1065821719][here]]
********* <<citar and zotero>>
*********** [[https://blog.tecosaur.com/tmio/2021-07-31-citations.html#working-with-zotero][Working with Zotero, July 2021]]
*********** citar can use zotero bibtex styles

They're [[https://www.zotero.org/support/zotero_data][in]] ~\Zotero\styles.  To use them, add this to citar use-package():


(setq org-cite-csl-styles-dir "~/Zotero/styles")

********* cross-references (to figures, etc.) with citar
          From: [[https://github.com/bdarcus/oxr][GitHub - bdarcus/oxr]]

********* <<opening the pdfs of the refs of an org-roam node>>

I don't quite understand what a "ref" is here, but this seems useful:

[[https://github.com/bdarcus/citar/issues/531#issuecomment-1013692752][bdarcus/citar#531 Access PDF from org-roam note]]

********* opening pdfs and notes in citar using emark
          From: [[https://github.com/bdarcus/citar/discussions/564#discussioncomment-2456592][Workflow question: acting on bibtex entries #564]]

          does citar-open, which is the pdf?
          and citar-open-notes (so an org-roam literature note?)

********* mixing org-ref and org-cite references
          From: [[https://github.com/bdarcus/citar/wiki/major-mode-functions#using-a-different-citation-insert-function][major mode functions · bdarcus/citar Wiki · GitHub]]
********* [[JethroK's org-roam capture templates for citar]]
******* converting org-ref links to new org-cite links
********* [[https://tecosaur.github.io/emacs-config/config.html#citation,code--4]["Attempt to convert org-ref citations to org-cite syntax."]]
******* [[https://org-roam.discourse.group/t/what-do-you-think-about-org-ref-v3/2133/16][What do you think about org-ref V3? - #16 by mshevchuk]]
******* [[JethroK uses Zotero and org-cite links]]
***** <<org-ref>>
******* [[https://github.com/jkitchin/org-ref/commits/master]["release notes"]]
******* TODO better install
********* works best with latexmk (customization in my =.emacs=)
********* latexmk works best in TexLive, not MikTex, to install TexLive
********* TODO give it a valid path to common .bib file in .emacs or customizations
*********** TODO seems that you can't give paths to .bib file inside of org file.  Really?
*********** TODO how make it the same path to energy.bib on work and home computers?
******* Howto: [[http://kitchingroup.cheme.cmu.edu/blog/2015/12/11/Introduction-to-a-citation-processor-in-org-ref/][Introduction to a citation processor in org-ref]]
******* bibtex vs. biblatex
******* some problem?
********* jabRef has done this bib-->biblatex conversion: article->journal --> article-->journaltitle
********* lyx works fine with journaltitle, in fact it doesn't work unless you give it a path to biblatex
********* but org-ref calls bibtex and this fails because it can't find "journal"

          Can see this by running latex on the tex output file and then running bibtex.  Also, if I change journaltitle to journal, then org-ref works fine.

********* org-ref was written with bibtex in mind but there's supposed to be a [[http://kitchingroup.cheme.cmu.edu/blog/2014/05/13/Using-org-ref-for-citations-and-references/#sec-2][way to customize it for biblatex]].
******* <<How to make the org-ref latex compile: install TexLive>>

        The solution for org-ref was to [[https://github.com/jkitchin/org-ref/issues/346#issuecomment-262874374][use latexmk]].  However, MikTex latexmk kept crashing on both home and work computers.  Since org-ref people were successfully using TexLive, I installed that instead (it can work with [[Lyx]], which is what it was using, but see the [[Lyx Tweaks for TexLive]]

        _IWES TexLive Problem_: The proxy was a problem, even if I disabled it in Chrome and deleted by http_proxy env var.  And I was unable to customize the TexLive environment to use a proxy because it insists upon using a URL proxy and IWES has only a numerical IP address.


        _IWES TexLive Solution_: Disable the proxy stuff in Chrome, delete
        http_proxy (not sure if necess.) & then hook up with the IWES guest Wifi.  Finally, I was able to do a normal TexLive internet install. 

        *I also had to add the path to the TexLive latexmk binary*)
        (in 2022 on my Surface Laptop Studio, this should have been: c:\texlive\2022\bin\win32\latexmk.exe
        but latexmk wasn't installed by the choco texlive package.  To install latexmk, I ran the Tex Live Manager and installed the latexmk and latexmk.win32 tex packages)

        Note also that, in .emacs, I had to modify the advice from
        https://github.com/jkitchin/org-ref/issues/346#issuecomment-262874374
        (which I mention there).

        As before, everything works starting from the leftover .tex file, for example, this makes a valid pdf:  latexmk -f -pdf tmp


********* why _latex bibtex latex latex_ works on org-ref leftover .tex file

          Reasoning from [[http://tex.stackexchange.com/questions/8332/undefined-citation-warnings][here]]:

          Getting citations and references right always requires multiple runs of latex. The normal procedure is the following

          latex <file>
          bibtex <file>
          latex <file>
          "unlatex <file>

          The _first compile_ finds all the cite commands and makes a list of them in the _.aux file_, and takes note of the bibliography style. No citations are resolved in your document yet.

          Then _bibtex_ processes the aux file and using the bibliography style, and the list of citations creates a _.bbl file_ which contains the bibliography. No citations are resolved yet here either.

          The _next latex_ compile doesn't resolve the references either, but reads the .bbl file and _keeps track of the citations_.

          Finally the _last latex_ compile _resolves all the references_.

          The warnings you receive are normal, and should really only be paid attention to after the last latex compilation in the steps above.

          There are various scripts that automate some of these procedures so that you don't forget to do the multiple latex runs; one is latexmk and another is rubber.

          Many text editors have access to these in some simple way, so before thinking about installing them you should find out if your editor already has a way to use them.

******* how another guy got org_ref [[https://github.com/jkitchin/org-ref/issues/165][to find the citations]] (see kitchin's linked-to setup)
******* [[better org-links from dired]]
******* also [[how to do interesting stuff in org-mode/org-ref]]
******* [[org-mode native citaton support]] (not ready yet in May 2020)
******* [[org-roam workflow with Zotero, org-ref, org-noter, deft]]
******* [[Zotero + org-ref]]
******* [[citar and zotero]]
******* [[org-mode native citaton support]] (possibly w/ new built-in [[org-ref]] mode)
***** [[https://www.gnu.org/software/emacs/manual/html_node/org/Previewing-LaTeX-fragments.html][Previewing LaTeX fragments]]
      Can do it with commands in org text:

      #+`STARTUP: latexpreview`  # backticks to mess up syntax, don't let it run here
      #+`STARTUP: nolatexpreview`

      or with the keyboard

      C-c C-x C-l  (preview on)
      C-c C-c      (preview off)

***** [[https://www.emacswiki.org/emacs/LaTeXMathPreview][LaTeX Math Preview]] (not just org mode)
******* asks for filename every time, unlike on the web page
******* note that latex escaping, like in org mode, isn't needed
***** <<clipping web pages with org-mode>>
******* <<org-capture>>
********* Tutorial Video: [[https://www.youtube.com/watch?v=qCdScs4YO8k][Emacs: Introduction to ORG-CAPTURE]]
******* [[org-roam capture from browser]]
******* <<orca>>
        From: [[https://github.com/abo-abo/orca][GitHub - abo-abo/orca: ORg CApture]]

********* capture web pages into emacs org-mode.
********* Sorts capture destination by URL
********* is use in [[org-roam]] example by [[org-roam workflow with Zotero, org-ref, org-noter, deft]]
******* grasp
        From: [[https://github.com/karlicoss/grasp][GitHub - karlicoss/grasp: A reliable org-capture browser extension for Chrome...]]

********* Chrome/Firefox extension that captures your web page highlights to a default .org file
********* said to be more reliable than standard [[org-capture]]
********* looks like it has to run a Linux daemon, though

******* [[https://addons.mozilla.org/en-US/firefox/addon/org-web-capture/][Org Web Capture – Get this Extension for Firefox (en-US)]]
******* [[https://seds.nl/notes/orgmode-firefox-bookmark/][Org-mode Firefox bookmarks]]
******* also [[org-roam capture from browser]]
***** annotating videos in org-mode
******* <<org-media-note>>
********* [[https://github.com/yuchen-lea/org-media-note][org-media-note]]
********* is an updated (forked?) version of [[org-noter]]
********* last update was 5/18/22 in 7/22
********* used by [[org-noter-media]]
******* <<org-noter-media>>
********* [[https://github.com/c1-g/org-noter-media/blob/main/README.org#caveat--installation][org-noter-media]]
********* last update was 6/12/22 in 7/22
********* use [[org-media-note]]
********* straight: installation instructions

******* [[https://org-roam.discourse.group/t/annotating-youtube-videos-with-timestamp-v2/1617?u=scotto][capturing youtube links with time stamps]]: similar to logseq extension?

***** <<org-noter>>

      Opens papers in emacs, syncs your pdf annotation w/ org-mode doc.  

******* My test of org-noter: works but not sure I'll use it
********* To start, put cursor on an org-mode headline and M-x org-noter. I tried it and
********* org-noter-create-skeleton extracts existing annotations
*********** extracs what you underlined, and I think highlighted, puts it into org-mode
********* can directly enter annotations on pdf: highlights or hidden text blobs
********* I'm not clear on when those show up in org-noter buffer, though
********* Can even annotate ink lines
******* [[https://github.com/weirdNox/org-noter][org-noter GitHub]]
******* [[org-zotxt-noter]] lets you take notes on [[Zotero]] / [[zotxt]] attachment (pdf)
******* [[org-roam workflow with Zotero, org-ref, org-noter, deft]]
******* org-noter-create-skeleton gets pdf annotations
******* <<preventing an OR v2 node for each org-noter annotation>>
        From: [[https://org-roam.discourse.group/t/exlude-org-noter-insert-notes-from-being-cached-as-nodes/2017/3?u=scotto][Exlude org-noter-insert notes from being cached as nodes]]
******* [[org-noter-media]]: org-noter extended for video annotation
***** <<all bibtex entries inside of org-mode file>>
      From: [[http://cachestocaches.com/2020/3/org-mode-annotated-bibliography/][Managing my Annotated Bibliography with Emacs' Org Mode]]

******* Uses [[https://github.com/alphapapa/org-rifle][org-rifle]] to search his org-file
******* *CAUTION* energytop.org already very slow; this would make it impossible
******* *BUT*: Could be a way to use [[org-roam]] for all paper notes?

***** Org-mode and [[Zotero]]
******* [[zotxt-emacs]]: interfaces [[Zotero]] with [[https://github.com/egh/zotxt-emacs][org-mode and org-noter]]
******* [[zutilo]]: also adds links?  what's the diff?
***** /emphasizing/ a word / sentence / ... / marked region

      1. Mark region to emphasize
         a. manually, with the cursor/mouse, OR...
         b. use =expand-region=: type =C--= until have selected the word/sentence/...
      2. type =* _ / ~ ...= to add emphasis

      *Note*: requires the =wrap-region= package.

***** [[Concept map-like stuff: superlabel, dedicated targets, org-brain]]
***** [[org-mode redmine interface]]
***** Turning off/controlling plain list numbering
      From: [[http://emacs.stackexchange.com/questions/19333/how-do-i-turn-off-the-automatic-list-feature-in-org-mode][How do I turn off the automatic list feature in org-mode? - Emacs Stack Exchange]]

      *Turning off autonumbering for '.' or ')' or both*

      Customize:
      org-plain-list-ordered-item-terminator

      *Making autonumber terminator vary with list level*

      To get a list like:

               1. item one
                  1) subitem one
                     1. subsubitem one
               2. item two

                  ... make this customization

                  #+BEGIN_SRC elisp

                  ~(setq org-list-demote-modify-bullet '(("-"  . "+")~
                  ~("+"  . "*")~
                  ~("*"  . "-")~
                  ~("1."  . "1)")~
                  ~("1)"  . "1.")))~

               *Hierarchical list numbers* e.g 1., 2., 2.1, 2.2, 3., ...

               ~(setq org-plain-list-ordered-item-terminator ?\))~
               #+END_SRC               

               Then org only allows order list bullets ending with parentheses, and won't recognize "2.", "2.1", etc., as bullets.

***** org-mode redmine interfaces
******* [[https://github.com/gongo/org-redmine][org-redmine: Redmine tools using Emacs OrgMode]]
********* old, 2011 [[https://www.youtube.com/watch?v=Qhl3JRO7xp0][video]]
********* can't edit issues inside of org-mode? See [[https://github.com/gongo/org-redmine/issues/19][bug #19]]
******* [[https://github.com/kametoku/orgmine][kametoku/orgmine: Emacs minor mode for org-mode with redmine integration]]
***** <<Save org file folding state>>: [[https://github.com/dandavison/org-fold/blob/master/org-fold.el][org-fold/org-fold.el at master · dandavison/org-fold]]
***** [[Org-mode latex editing]]
***** <<Org interface to online databases, PIM's etc.>>
******* <<Orger>>: python to convert many formats to org-mode e.g roam research (read only from roam-research)

Python library to download from a [[https://beepb00p.xyz/orger.html][large number of online services]].  Is pippable, and last commit was only 15 days old in June 2022.

********* [[https://github.com/karlicoss/orger][karlicoss/orger: Tool to convert data into searchable and interactiv]]
********* tutorial: [[https://beepb00p.xyz/orger.html][Orger: plaintext reflection of your digital self | beepb00p]]
********* YouTube: [[https://www.youtube.com/watch?time_continue=30&v=ib_PDJpTh-Q&feature=emb_logo][Using Orger with Roam Research]]
********* also [[Org-mode parsers]] 
******* <<Org-mode interface to trello>>: [[https://github.com/org-trello/org-trello][org-trello]]
******* [[https://orgmode.org/worg/org-tools/index.html][Org Mode tools!]]
********* [[org-mode parsers in Python]]
***** <<Hiding/Closing org :PROPERTIES: drawer>>
******* completely hiding them
        
********* [[https://stackoverflow.com/a/17492723/2591097][Completely hide the :PROPERTIES: drawer in org-mode]]
          This overrides a built-in, and drawers remain permanently invisible.
          
          Supposedly, can add "show" properties to the headline exposure cycling
          
********* [[https://org-roam.discourse.group/t/org-roam-major-redesign/1198/34?u=scotto][always hide headline properties]]

          This didn't work for indented property drawers.  But it seems like it should have matched zero or more leading white spaces.  Huh.  Anyway, this worked, for some reason:

          "^[[:space:]]*:PROPERTIES:\n\\([[:space:]]*:.+?:*\n\\)+[[:space:]]*:END:\n"

          I also made it interactive.
          
*********** JeffBrown [[https://org-roam.discourse.group/t/org-roam-major-redesign/1198/56?u=scotto][says it works]], but wants a toggle (like I do)
*********** might be slow w/ lots of headlines, says author
******* TRY write fringe indicator for [[https://github.com/org-roam/org-roam/wiki/Hitchhiker's-Rough-Guide-to-Org-roam-V2#hiding-properties][hidden property drawers]]
******* cycle drawer visibility using builtin (doesn't work)

        This doesn't seem to change normal emacs behavior
        
        From: [[https://github.com/hlissner/doom-emacs/issues/3159][doom-emacs#3159 How do I make Org hide drawers on cycling?]]
********* in vanilla emacs

(remove-hook 'org-cycle-hook 'org-optimize-window-after-visibility-change)
(add-hook 'org-cycle-hook 'org-cycle-hide-drawers)
(remove-hook 'org-tab-first-hook #'+org-cycle-only-current-subtree-h)  
        
********* in doom emacs

  (remove-hook 'org-cycle-hook 'org-optimize-window-after-visibility-change)
  (add-hook 'org-cycle-hook 'org-cycle-hide-drawers)

  (after! evil-org
    (remove-hook 'org-tab-first-hook #'+org-cycle-only-current-subtree-h))
  
******* always starting them closed, option to toggle them off

        This is probably what I really want, but I can't find it.

******* toning down the color

******* [[http://ergoemacs.org/emacs/elisp_toggle_command.html][Elisp: How to Write a Toggle Command]]
***** Deemphasizing but not hiding :PROPERTIES: drawer
******* More subtle, grayed out :PROPERTIES: drawer color

        I customized =org-drawer= face to =snow3=.  Much better.
        
******* Lowercasing :PROPERTIES: and all the other keyword
        Uppercase is OK now, in both [[https://scripter.co/org-keywords-lower-case][org-mode]] and [[https://github.com/org-roam/org-roam/issues/768][org-roam]]

        Here's a [[https://scripter.co/org-keywords-lower-case][function]] to lower them in your org buffer

***** <<Presentation slides from org-mode>>
******* [[https://github.com/coldnew/org-ioslide][org-ioslide: Export org-mode to Google I/O HTML5 slide.]]
******* TRY [[https://github.com/sigma/org-s5][ox-s5]] export, an org-->[[https://meyerweb.com/eric/tools/s5/][s5 slides in html/pdf]] (also try [[https://github.com/cybercode/org-slides][ox-deck]])

******* emacs guy (Jamile Zamanski) [[http://cestlaz.github.io/posts/using-emacs-50-presentations/][didn't love beamer]], preferred epresent and reveal-mode

        Says org-based beamer can be pretty, based on latex, but he had a hard time figuring it out.
        
        epresent uses reveal.js, is org-based and simpler, I guess.

        Has some way of serving from github, but can do on USB stick or whatever.

******* [[http://cestlaz.github.io/posts/using-emacs-50-presentations/][Using Emacs Episode 50 - presentations | C'est la Z]]
******* I had found several before but they were lost.  Should search again
***** <<better org-links from dired>>
        From: [[https://emacs.stackexchange.com/questions/13093/get-org-link-to-insert-link-description-automatically][Get org link to insert link description automatically?]]

        Doesn't copy whole filename as is default, just the main file.  May be what's needed to get a better cite: link

***** <<org-transclusion>>
      From: [[https://github.com/nobiot/org-transclusion][nobiot/org-transclusion: (alpha) Emacs package to enable transclusio]]

      Includes chunks of one org-doc in another.  Can also transclude text and markdown files.  Looks pretty slick in [[https://www.youtube.com/watch?v=nO_JEXUeGkI&feature=youtu.be][demo video]] by the author.

      Seems like this would be esp. useful for [[org-roam]]
      
***** <<Org-mode parsers>>
******* [[http://orgmode.org/worg/dev/org-element-api.html][Org Element API]] (for org-mode elisp programming)
******* [[http://orgmode.org/worg/org-tools/][Org Mode tools!]] (parsers in many languages)
******* [[https://github.com/rasendubi/uniorg][uniorg: An accurate Org-mode parser]]
******* [[http://ergoemacs.org/emacs/elisp_parse_org_mode.html][Xah Elisp: Parse Org Mode Tutorial]]
******* [[https://github.com/ndwarshuis/org-ml][org-ml: functional org lib]]: slow IO but fast graph manip once read
******* [[https://common-lisp.net/project/cl-org-mode/][CL-ORG-MODE : A Lisp Parser of org-mode outlines]]
******* [[https://github.com/d12frosted/vulpea][vulpea: A collection of functions for note taking based o...]]
******* [[Elisp]]
******* [[https://github.com/daitangio/org-mode-parser][daitangio/org-mode-parser]]: javascript nodejs
******* [[org-mode parsers in Python]]
******* [[Orger]]
******* [[https://gitlab.com/cgenie/org-parse][CGenie / org-parse]]: org --> [[https://gitlab.com/cgenie/org-parse][S-expressions]] (readable by other lisps)
******* [[https://github.com/orgapp/orgajs][orgajs: parse org-mode content into AST]]
******* [[https://github.com/volhovm/orgstat][orgstat: Statistics visualizer for org-mode (AST-based)]]
******* <<ox-json>>: org-mode to json
        From: [[https://github.com/jlumpe/ox-json/][jlumpe/ox-json: JSON export back end for Emacs Org mode]]
********* is used by [[pyorg]]
********* may be useful to [[Split 1 org file to many org-roam notes]]
********* also [[org-to-xml]]
******* <<org-to-xml>>
        From: [[https://github.com/ndw/org-to-xml][GitHub - ndw/org-to-xml: Library to convert Emacs org-mode files to XML]]
********* may be useful to [[Split 1 org file to many org-roam notes]]
********* also [[ox-json]]
******* <<org-ql>>: query based org-searching
        From: [[https://github.com/alphapapa/org-ql][alphapapa/org-ql: An Org-mode query language, including search]]

        Could use this for searching org-mode in general (maybe even better than swiper) or for parsing org-mode for export.  Has callable libraries which may be useful to [[Split 1 org file to many org-roam notes]]
******* [[logseq's org-mode parser]]
******* [[https://kitchingroup.cheme.cmu.edu/blog/2017/01/03/Find-stuff-in-org-mode-anywhere/][Find stuff in org-mode anywhere]]
******* also [[org-mode searching]]
******* [[Org-roam APIs]]
***** org-mode graphics
******* emacs artist mode
********* [[https://www.youtube.com/watch?v=cIuX87Xo8Fc][Poor Man's UML / Emacs Artist Mode and Ditaa Demo - YouTube]]
********* [[https://www.emacswiki.org/emacs/ArtistMode#toc3][Artist Mode and Org Mode]]
******* [[Emacs PlantUML]]
******* [[Emacs Mermaid]]
***** Org-mode in non-org buffers
******* <<outshine-mode>>: I use this in my .emacs
        From: [[https://github.com/alphapapa/outshine][alphapapa/outshine: {Emacs} outline with outshine outshines outline]]

        o Allows org-mode style folding in non-org files, esp. programming modes
        o Headlines: org '***' things preceded by the languages comment symbol
        o I've configured it for org-hot keys

        _My most common commands (when configured, cursor on a headline)_

        =TAB=: cursor at file start: full outline expand/contract
        cursor on headline: normal headline cycling
        +/-  heading promote/demote
        =c/C=  outline-cycle headline or cycle-buffer
        =r/w=  narrow/widden to headline
        =?=    list all outshine keys

********* All outshine keys (similar to normal org-mode hot keys)
          (as of 5/8/2017)

          User-defined Speed commands
          ===========================

          Built-in Speed commands
          =======================

          Outline Navigation
          ------------------
          n   (outshine-speed-move-safe (quote outline-next-visible-heading))
          p   (outshine-speed-move-safe (quote outline-previous-visible-heading))
          f   (outshine-speed-move-safe (quote outline-forward-same-level))
          u   (outshine-speed-move-safe (quote outline-up-heading))
          b   (outshine-speed-move-safe (quote outline-backward-same-level))
          F   outshine-next-block
          B   outshine-previous-block
          j   outshine-navi
          J   outshine-imenu
          g   outshine-imenu

          Outline Visibility
          ------------------
          c   outline-cycle
          C   outshine-cycle-buffer
          (outshine-use-outorg (quote org-display-outline-path) (quote WHOLE-BUFFER-P))
          r   outshine-narrow-to-subtree
          w   widen

          Outline Structure Editing
          -------------------------
          U   outline-move-subtree-up
          D   outline-move-subtree-down
          +   outline-demote
          -   outline-promote
          i   outshine-insert-heading
          ^   outshine-sort-entries
          m   outline-mark-subtree
          #   outshine-toggle-comment

          Clock Commands
          --------------
          I   outshine-clock-in
          O   outshine-clock-out

          Date & Time Commands
          --------------------
          .   outshine-time-stamp
          !   outshine-time-stamp-inactive
          d   outshine-deadline
          s   outshine-schedule

          Exporting
          ---------
          x   outshine-export-dispatch

          Meta Data Editing
          -----------------
          t   outshine-todo
          ,   outshine-priority
          0   (outshine-use-outorg (lambda nil (interactive) (org-priority 32)))
          1   (outshine-use-outorg (lambda nil (interactive) (org-priority 65)))
          2   (outshine-use-outorg (lambda nil (interactive) (org-priority 66)))
          3   (outshine-use-outorg (lambda nil (interactive) (org-priority 67)))
          :   outshine-set-tags-command

          Properties and Effort
          ---------------------
          y   outshine-set-property
          Y   outshine-set-property-and-value
          e   outshine-set-effort
          E   outshine-inc-effort
          v   outshine-agenda
          <   (outshine-agenda-set-restriction-lock)
          >   (outshine-agenda-remove-restriction-lock)

          Misc
          ----
          o   outshine-open-at-point
          ?   outshine-speed-command-help

******* [[https://orgmode.org/worg/org-tutorials/org-outside-org.html][Org-mode outside Org-mode]]: many ways to do this
***** Org-mode on phones and cloud
******* <<orgzly>> (Android)
        From: [[https://github.com/orgzly/orgzly-android][orgzly/orgzly-android]]
********* [[https://github.com/orgzly/orgzly-android/issues/47][cut but no copy]] (I also submitted a [[https://github.com/orgzly/documentation/issues/10#issuecomment-346615891][bug]] but that was to [[https://github.com/orgzly/documentation][documentation]])
********* [[https://github.com/orgzly/orgzly-android/commits/master][commits are very active]], as of Nov. 23, 2017
********* also [[organice]]
******* [[Org-mode interface to trello]]
******* <<organice>>
      From: [[https://github.com/200ok-ch/organice][organice: An implementation of Org mode without the dependence on Emacs]]  

        Edit/View your desktop org files on your phone via its web browser.  The file [[https://organice.200ok.ch/][needs to be on Dropbox, Google Drive, or WebDAV]].

        I'm guessing this is more complete than [[orgzly]], but since it runs in a browser, the keyboard shortcuts, etc. can't be the same.
********* also [[orgzly]]
***** Org-mode and Python
******* <<orgbabelhelper>>: org-mode tables, dates etc.  <--> Python dataframes, dates, etc

        dfeich has many kinds of org-mode, org-babel, and other kinds of helpers [[https://github.com/dfeich][here]].

********* [[https://anaconda.org/dfeich/orgbabelhelper][orgbabelhelper python package]] 
*********** conda install currently not working

            conda install -c dfeich orgbabelhelper
            but conda can't find it

            I filed an issue with the author on GitHub

*********** package can be cloned from GitHub, [[https://github.com/dfeich/org-babel-examples][here]]
********* <<org-tables to/from pandas dataframes (orgbabelhelper)>>
          From: org-babel import/export tutorial: [[https://github.com/dfeich/org-babel-examples/blob/master/python/pythonbabel.org][dfeich/org-babel-examples]]

          I've put them in sutil.py
********* author [[https://github.com/dfeich/org-babel-examples/issues/8][says]] he's going to decommission some part of this, and put more work into [[emacs-jupyter]]
********* <<org-diagram drawing with plantuml-babel.org>>: draw [[PlantUML]] graphs using 
******* <<emacs-jupyter>> 
        [[https://github.com/dzop/emacs-jupyter][dzop/emacs-jupyter: An interface to communicate with Jupyter kernels]]

        Somehow talks to Jupyter through org-mode.  Is what the author of [[orgbabelhelper]] says he's going to work on instead of [[orgbabelhelper]].
        
******* [[Orger]] python interface to org-mode, external APIs
******* <<org-mode parsers in Python>>

        I pip'ed orgparse into stdso environment
        
********* pyorg
          From: [[https://github.com/jlumpe/pyorg][jlumpe/pyorg]]

          Python communicates w/ emacs client using [[https://github.com/jlumpe/python-emacs][python-emacs]] library; pyorg works specifically w/ org-files.  Install is a bit complcated.
          
*********** deeper parse than orgparse e.g. undestands links
*********** must also install a pyorg.el package in emacs to get server interaction, which needs [[ox-json]]
*********** also requires [[https://github.com/jlumpe/python-emacs][python-emacs]] python package (not autoinstalled by pip)
*********** [[https://github.com/jlumpe/pyorg/issues/4][my bug report]]
********* [[https://github.com/karlicoss/orgparse][orgparse: Python module for reading Emacs org-mode files]]

          [[https://github.com/karlicoss/orgparse][orgparse]] had 3 month only commits in June 2022, is
          pipable.  Was recommended by the author of [[https://github.com/bjonnh/PyOrgMode][PyOrgMode]] instead
          of his own package.

          But doesn't parse links, targets other things...

********* [[https://github.com/nasa9084/py-org][py-org: The Org-mode Parser for Python]] (last commit was nearly 3 years old in Oct 2020)
********* a couple fairly python funcs in here [[http://orgmode.org/worg/org-tools/][Org Mode tools!]]
********* [[http://members.optusnet.com.au/~charles57/GTD/orgnode.html][Orgnode - reading org-mode in Python]]: cmdlline tool from 2010
*********** [[https://github.com/rdmnk/Orgnode][rdmnk/Orgnode: Org-mode parser using python]] (easier to install)
********* [[Orger]]: more of an X to org-mode importer?
********* [[Org interface to online databases, PIM's etc.]]
******* [[https://pandoc.org/org.html][Pandoc - Org-mode features and differences]]
***** <<org-mode on iPad>>

      Programs that run org-mode on iPad.  Net opinion seems to be that running emacs itself on an ipad is nearly impossible.
      
******* [[https://beorgapp.com/][beorg - Task management for iPhone and iPad]]
******* [[https://apps.apple.com/us/app/mobileorg/id634225528][‎MobileOrg on the App Store]]
******* [[https://irreal.org/blog/?p=8407][Organice | Irreal]] (browser based?)
***** Org-mode news, manuals, documentation
******* [[https://orgmode.org/][Org mode for Emacs]]
******* [[https://orgmode.org/manual/][The Org Manual]]
******* [[https://blog.tecosaur.com/tmio/][This Month in Org]]
******* [[https://git.savannah.gnu.org/cgit/emacs/org-mode.git/tree/etc/ORG-NEWS][ORG-NEWS\etc - emacs/org-mode.git - Emacs Org mode]]
******* [[http://kitchingroup.cheme.cmu.edu/blog/archive/][KitchinGroup Blog]]: <<how to do interesting stuff in org-mode/org-ref>>
********* [[http://kitchingroup.cheme.cmu.edu/blog/2016/11/04/New-link-features-in-org-9/][New link features in org 9]]
        - store-my-headline :: a headline line that could replace those crappy dedicated-targets!
********* [[http://kitchingroup.cheme.cmu.edu/blog/2016/11/07/Better-equation-numbering-in-LaTeX-fragments-in-org-mode/][Better equation numbering in LaTeX fragments in org-mode]]
********* [[http://kitchingroup.cheme.cmu.edu/blog/2016/11/06/Justifying-LaTeX-preview-fragments-in-org-mode/][Justifying LaTeX preview fragments in org-mode]] with tooltips to see code
********* [[http://kitchingroup.cheme.cmu.edu/blog/2015/10/09/Automatic-latex-image-toggling-when-cursor-is-on-a-fragment/][Automatic latex image toggling when cursor is on a fragment]] (with video, but broken)

        It's been broken as of org-mode 8.3, or so.  Se James Wong post [[http://kitchingroup.cheme.cmu.edu/blog/2015/10/09/Automatic-latex-image-toggling-when-cursor-is-on-a-fragment/][here]].
********* [[http://kitchingroup.cheme.cmu.edu/blog/2016/11/10/Persistent-highlighting-in-Emacs/][Persistent highlighting in Emacs]] (not a top priority)
********* [[http://kitchingroup.cheme.cmu.edu/blog/2016/11/08/New-color-link-in-org-9-0-using-font-lock-to-color-the-text/][New color link in org 9.0 using font-lock to color the text]] (not a top priority)
********* [[http://kitchingroup.cheme.cmu.edu/blog/2016/06/16/Copy-formatted-org-mode-text-from-Emacs-to-other-applications/][Copy formatted org-mode text from Emacs to other applications]] (Mac only for now)
********* also [[org-ref]]
******* [[http://ieeexplore.ieee.org/search/searchresult.jsp?reload=true&newsearch=true&queryText=Org-mode&x=0&y=0][IEEE papers about org-mode]]
***** [[https://github.com/elxbarbosa/novels.org][novels.org: Novels.org - Your Novels in Plain Text (Emacs]]
***** also [[obsidian and emacs]]
***** also [[org-brain]]
***** also [[org-roam]]
*** <<org-roam>>
    org-mode based Zettelkasten, inspired by [[Roam Research]]

***** org-roam V2 
******* repo branch: [[https://github.com/org-roam/org-roam/tree/v2][GitHub - org-roam/org-roam at v2]]
******* bugs
********* doesn't work: :custom (org-id-method 'ts) ;; use timestamps for org-id
******* feature requests
********* something that changes string in references to headline nodes when original headline text changes
********* search for nodes by date ([[https://org-roam.discourse.group/t/org-roam-major-redesign/1198/85?u=scotto][has been requested]]: done?)
******* to try / questions
********* TRY org-roam-bibtex
*********** [[https://github.com/org-roam/org-roam-bibtex/blob/v0.6.0-pre.1/doc/orb-manual.org][updated ORB manual]]
*********** [[https://org-roam.discourse.group/t/org-roam-bibtex-for-org-roam-v2/1574][Org-roam-bibtex for Org-Roam v2 - Development - Org-roam]]
*********** seems standard [[https://github.com/org-roam/org-roam-bibtex#important-news][org-roam-bibtex will be v2 compatible on July 3]]?  What about org-roam itself?
*********** what to [[https://org-roam.discourse.group/t/org-roam-bibtex-for-org-roam-v2/1574/9?u=scotto][remove org-roam-hook]] since OR isn't a mode anymore
********* TRY navigating nodes by graph
********* TRY the OR variables [[https://github.com/jethrokuan/dots/blob/6149a2378806656a5a195e3873f81c2c1456f650/.doom.d/config.el#L323-L329][here]], also the capture templates below it
*********** a [[https://org-roam.discourse.group/t/org-roam-major-redesign/1198/107?u=scotto][terse hint]] of what sections are
*********** a ton of [[https://codeberg.org/jeyj0/dotfiles/src/branch/main/.config/home-manager/parts/emacs/emacs.el#L209][OR V2 capture templates]] from this [[https://org-roam.discourse.group/t/org-roam-major-redesign/1198/226?u=scotto][guy]]
*********** [[https://www.youtube.com/watch?v=CUkuyW6hr18][5 Org Roam Hacks for Better Productivity in Emacs - YouTube]]
********* TRY bug report on headline/note graph render: no heirarchy in headlines (didn't Jethro say there would be?).  Jethro [[https://org-roam.discourse.group/t/org-roam-major-redesign/1198][says]]:

            Nodes link to other nodes using ID links. Nodes also have
            an implicit hierarchical structure, from the levels in the
            Org file.

          I might want something like the tags-inheritance that's [[https://org-roam.discourse.group/t/org-roam-major-redesign/1198/211?u=scotto][supposed]] to be in V2.  But this guy [[https://org-roam.discourse.group/t/org-roam-major-redesign/1198/222?u=scotto][doesn't like]] the idea that #filetags are inherited by all headlines.
          
          _My discourse question_
          
            [[https://org-roam.discourse.group/t/org-roam-graph-with-org-roam-v2/1420/4?u=scotto][Org-roam-graph with org-roam V2 - #4 by scotto - Development - Org-roam]]

            [[Mermaid]] code I used for the example
            My MM page: [[https://mermaid-js.github.io/mermaid-live-editor/edit#eyJjb2RlIjoiZ3JhcGggVERcbiAgRjEoKEZpbGUxKSkgLS0-IEgxLjIoKGgxLjIpKVxuICBIMS4yIC0tPiBIMS4yLjIoKGgxLjIuMikpXG5cbmNsYXNzRGVmIG5vZGUgZmlsbDojZWVlLCBzdHJva2U6I2JiYlxuICBcbiAgRjIoKEZpbGUyKSkgLS0-IEgyLjEoKGgyLjEpKVxuICBIMi4xIC0tPiBIMS4yLjJcblx0XHQiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ][Online FlowChart & Diagrams Editor - Mermaid Live Editor]]

            graph TD
             F1((File1)) --> H1.2((h1.2))
             H1.2 --> H1.2.2((h1.2.2))

            classDef node fill:#eee, stroke:#bbb
  
             F2((File2)) --> H2.1((h2.1))
             H2.1 --> H1.2.2

********* TRY <<learn to use OR v2 tags>>
*********** a bit about tags [[https://org-roam.discourse.group/t/org-roam-major-redesign/1198/124?u=scotto][here]]
*********** and [[https://org-roam.discourse.group/t/org-roam-major-redesign/1198/211?u=scotto][here]]
*********** somehow, vertico or selectrum help w/ tags (from a System Crafters video)
*********** subdirs work but [[https://org-roam.discourse.group/t/org-roam-major-redesign/1198/220?u=scotto][don't become tags in V2, can show up in completions]]
*********** also [[org-roam v2 note segregation: dir/tag/filename]]
********* TRY get org-roam-completion-everywhere to work
*********** [[https://codeberg.org/jeyj0/dotfiles/src/branch/main/.config/home-manager/parts/emacs/emacs.el#L209][example .emacs]]
*********** [[https://org-roam.discourse.group/t/fuzzy-completion-at-point/1715][Fuzzy completion-at-point - Troubleshooting - Org-roam]]
********* ACCEPTED how to I know when the v2 respository is updated?
********* TRY [[https://org-roam.discourse.group/t/org-roam-major-redesign/1198/134?u=scotto][sidebar org-roam-buffer]]
********* TRY mouse click on OR link goes to link: [[https://org-roam.discourse.group/t/org-roam-major-redesign/1198/152][here]]
********* TRY [[https://org-roam.discourse.group/t/org-roam-major-redesign/1198/181?u=scotto][selectrum/embark keymappings]]
********* TRY export 
*********** [[https://org-roam.discourse.group/t/org-roam-major-redesign/1198/236?u=scotto][use org-export-with-broken-links]] and subsequent suggestions
********* ACCEPTED update property hiding function docs ([[https://org-roam.discourse.group/t/org-roam-major-redesign/1198/175?u=scotto][discourse]] and [[https://github.com/org-roam/org-roam/wiki/Hitchhiker's-Rough-Guide-to-Org-roam-V2#hiding-properties][wiki]])
********* ACCEPTED does OR and everything else work after paradox melpa update?
          Yes
********* ACCEPTED add quelpa/straight OR v2 install to wiki
********* ACCEPTED ask about need for sqlite: will sqlite3 just work now?
******* dailies/journal
********* <<dailies/journal files in separate dir>>

            These both can share a DB with the general org-roam dir
          
*********** variable [[https://www.orgroam.com/manual.html#Org_002droam-Dailies][org-roam-dailies-directory puts all dailies files]] under org-roam-directory.
*********** [[https://www.orgroam.com/manual.html#Org_002djournal][org-journal files can be put anywhere]]          
*********** <<org-dailies capture template>>
************* see [[https://org-roam.discourse.group/t/daily-task-management-with-org-agenda-and-org-roam-dailies/989/17?u=scotto][Daily task management with org-agenda and org-roam-dailies #17]]
************* [[meeting capture template]]
*********** [[https://org-roam.discourse.group/t/help-refile-to-daily-and-create-if-necessary/2602/3][Help refile to daily (and create if necessary)]]

********* [[https://org-roam.discourse.group/t/help-refile-to-daily-and-create-if-necessary/2602/2?u=scotto][move note to correct daily file]]
********* [[modification to logseq config for OR dailies compatibility]]
********* [[https://github.com/org-roam/org-roam/issues/1587][org-roam/org-roam#1587 Insert link to daily file using the date selector]]
********* [[https://org-roam.discourse.group/t/help-refile-to-daily-and-create-if-necessary/2602/2][Help refile to daily (and create if necessary) - #2 by telotortium - Requests...]]
********* [[meeting capture template]]
******* org-roam v1 to v2 migration
********* [[https://d12frosted.io/posts/2021-06-11-path-to-org-roam-v2.html][Path to org-roam v2]] (vupela, dl12frosted, lots of elisp)
******* <<org-roam v2 note segregation: dir/tag/filename>>

        _In [[Evernote]]_ I used flat tags, links and effectively, summary notes.  That seemed to work.  But [[https://org-roam.discourse.group/t/implementing-hierarchies-namespaces-in-org-roam-v2/1504/16?u=scotto][OR V2 does scan directories hierarchically]].

        Much discussion in: [[https://www.orgroam.com/manual.html#How-do-I-have-more-than-one-Org_002droam-directory_003f][How do I have more than one Org-roam directory?]]
        
********* separate by directory
*********** separate reference dir
************* use [[https://org-roam.discourse.group/t/implementing-hierarchies-namespaces-in-org-roam-v2/1504/16?u=scotto][templates to put refs in separate directory]]
************* bibtex reference notes [[https://github.com/org-roam/org-roam-bibtex/blob/master/doc/orb-manual.org#handling-long-templates][stored in dir spec'ed in capture template]]
*********** separate work from home
************ home/work symlink and selective cloud sync
             From: [[https://org-roam.discourse.group/t/way-to-exclude-personal-notes-on-my-work-computer-using-git/2209/2?u=scotto][exclude personal notes on my work computer - #2 by nobiot]]

Have sub folders personal and work, symlinked to different folders. Sync only work folder to work machines.

             Seems better/simpler than [[separate home/work DBs]].  I'd just keep the reference DB in my "share" directory; make a new one for personal stuff.
             
************ <<separate home/work DBs>> (works in V2?)
            From: [[https://org-roam.discourse.group/t/multiple-root-directories/1368/5][Multiple Root directories - #5 by edgimar - Development - Org-roam]]

          
            For each directory where you want to keep a separate org-roam.db, create a .dir-locals file, which basic org-mode can use to set up a separate DB:

            .dir-locals  contents:

            ((nil . ((eval . (progn
                     (setq-local org-roam-directory (locate-dominating-file default-directory ".dir-locals.el"))
                     (setq-local org-roam-db-location (concat org-roam-directory "org-roam.db")))))))
                   
*********** general dir filter
            [[https://org-roam.discourse.group/t/filter-org-roam-node-find-insert-using-tags-and-folders/1907/2?u=scotto][Filter org-roam-node-{find, insert} using tags and folder (bram85)]]
*********** [[dailies/journal files in separate dir]]
*********** capture template for separate dirs
            From: [[https://org-roam.discourse.group/t/how-to-customize-file-name-and-path-at-time-of-capture/1213][How to Customize File Name and Path at Time of Capture]] 
********* [[https://org-roam.discourse.group/t/how-to-make-org-roam-dailies-goto-always-go-to-default-template/2450/2?u=scotto][How to make org-roam-dailies-goto always go to default template?]]
********* separate by tagging
*********** org-roam [[https://org-roam.discourse.group/t/implementing-hierarchies-namespaces-in-org-roam-v2/1504/2?u=scotto][v2 uses org-roam tags, which can be hierarchical]]
*********** also [[learn to use OR v2 tags]]
********* separate by note filename
          using hierarchical filenames instead: [[https://org-roam.discourse.group/t/implementing-hierarchies-namespaces-in-org-roam-v2/1504][Implementing Hierarchies/Namespaces in org-roam (V2)]]
********* [[capture template sending to separate directories]]
********* [[capture template automatically tagging as draft]]
********* [[JethroK's directory-specific capture templates]]
********* [[folder as org-roam note type (JethroK)]]
********* [[capture templates]]
******* org-roam v2 searching
********* showing tags in search results, direct querying DB for tags...
          From: [[https://systemcrafters.net/live-streams/september-03-2021/][System Crafters Live! - September 3, 2021 - System Crafters]]
*********** extra info: [[https://org-roam.discourse.group/t/systemcrafters-hack-selecting-from-a-list-of-notes-with-a-specific-tag/2307/2?u=scotto][SystemCrafters Hack: Selecting from a list of notes with a specific tag - #2 ...]]
********* v2 uses [[https://org-roam.discourse.group/t/how-to-use-roam-tags-and-or-tags/190/32?u=scotto][org-roam headline tags and #+filetags for the whole file]]
********* searching using [[https://www.reddit.com/r/emacs/comments/uigz8r/how_do_people_search_their_org_roam_notes/][consult-notes or consult-org-roam]]
********* [[https://org-roam.discourse.group/t/using-consult-ripgrep-with-org-roam-for-searching-notes/1226][bms/org-roam-rg-search()]]: very nice, still a wip, so check thread end
********* searching for nodes (notes) with tags
*********** [[https://org-roam.discourse.group/t/show-nodes-of-same-tag-in-org-roam-buffer/2270/2?u=scotto][Show nodes of same tag in org-roam-buffer]]
********* [[https://org-roam.discourse.group/t/what-is-the-best-way-to-use-org-roam-node-read-with-an-arbitrary-list-of-nodes/2014/4][org-roam-node-read]] for capture accepts filter-fn [[https://github.com/org-roam/org-roam/pull/1993][to limit choices]]
********* [[https://org-roam.discourse.group/t/modify-org-roam-node-find-to-list-nodes-with-a-given-filetag/2651/2?u=scotto][Modify org-roam-node-find to list nodes with a given filetag]]
********* OR searching with consult-ripgrep
*********** [[https://org-roam.discourse.group/t/using-consult-ripgrep-with-org-roam-for-searching-notes/1226/31?u=scotto][Using consult-ripgrep with org-roam for searching notes]]
******* [[https://www.youtube.com/watch?v=CUkuyW6hr18][5 Org Roam Hacks for Better Productivity in Emacs - YouTube]]
******* controlling and limiting property drawers
********* avoid creating property drawers in the 1st place

From: [[https://org-roam.discourse.group/t/control-over-headings-turning-into-nodes/2217/2][Control over headings turning into nodes]]         

Turn this off, I think:

********* [[Hiding/Closing org :PROPERTIES: drawer]]
******* renaming OR note filename if #title changes
********* [[https://org-roam.discourse.group/t/does-renaming-title-no-longer-renames-the-filename/2018/3?u=scotto][arozbiz code]]
********* [[https://org-roam.discourse.group/t/does-renaming-title-no-longer-renames-the-filename/2018/6?u=scotto][timquelch code]]
******* [[preventing an OR v2 node for each org-noter annotation]]

See: [[https://github.com/bdarcus/citar#notes][GitHub - bdarcus/citar: Emacs package to quickly find and act on BibTeX, BibL...]]

******* tidying up org-roam rendering
********* 3 posts, starting [[https://org-roam.discourse.group/t/turn-off-the-bright-meta/2174/2?u=scotto][here]]
******* org-roam-links
********* [[https://www.orgroam.com/manual.html#Completing-within-Link-Brackets][Completing within Link Brackets]]: complete with '[' and then TAB?
********* [[https://github.com/org-roam/org-roam/blob/d93423d4e11da95bcf177b2bc3c74cb1d1acf807/extensions/org-roam-overlay.el][Org-Roam-Overlay]] somehow displays link title, [[https://org-roam.discourse.group/t/package-release-org-roam-ui/1871/38?u=scotto][according to nobiot]]
******* [[https://www.orgroam.com/manual.html#Refs][Org-roam Refs]]: either a web page URL or a bibtex citation key
******* [[opening the pdfs of the refs of an org-roam node]]
******* [[org-roam-bibtex v2]] (still needed?)
******* <<capture templates>>
********* <<capture template sending to separate directories>>
*********** See: [[https://org-roam.discourse.group/t/setting-up-org-roam-capture-to-file-org-roam-directory-subdirectories/2397/4][Setting up `org-roam-capture-` to file `org-roam-directory` subdirectories]]
*********** [[JethroK's directory-specific capture templates]]
********* [[capture template automatically tagging as draft]]
********* [[org-dailies capture template]]
********* [[JethroK's org-roam capture templates for citar]]
********* [[capture template automatically tagging as draft]]
********* <<meeting capture template>>

          Would be nice to always put a meeting into an OR dailies note, so easy to find, and easy for standups, weekly reports, etc.

          In dailies, could make it a reference to a headline in an org-roam meeting file.  Or could make it a note in a project file.  OR... could org-refile it to either place.
          
*********** Could  modify org-roam-capture-task [[https://systemcrafters.net/build-a-second-brain-in-emacs/5-org-roam-hacks/][here]] to "meeting to project"
*********** [[https://gist.github.com/nickanderson/b75240f0d19b153913475225c25a2140][Playing wiht org-roam-capture-templates]]: meeting template & others
*********** [[https://www.reddit.com/r/orgmode/comments/vhpcs1/orgcapture_template_for_events_in_org/][Org-Capture Template for Events in Org]]: meeting template & others
************* code gist: [[https://gist.github.com/anoduck/51826c4e49311c677c88649d5dd1fd0a][reddit-org_events.el · GitHub]]
******* work flow with org-roam and [[zotero]]
********* [[https://org-roam.discourse.group/t/has-anyone-migrated-away-from-zotero-mendeley-to-just-an-org-based-solution-probably-org-ref/772/2?u=scotto][nobiot's workflow diagram]]
********* [[JethroK uses Zotero and org-cite links]]
******* deleting an org-roam file and references to it
        From: [[https://org-roam.discourse.group/t/any-recommended-methodology-to-delete-an-org-roam-file/54/5][Any recommended methodology to delete an org-roam file?]]

For now, simply deleting a file won't fix references to it in notes.  But at least if you do it with dired, the OR database will be updated; if deleted outside of emacs, the DB will be updated when you run =M-x org-roam-db-build-cache=.

[[https://org-roam.discourse.group/t/any-recommended-methodology-to-delete-an-org-roam-file/54/6?u=scotto][Guy calls python]] that both deletes the note references and the file.  But this still doesn't handle references to a headline.

******* [[https://org-roam.discourse.group/t/opening-url-in-roam-refs-field/2564][Opening URL in ROAM_REFS field? - Requests - Org-roam]]
******* [[https://org-roam.discourse.group/t/query-files-modified-in-the-past-12-hours/2561][Query files modified in the past 12 hours - How To - Org-roam]]
******* OR conflicts with org-mode 
********* OR org-ids [[https://org-roam.discourse.group/t/should-org-roams-treatment-of-all-ids-as-nodes-be-opt-in/2557][clash with org-attach and org-caldav]]
********* [[https://org-roam.discourse.group/t/should-org-roams-treatment-of-all-ids-as-nodes-be-opt-in/2557][Should org-roam's treatment of all ID's as nodes be opt-in? - Development - O...]]
******* TRY How JethroK uses org-roam
          From: [[https://jethrokuan.github.io/org-roam-guide/][How I Take Notes with Org-roam]]

          TODO: read Jethro's advice
          
          Lots of general advice, including:
          
********* <<JethroK's directory-specific capture templates>>
********* <<JethroK's org-roam capture templates for citar>>

          He's got a function that makes a new OR refence note from a bib entry:

            (defun jethro/org-roam-node-from-cite ...

********* <<folder as org-roam note type (JethroK)>>
********* <<JethroK uses Zotero and org-cite links>>

********* <<capture template automatically tagging as draft>>
        From: [[https://jethrokuan.github.io/org-roam-guide/][How I Take Notes with Org-roam]]

Idea is to always start notes as draft so that you can find unfinished work later. Once you're done, you manually remove the draft tag.  I may or may not find this useful.  The code:

(defun jethro/tag-new-node-as-draft ()
  (org-roam-tag-add '("draft")))
(add-hook 'org-roam-capture-new-node-hook #'jethro/tag-new-node-as-draft)

Seems like a nice way to brainstorm a bunch of notes and then find them later Normally, I do this in org with empty headlines, but if you're making single note zettel files, they're not so easy to flip through; in this case, I can see how this would help find them.

But if you used the "node per headline" idea and brainstormed in one file, finding them later would be as easy as in org-mode.

********* [[org-roam v2 note segregation: dir/tag/filename]]
***** <<org-roam-bibtex v2>>

      Could replace ORBv2 with [[citar]]

***** <<org-roam and logseq>>
******* See my notes on this in logseg: /logseq and emacs/
******* [[https://org-roam.discourse.group/t/logseq-floss-web-outliner-compatible-with-org-roam-now/980/10?u=scotto][org-roam discourse: logseq compatibility with org-roam]]
******* logseq is compatible w/ [[org-roam]]        
******* [[https://coredumped.dev/2021/05/26/taking-org-roam-everywhere-with-logseq/][Taking org-roam everywhere with logseq]]
******* org-roam markdown format (logseq uses markdown)
********* [[https://github.com/nobiot/md-roam][nobiot/md-roam: Use Org-roam with markdown files by adding Md-roam.]]
********* [[https://www.dschapman.com/notes/794e717c-83c9-4fed-b083-7079b08b1b57][Convert Org-Roam to Markdown]]
******* [[modification to logseq config for OR dailies compatibility]]
******* [[https://discuss.logseq.com/t/logseq-org-mode-compatability/869][Logseq <> Org mode compatability - General - Logseq]]
******* <<logseq's org-mode parser>>

          [[https://github.com/logseq/mldoc][logseq/mldoc: Another Emacs Org-mode and Markdown parse.]]

********* also [[Org-mode parsers]]
******* <<import org-roam to logseq>>
********* [[https://github.com/TheLostLambda/org2seq][org2seq: Tools for migrating from org-roam v2 to Logseq]]
********* [[https://www.reddit.com/r/logseq/comments/ukjxfg/ive_written_a_python_script_which_lets_you_import/][I've written a Python script which let's you import your Org-Roam]]
******* also [[org-roam]]
******* also [[org-mode]]
******* also [[logseq]]
***** [[import org-roam to logseq]]
***** Intro, basic org-roam info
******* [[https://github.com/org-roam][org-roam/org-roam: Rudimentary Roam replica with Org-mode]]
******* example: [[https://github.com/jethrokuan/braindump][author's's braindump]]: many org files, pdfs, 
******* related tools used by org-roam author
********* <<org-roam author migrated to Doom Emacs>>
*********** [[https://blog.jethro.dev/posts/migrating_to_doom_emacs/][Migrating to Doom Emacs]] (partly b/c emacs 27 has fancier isearch)
*********** also [[Doom Emacs]]
********* <<org-roam author likes org-download for inserting images>>
*********** likes org-download: [[https://blog.jethro.dev/posts/zettelkasten_with_org/][Org-mode Workflow Part 3: Zettelkasten w/ orgmode]]
*********** [[org-download]]
********* <<org-roam author likes org-journal>>
          From: [[https://blog.jethro.dev/posts/how_to_take_smart_notes_org/][How To Take Smart Notes With Org-mode]]
******* TODO org-roam tutorials & manual
********* [[https://org-roam.github.io/org-roam/manual/][Org-roam User Manual]]: as up-to-date as info
********* [[https://org-roam.readthedocs.io/en/master/][org-roam home]]
********* [[https://blog.jethro.dev/posts/how_to_take_smart_notes_org/][How To Take Smart Notes With Org-mode]]
********* TODO <<org-roam workflow with Zotero, org-ref, org-noter, deft>>
          From: [[https://rgoswami.me/posts/org-note-workflow/][An Orgmode Note Workflow]] also discourse: [[https://org-roam.discourse.group/t/workflow-for-working-with-pdfs/103][Workflow for working with PDFs]] 
*********** web capture to org-mode: [[orca]]
*********** code doesn't work, maybe out of date)
************* prefers one org-note per paper
************* ... although he picked [[org-noter]] b/c it was better at multiple documents linked to one file
************* [[helm-bibtex]] is configured to deal with single-pdf notes 
************* TODO does search with deft, not e.g. [[deadgrep]].  Why?
************* .bib file auto-exported to [[Zotero]] seems like a temporary file.  Everything stays in Zotero
************* seems that he only gits notes, but not zotero references
************* Firefox and Chrome capture templates for web pages
************* also [[Zotero]], [[org-ref]], and [[org-noter]]
******* Comparison to similar packages
********* [[https://org-roam.readthedocs.io/en/master/comparison/][org-roam comparison with similar packages]]
********* [[BSAG moved from org-roam to Obsidian]]
********* [[Knowledge as Graphs]]
***** TODO Issues to resolve before migrating to org-roam
******* splitting energytop.org
********* do I want to migrate comment out of energytop.org
*********** also [[Split 1 org file to many org-roam notes]]
*********** DONE can I get the nice pdf-in-emacs thing in org-noter?
            Yes
*********** DONE DON'T CARE: would break current "everything in one place" that I have now in JabRef
            This is fine.  I'm resolved to move my comments to single org-roam notes now
********* also [[Split 1 org file to many org-roam notes]]
********* example of migrating from an old .tex system to org-roam
          From: [[https://www.youtube.com/watch?v=HXa5fZjbioA][An overview of how I add nodes to emacs org-roam. - YouTube]]
*********** adds uids to selected headings (and tags somehow) for graph structure
*********** cmdline python script exports one-by-one from old system to org-roam
******* splitting energy.bib
********* need a script to make a .org note file for each bibtex entry
*********** [[https://org-roam.discourse.group/t/bibtex-parser-that-preserves-whitespace/1048?u=scotto][my question]]: how to preserve comment and abstract whitespace?
********* figure out how to use [[helm-bibtex]]
*********** [[org-roam-bibtex]] seeems to be based on these
********* Is there one cite note per bibtex item?  *Probably*, maybe not for JK

*********** Seems like one note per paper is common ([[https://github.com/org-roam/org-roam/issues/474][#474]]), but that people also want to be able so selectively link to citation notes or idea notes.  This function was added in [[https://github.com/org-roam/org-roam/pull/481][#481]], but I didn't read it carefully enough to understand how it works.  It may also have wound up in org-roam-bibtex.

*********** [[org-roam workflow with Zotero, org-ref, org-noter, deft]] a full (but very buggy) is *one-note per pdf*.         
*********** [[https://www.youtube.com/watch?v=Wy9WvF5gWYg][video]]  on [[org-roam-bibtex]] demonstrates one note per bib entry.  One note per cite key looks nice b/c the back links uniquely tell you where it was cited.  Maybe nice because note backlinks and and <<backlinks from other cites notes are segregated>>.  I guess I also would like to segregate relationships between papers and relationships between notes.  Seems like notes would be more for collecting ideas, while papers might be more the raw ideas, which can be related, so that when you're writing a note (your own paper) and you make a cite, you see what other papers you should look at?.  

*********** Yet Jethro Kuan himself, in his public braindump,  has multiple bibliography cite links in many notes.  It's not clear to me that he puts individual paper notes into org-roam, since he [[https://github.com/org-roam/org-roam/pull/481#issuecomment-615174636][considers the use case in PR481 to be niche]].  Seems like a note is instead an idea, which may be supported by papers and their citations.

********* Use IEEE tags as roam_tags?

          Do I end up with way too many tags this way?

********* TODO is cite note name the bibtex key?   

          I couldn't tell what people are naming their bib item cite notes.

********* DONE
          <<how put paper abstracts into notes?>>
        
          I want search to see abstracts so I can search like I do now in energy.bib.  But if there are tons of little org notes, it won't be able to do that?

************ also [[org-roam and bibtex]]
************ also [[org-roam-bibtex]]
******* migrating Evernote org-roam
********* get info out of evernote?
********* is there a way to capture graphics and images?
********* Will this get a "what's related" feature like [[Evernote]] clipper ha
******* performance w/ large number of little files
********* headlines as link targets in [[https://org-roam.discourse.group/t/org-roam-major-redesign/1198][org-roam v2]] is supposed to be faster
********* would 5k+ little org files be slower or faster than what I have now? 
*********** it's possibly OK: [[https://org-roam.discourse.group/t/what-does-it-feel-like-to-work-with-10-000-notes-in-org-roam-benchmarking-org-roams-search-methods/227/3][what-does-it-feel-like-to-work-with-10-000-notes-in-org-roam]]
******* get info out of books?
******* [[Copying out of Kindle book]]?  
        Also, is [[Kindle]] easier/better than books, and do I want to be locked into it?
******* Do I want to start making an [[org-journal]]?
******* First thoughts now complete
********* get latex working on Windows 1st?: No
          Nah, can do later
********* .emacs --> .emacs.d (or init.el?) so comply w/ new, standard emacs setup: No
          Nah, can do later
********* can I tolerate the Drawer thing?: Yes
          Yeah, it's not so bad.
********* link target searching

          At least two problems:
*********** how search through thousands of links when trying to make one?
*********** how distinguish between paper (bibtex) links and general idea links?
********* can I install everything needed for [[org-roam on Windows]]: Yes
          Yup, I can
********* install emacs+org-roam in [[WSL]] to avoid all the windows problems: No
          Nah. I installed WSL2 and had problems (can't remember what) and there are not prominent OR users who use Windows.  Seems like Windows bugs will get worked out eventually.
*********** 1st thing would be to install wsl2, whenever that's available 
*********** can I call emacs in wsl2 from windows?  Associate files, on taskbar, etc.?
*********** could still have windows emacs for simpler workflows
********* is it going to last?: Probably
          Seems like it has a lot of excitement, many social media connections
********* install emacs 27 first, since org-roam likes it?: Yes
*********** also doesn't require imagemagic anymore.  Does that make pdf-tools easier?
***** TRY org-roam tweaks to consider
******* make dwim func for org-roam-insert and org-insert-link
        From: [[https://www.orgroam.com/manual.html#Introduction][Org-roam User Manual]], Section 9

        If you've stored a link to a headline, you need to insert it with org-store-link.  But if you're linking to an OR note, you must use org-roam-insert

        This is confusing.  Can these just do the right thing, if in org mode, and if on a headline?
        
***** <<org-roam on Windows>>
******* [[https://github.com/nobiot/Zero-to-Emacs-and-Org-roam/blob/main/40.Qol.md][Zero-to-Emacs-and-Org-roam on Windows (nobiot)]]
******* [[https://org-roam.readthedocs.io/en/master/installation/][org-roam official install instructions]] mentions Windows
******* [[https://www.reddit.com/r/emacs/comments/f97twk/using_orgroam_on_windows_10/][Using org-roam on windows 10 : emacs]] (messy)
******* must install gcc so it can compile its own copy of sqlite

        org-roam uses the emacsql package internally, and this must install and
        compile a custom native sqlite binary.  Easiest way is to install a C-compiler with choco (or msys2).  For choco, [[https://lucidmanager.org/productivity/taking-notes-with-emacs-org-mode-and-org-roam/][one guy suggests]] installing it with "choco install mingw" but I had got a huge # of emacs errors when I fired it up.

        But pacman (from windows install fo msys2) worked

          pacman -S gcc

********* sqlite3 now on all platforms: [[https://github.com/org-roam/org-roam/issues/682][org-roam/org-roam#682 Need maintainable Windows 10 install]]
******* ripgrep and find on Windows org-roam
********* 'rg' should work: [[https://github.com/org-roam/org-roam/issues/724][org-roam/org-roam#724 `rg` returns bad* paths for Windows users]]
********* 'find' gets confused w/ Windows find: [[https://github.com/org-roam/org-roam/issues/682][org-roam/org-roam#682 maintainable Windows 10 install]]
***** <<org-roam and bibtex>>
******* the org-roam mode for this: [[org-roam-bibtex]]
******* has [[https://www.youtube.com/watch?v=Wy9WvF5gWYg][bibtex interface]] to [[https://github.com/weirdNox/org-noter][org-noter]] pdf, etc. annotator (need Linux?)
******* [[all bibtex entries inside of org-mode file]] (?)
******* [[org-mode native citaton support]] (possibly w/ new built-in [[org-ref]] mode)
******* [[org-ref]] (assumed by a lot of org-roam)
******* <<org-roam-bibtex>>
        Mostly From: org-roam-bibtex [[https://www.youtube.com/watch?v=Wy9WvF5gWYg][video]]
********* Simple explanation: [[https://org-roam.discourse.group/t/request-bibtex-org-roam-bibtex-for-morons/2910][Request: bibtex / org-roam-bibtex for morons]]
********* Simple explanation: [[https://org-roam.discourse.group/t/zk-roam-refs-vs-reference-literature-notes/2914][ZK / ROAM_REFS vs reference/literature notes]]
********* reference collection seems to come from [[helm-bibtex]]
********* can create org-cite pages directly from bibtex entry
*********** templates for new cite pages e.g. "ref" or "ref + [[org-noter]]"
*********** seems to require using helm-bibtex or ivy-bibtex (don't directly visit .bib)

********* <<configuring new org-cite and org-roam-bibtex>>

          Nothing here yet.

*********** [[org-cite]]
********* Is there a way to extract notes to cite note when marks have come from Drawboard or PDF-Xchange Editor?
*********** extracting annotations from pdf
            From [[https://org-roam.discourse.group/t/does-anyone-have-a-workflow-for-associating-notes-with-a-zotero-stored-pdf/112/9?u=scotto][here]]:
************* [[org-noter]]: org-noter-create-skeleton gets pdf annotations
************* [[zotfile]]: gets pdf annotations, puts in zotero note, can mv pdf
********* <<OR cite notes + org-roam-bibtex + org-noter: Zotero not main ref DB>>
          From: org-roam-bibtex [[https://www.youtube.com/watch?v=Wy9WvF5gWYg][video]] 

          Best org-roam integration requires that reference links come
          from a .bib file.  This means that, for best OR setup,
          Zotero can't be the main reference DB.  Although it could be
          an exporter, or it can automatically export to a bibfile
          (complex, sync issues, version control?)

*********** [[org-noter]] looks very useful, so you'd like to have a .bib out of Zotero.
*********** org-roam-bibtex can modify .bib file e.g. "add pdf"
*********** <<OR cite note title is org-ref link>>: key/title: from org-roam-bibtex [[https://www.youtube.com/watch?v=Wy9WvF5gWYg][video]]
*********** cite: links required, not Zotero, b/c [[backlinks from other cites notes are segregated]]
*********** *Would Zotero autosync overwrite those ORB mods?*
********* <<OR zotero + org-noter + helm-bibtex + org-ref + orb + workflow doc>>
          From: [[https://www.ianjones.us/org-roam-bibtex][Org Roam Bibtex]]

*********** I'm not clear on how the path to pdfs, etc. are setup
*********** workflow starts w/ pdf, uses [[Zotero]] to find its .bib file?
*********** uses the bib  [[BetterBibtex]] file interface to ORB/OR

********* <<make org-roam-bibtex put bib notes in separate dir>>

          I think this is supposed to work but I can't get org-roam-bibtex to put refs in a recursive dir.  It worked for a second, then failed somehow.

*********** bib notes in <org-roam-topdir>/<bibdir>: [[https://org-roam.discourse.group/t/org-roam-bibtex-in-a-sub-directory/649][Org Roam Bibtex in a Sub Dir]]
*********** [[make org-roam scan recursive directories]]
*********** [[searching by roam_tags]]
********* [[zotero-captured web pages accessed ith org-roam-bibtex]]
********* also [[org-roam and bibtex]]
********* also [[Zotero + Org Roam]]
********* <<org-roam-bibtex ref vs. non-ref note search/link>>
         From: [[https://org-roam.discourse.group/t/filtering-by-tags-aka-do-not-show-literature-notes/357/5][Filtering by tags (aka do not show literature notes)]]

         You can search for non-ref files with:

           orb-find-non-ref-fild

         (I'm not sure how ref or not is defined, though. Is this a tag search of some kind?)

         And you can insert a link to a non-ref file with:

            orb-insert-non-ref

********* also [[Visualizing Bibliographies]]
******* [[Zotero + Org Roam]]
******* [[how put paper abstracts into notes?]]
***** <<roam_tags in org-roam>>
      So far, I can't get this to work.  And anyway [[https://org-roam.discourse.group/t/tags-and-links-and-tags-oh-my/181/11][tags are way more limited now]] (6/5/20) than JK hopes to make them in the future.

******* <<searching by roam_tags>>
********* org-roam roam_tags show up in minibuffer search
*********** new interactive functions for managing aliases and tags
            From: [[https://github.com/org-roam/org-roam/pull/1183/files][org-roam/org-roam#1183 (feat): interactive functions for managing aliases and...]]
************* must be similar to gif in [[https://github.com/org-roam/org-roam/pull/1183][original PR]]
             custom code Was first posted on OR-discourse:
             Utility funcs for [[https://d12frosted.io/posts/2020-06-10-org-roam-tags.html][roam_tags]]

************* _What is an alias?_
*********** original tag behavior (different now?)
************* [[https://org-roam.discourse.group/t/how-to-use-roam-tags-and-or-tags/190/6?u=scotto][says]] Jethro in May 2020 ([[https://org-roam.discourse.group/t/how-to-use-roam-tags-and-or-tags/190/11?u=scotto][they are roam_tags]])
************* _seems bad_: if you have a lot of tags you won't see the note title!
************* Jethro [[https://org-roam.discourse.group/t/how-to-use-roam-tags-and-or-tags/190/16?u=scotto][says]] ivy regex searches will narrow it down (true?)
********* [[org-roam-bibtex ref vs. non-ref note search/link]]
********* direct sql search for roam tags (custom code)
     From: [[https://org-roam.discourse.group/t/searching-roam-tags-or-properties-generally/753/11?u=scotto][Searching ROAM_TAGS (or properties generally)]]
                
     Is this a good alternative the newly built-in OR tag search?
********* [[https://org-roam.discourse.group/t/tags-and-links-and-tags-oh-my/181/2?u=scotto][deft helps tag search]]
********* [[directories as tags]]
********* [[org-roam-server graph can be narrowed by num-hops or org-roam roam_tags]]
********* [[delve can browses by roam_tags]]
******* Recommended org-roam tagging system
********* [[https://fortelabs.co/blog/para/][The PARA Method: A Universal System for Organizing Digital Information]]
********* [[https://org-roam.discourse.group/t/tags-and-links-and-tags-oh-my/181/4?u=scotto][suggestion]]: tags ID type of note, not content: _I don't love this_
********* [[https://org-roam.discourse.group/t/tags-and-links-and-tags-oh-my/181/11?u=scotto][suggestion]]: use links on concept pages like tags
******* [[Finding org-roam notes]]
******* <<directories as tags>>

        Directories can act like org-roam, can be used to limit search range to files in that directory.  In v1, this was built-in; in v2 you have to add some code.

        In v2, it's still possible for org-roam to search for files in recursive directories; they just don't behave as tags, out of the box.
        
********* v2: [[https://org-roam.discourse.group/t/filter-org-roam-node-find-insert-using-tags-and-folders/1907][Filter org-roam-node-{find, insert} using tags and folders]]
********* OLD v1 directory/tag behaviro
*********** Directories become some sort of tag: [[roam_tags can be built of recursive dirs]]
*********** [[https://github.com/org-roam/org-roam/pull/604#issue-416808067][directory tagging]] in org-roam
*********** [[roam_tags can be built of recursive dirs]]
******* putting title before tags in lines displayed when searching
        From: [[https://org-roam.discourse.group/t/display-roam-tags-after-title/1106][Display Roam tags after title - Requests - Org-roam]]

        As of 12/28/20, this thread had code that was almost able to this well.  Maybe it will be perfected soon.
        
***** org-roam-refile

There is a built-in org-roam-refile.

Also, [[https://org-roam.discourse.group/t/refactoring-items-out-of-a-node/1857/2?u=scotto][org-roam-extract-subtree]] [[https://org-roam.discourse.group/t/refactoring-items-out-of-a-node/1857/2?u=scotto][will]] convert current the subtree at point to a node, and extract it into a new file.  I think it also leaves a reference to the new file.

***** org-roam-dailies-insert-date

[[https://github.com/org-roam/org-roam/issues/1587#issuecomment-970405311][From the author]], I think it puts a reference to a node into the dailies file at a date you select.

***** <<Finding org-roam notes>>

      How to find your note again in a huge pile of OR notes?

      Main ideas are
      o some kind of search
********* title search (org-find-file?)
********* fuzzy search through all titles and note content

*********** [[deadgrep for org-roam]]
*********** helm-grep-do-git-grep
*********** helm-org-rifle (only on open files?)
*********** counsel-rg
*********** consult-ripgrep ([[https://org-roam.discourse.group/t/using-consult-ripgrep-with-org-roam-for-searching-notes/1226][org-roam-rg-search]], looks good)
*********** [[org-roam, deft and org-download (setup)]]
*********** DEPRECATED [[https://github.com/org-roam/company-org-roam][company-org-roam]]: completion backend for creating links to notes

            I guess company-org-roam is deprecated: [[https://org-roam.discourse.group/t/problems-with-completion/1098][Problems with Completion - Troubleshooting - Org-roam]]
          
********* linking org-notes
*********** structure notes (notes whose purpose is to link other notes)
*********** lots of direct cross linking of notes
********* autocompletion when creating a link inside a note
          From: [[https://org-roam.discourse.group/t/how-to-to-get-title-of-the-target-note-working-with-inline-autocomplete-in-org-roam/782][How to to get {{Title of the target note}} working with inline autocomplete i...]]

          Configs are shown there, is [[https://org-roam.discourse.group/t/problems-with-completion/1098][said]] to work on OR 1.2.3
          
      o looking at note graph
      o [[https://org-roam.discourse.group/t/how-to-browse-your-notes-efficiently/1001/2?u=scotto][functions connecting]] to [[org-brain]]
      o <<org-roam topic & related note discovery>> like in Evernote
********* [[org-ql]] (org search and query language)
*********** it's very easy to add [[https://github.com/alphapapa/org-ql/issues/158#issuecomment-735299197][search for dedicated targets]]
********* [[https://org-roam.discourse.group/t/how-to-browse-your-notes-efficiently/1001/3][How to browse your notes efficiently]] (org-roam discourse topic)
********* <<topic discovery and link suggestion in org-roam>>

          11/2020: people had thought about this but no firm idea had emerged.
          
*********** <<Hugo Cisneros graph and topic discovery>>
            _Very close_: [[https://hugocisneros.com/notes/][org-roam graph w/ machine-learned node size/color]]

            Hugo Cisneros published his python, lisp etc. [[https://hugocisneros.com/blog/my-org-roam-notes-workflow/][here]].  He uses [[ox-hugo]]
            
*********** <<org-similarity>>
************* [[https://github.com/soldeace/org-similarity][GitHub - org-similarity: A package to help org-mode users discover]]
************* announcement: [[https://org-roam.discourse.group/t/prototype-org-similarity-generate-a-list-of-similar-documents-org-mode/1029][org-similarity: generate a list of similar documents (Org-mode)]]
*********** <<delve>>
            From: [[https://github.com/publicimageltd/delve][delve: Delve into your org-roam zettelkasten.]]

            It somehow finds pages by "following links."  The author [[https://org-roam.discourse.group/t/prototype-org-similarity-generate-a-list-of-similar-documents-org-mode/1029/9?u=scotto][says]] that it "uses a hierarchical list paradigm to explore the notes."

************* <<delve can browses by roam_tags>>
             From: [[https://github.com/publicimageltd/delve][delve: Delve into your org-roam zettelkasten.]]

             "Opening Delve the first time, you can browse your zettelkasten by ROAM_TAG, or use one of the predefined searches. Further functionality will be added."
              
*********** [[PDF processing in Python]]: for reading papers
*********** [[https://org-roam.discourse.group/t/application-of-graph-theory-to-roam-link-network/61/8][Application of Graph Theory to Roam link network - Graphing]]
*********** [[https://org-roam.discourse.group/t/analysing-the-semantic-network/56][Analysing the semantic network - Graphing Capabilities - Org-roam]]
*********** [[https://org-roam.discourse.group/t/rfc-interactive-visualization-and-explorer-tool/87/6][{RFC} Interactive Visualization and Explorer Tool]]
*********** [[org-roam graph visualization]]
*********** NLP I could add to emacs
************* This could be added to [[org-similarity]] or [[delve]]
************* [[Python NLP libs]]
************* <<Emacs Application Framework: lib to connect python, etc. to Emacs>>
*************** [[https://github.com/emacs-eaf/emacs-application-framework][GitHub - emacs-eaf/emacs-application-framework]]
*************** Emacs Conf. Talk [[https://emacsconf.org/2021/talks/eaf/][Emacs Application Framework: A 2021 Update]]
*********** [[https://org-roam.discourse.group/t/a-demo-of-ai-for-linking-writing-and-thinking-with-org-roam-should-we-build-org-roam-ai/2891][Demo of AI for linking, writing, and thinking with org-roam.]]
*********** also [[https://www.youtube.com/watch?v=4oUrm4CnIjo][ChatGPT in Emacs]]: writes elisp!
************* repo and install inst: [[https://github.com/joshcho/ChatGPT.el][ChatGPT.el: ChatGPT in Emacs]]
*********** also [[Knowledge Graphs in Emacs]]
********* [[Visualizing Bibliographies]]
******* [[How to take Notes]]
******* [[roam_tags in org-roam]]
******* org-roam ivy highlighting
********* [[https://org-roam.discourse.group/t/match-highlighting-with-ivy/1933?u=scotto][Match highlighting with Ivy - How To - Org-roam]]
***** multiple org-roam directories
      See: [[https://org-roam.readthedocs.io/en/master/configuration/][org-roam >> Having More Than One Org-roam Directory]]
******* [[folder as org-roam note type (JethroK)]]
***** <<org-roam graph visualization>>
******* [[https://org-roam.discourse.group/t/application-of-graph-theory-to-roam-link-network/61][Application of Graph Theory to Roam link network]]
******* [[https://org-roam.discourse.group/t/edge-direction-in-graph/923/6][Edge direction in graph - How To - Org-roam]]
******* make graph nodes clickable: [[https://org-roam.discourse.group/t/zero-to-emacs-and-org-roam-a-step-by-step-guide-on-windows-10/400/70?u=scotto][nobiot post]] 
******* [[org-roam, compendium-style interactive graph, org-journal but doom/mac]]
******* [[org-roam topic & related note discovery]]
******* requires [[graphviz]] be installed
******* _fix_: "Format: "svg" not recognized. Use one of" in OR graph
        I got this msg when I ran org-roam-graph.  The problem apparently was caused by updating the graphviz binary via choco.

        After running [[https://stackoverflow.com/questions/62769161/error-format-svg-not-recognized-use-one-of][this fix command]] in windows-terminal:

           dot -c

       then M-x org-roam-graph did display a graph in an emacs window -- and not the fancy [[org-roam-server]] display in the browser.  This message was shown:

           Not using View mode because the major mode is special

       /As of 12/10/20, I haven't been able to get the browser display working again./

******* [[org-roam-server graph can be narrowed by num-hops or org-roam roam_tags]]
***** <<org-roam capture from browser>>
******* Is this just for storing web pages?
******* JK's own [[https://github.com/org-roam/org-roam/issues/217#issuecomment-595313500][bookmarklet and capture template]]
******* [[https://org-roam.discourse.group/t/how-would-i-log-resources-like-articles-youtube-videos-etc/71/6][more on captures]] w/ code from JK @ end
******* potential [[https://org-roam.discourse.group/t/linking-to-new-notes-from-the-capture-buffer/108][bookmarklet problem]] and workaround, until OR bug is fixed.

******* [[https://seds.nl/notes/org-roam-firefox-bookmark/][Org-roam Firefox bookmark]]
******* [[zotero-captured web pages accessed ith org-roam-bibtex]]
******* also [[org-capture]]
******* also [[clipping web pages with org-mode]]
***** <<syncing org-roam across multiple machines>>

      Putting org-roam notes on OneDrive worked fine except that there were often sync conflicts in org-roam.db, the sqlite3 file generated by org-roam.

      Easiest solution was to put this outside of OneDrive so it's machine specific -- there's a customization for this file's location.  Since then, the default behavior was changed to put this file in .emacs.d, but I don't like that much b/c I frequently blow away my .emacs.d while debugging other problems.

******* Exclude org-roam.db from OneDrive synching

        Just move it above OneDrive and point customization to it.
          
******* syncing if you don't use OneDrive
********* sync org-files with [[git-sync]]
*********** exclude org-roam.db from git with .gitignore
********* chrontab reruns org-roam db rebuild after a git-sync
***** deleting an org-roam file
      See: [[https://org-roam.discourse.group/t/any-recommended-methodology-to-delete-an-org-roam-file/54/2?u=scotto][this]] and [[https://org-roam.discourse.group/t/any-recommended-methodology-to-delete-an-org-roam-file/54/4?u=scotto][this]]
***** get contents of org-roam notes linked to by this one, and other things

      To get the list of notes, you [[https://org-roam.discourse.group/t/viewing-all-the-notes-not-a-graph-of-them-linked-to-this-note/126/2?u=scotto][run some sql]] e.g. 

      (org-roam-db-query 
      [:select [from] :from links :where (= to $s1)] (expand-file-name org-roam-directory "topic.org"))

      and then you write some other code to paste them together...

***** list of notes linked to this one
      See: [[https://org-roam.discourse.group/t/viewing-all-the-notes-not-a-graph-of-them-linked-to-this-note/126/4][Viewing all the notes (not a graph of them) linked to this note?]]
***** [[https://github.com/jgru/consult-org-roam][consult-org-roam: A bunch of convenience functions: ripgrep, backlinks, completing read...]]
***** <<file and directory setups for org-roam>>
******* org-file setup w/ agenda/todo, etc. uses OR just as a wiki: [[https://org-roam.discourse.group/t/separation-of-notes/475/3?u=scotto][Separation of notes?]]
******* also [[complete org-roam setups]]
***** <<complete org-roam setups>>
******* <<org-roam-server graph can be narrowed by num-hops or org-roam roam_tags>>
        From: [[https://org-roam.discourse.group/t/an-opinionated-academics-workflow-for-using-org-roam/601/5?u=scotto][An Opinionated Academic's workflow for using Org-Roam]]
          
        Doom based, though...

******* [[https://github.com/org-roam/org-roam-bibtex][org-roam/org-roam-bibtex: Connector between Org-roam, BibTeX-completion]]
******* [[https://www.rousette.org.uk/archives/extending-org-roam/][BSAG » Extending org-roam]]
******* [[OR zotero + org-noter + helm-bibtex + org-ref + orb + workflow doc]]
******* <<org-roam, deft and org-download (setup)>>
********* From: [[https://zzamboni.org/post/my-emacs-configuration-with-commentary/][My Emacs Configuration, With Commentary]]
********* Pretty basic, no hints about bibtex, citelinks, etc.
********* *Caution*: [[https://org-roam.discourse.group/t/create-org-roam-note-using-deft-filter/477/4?u=scotto][Deft slows down @ a few hundred files]]
********* also [[org-download]]
******* <<org-roam, compendium-style interactive graph, org-journal but doom/mac>>

        Fantastic clickable, graph that zooms in on cliques like [[Compendium]] did.  Can also move the nodes with your mouse.  Works through SVG graphs fed to chrome via <<org-roam-server>>,  The setup for that part isn't explained in text but is mentioned [[https://youtu.be/gDAbpz98ooU?t=150][in the video]].

        Those fancy graphs are a nice-to-have, but maybe getting citelinks and [[org-roam-bibtex]] to work is more important.

        Unfortunately, some of this this is doom-specific

********* Config: [[https://www.ianjones.us/2020-05-05-doom-emacs][Own Your Second Brain: Set Up org-roam on Your Own Machine]]
********* Demo video: [[https://www.youtube.com/watch?v=gDAbpz98ooU&feature=youtu.be][A Tour of Org Roam]]
********* Also [[Compendium]]
******* org-roam, does same as org-roam-bibtex, but w/o org-roam-bibtex
********* [[https://github.com/tshu-w/.emacs.d/blob/master/lisp/lang-org.el#L855][config file]]
********* suspects [[https://github.com/HaoZeke/haozeke.github.io/issues/11#issuecomment-760923564][he doesn't need org-roam-bibtex]]
******* [[org-roam workflow with Zotero, org-ref, org-noter, deft]]
******* [[http://www.cesarolea.com/posts/taking-smart-notes/index.html][Free Your Brain, Free Yourself and Become a Better Professional]]
******* [[https://www.reddit.com/r/emacs/comments/hltl69/org_roam_for_academics_demo/][Org Roam for Academics Demo : emacs]]
******* also [[file and directory setups for org-roam]]
***** back/forward in org-roam file history: [[info:org-roam#Browsing History with winner-mode][use built-in winner mode]]
***** <<Split 1 org file to many org-roam notes>> (energytop.org --> org-roam)
******* my plans for energytop.org --> org-roam note conversion

        Two jobs:  outline hierarchy to notes, and dedicated targets to notes.

        notes based solely on dedicated tags
          
        notes based soley on outine conversion

        _Could do two passes_
        
        1. all dedicated tags to org-roam notes
           1. build tree of dedicated targs, hierarchy from headlines
           2. every dedicated targ is a note w/ crosslinks maintained
           3. every dedicated targ note is a summary note w/ headline of links, its own contents when there's a heirarchy not containing dtags
        2. top level headlines to org-roam notes
           1. same rule about them being a summary note when no tags underneath

******* org-mode/org-roam to org-roam note file in elisp
********* <<heading to org-roam note (manual)>>
          From: [[https://org-roam.discourse.group/t/creating-an-org-roam-note-from-an-existing-headline/978][Creating an org-roam note from an existing headline]]
*********** Improvement ideas
************* option to give own name to new org-note
************* create link to new OR note in original org file
************* handle dedicated targets in new note
*************** find them
*************** in original org note create file: links to them in new note
************* put #title OR prop @ bottom of file, along w/ other OR meta info
************* Commenters suggested improvements in [[https://org-roam.discourse.group/t/creating-an-org-roam-note-from-an-existing-headline/978][org-roam-discourse article]]
*************** copy roam-tags in orginal mother file (which eventually will be an OR file, as things get more split up
*************** 
*********** The [[https://github.com/telotortium/doom.d/blob/f0295cc510d31c813e2a61ab2fc4aad3ae531e49/org-config.el#L1250-L1271][version in the note author's emacs config vile]]
*********** also [[org-TODO to org-roam note file via elisp]]
*********** also [[all headings to individual org-roam notes]]
********* <<all headings to individual org-roam notes>>
          From: [[https://org-roam.discourse.group/t/interoperability-between-org-roam-and-regular-org/715/9?u=scotto][Interoperability between Org Roam and regular Org - #9 by holtzermann17 - How...]]
          
*********** also [[org-TODO to org-roam note file via elisp]]
*********** also [[heading to org-roam note (manual)]]
********* <<org-TODO to org-roam note file via elisp>>
          From: [[https://ag91.github.io/blog/2020/11/12/write-org-roam-notes-via-elisp/][Write org-roam notes via Elisp - Where parallels cross]]

          May be some code to borrow.

*********** also [[heading to org-roam note (manual)]]
*********** [[all headings to individual org-roam notes]]
******* [[ox-json]]
******* [[org-ql]] (query langauge and search org-mode)
******* [[Text2MindMap]]: simple outline to graph
******* [[Org-roam APIs]]
******* [[Merging org-roam notes back to single org file]]
***** <<Merging org-roam notes back to single org file>>
******* [[https://org-roam.discourse.group/t/interoperability-between-org-roam-and-regular-org/715][Interoperability between Org Roam and regular Org - How To - Org-roam]]
******* [[Split 1 org file to many org-roam notes]]
***** <<Org-roam APIs>>
******* [[Orger]]: org mode python interface to generic APIs e.g. roam research
******* org-roam interface with roam-research

        Roam research can [[https://roamresearch.freshdesk.com/support/solutions/articles/64000247585-how-to-import-your-notes-into-roam][export/import jason and markdown json]] 

********* Also: [[https://davidbieber.com/snippets/2020-04-25-roam-json-export/][roam-research json format & DB merge in python]]
********* roam-research to org-roam
*********** markdown-based [[https://github.com/fabioberger/roam-migration][fabioberger/roam-migration]] (in golang)
*********** markdown-based [[https://github.com/org-roam/org-roam/issues/411][org-roam/org-roam#411]] (links to python code, json seems unimplemented)
********* org-roam to roam-research
*********** [[ox-json]]: writes org-mode to json (written in elisp)

            I guess could be converted to [[https://davidbieber.com/snippets/2020-04-25-roam-json-export/][roam-research json format]].  Assuming that this format is the same one as roam-research reads.

************* is used by [[pyorg]]
*********** <<ox-hugo>> [[https://www.reddit.com/r/orgmode/comments/7wjmwr/orga_the_ultimate_orgmode_parser_in_javascript/du2cui3/][
            ox-hugo]] writes org-mode to markdown (but so does [[pandoac]])

            Used in [[Hugo Cisneros graph and topic discovery]]
            
********* roam-research API
*********** [[https://www.npmjs.com/package/roam-research-private-api][roam-research-private-api - npm]]
*********** [[https://github.com/shanrauf/roam-research-python][GitHub - shanrauf/roam-research-python]]
********* related
***********  [[Org interface to online databases, PIM's etc.]]
*********** [[Org-mode parsers]]
******* [[Split 1 org file to many org-roam notes]]
******* [[Org-mode parsers]]
***** <<make org-roam scan recursive directories>>
      This is so I can have a separate folder (bib-notes) for paper entries yet org-roam will find them.

******* Seems there: [[https://github.com/org-roam/org-roam/issues/736][org-roam/org-roam#736 (wrong-number-of-arguments) from org-roam--list-files-e...]]
******* <<roam_tags can be built of recursive dirs>>f
        [[help:org-roam-tag-sources]]

        So I customized it to ‘all-directories’

********* also [[make org-roam-bibtex put bib notes in separate dir]]

******* also [[roam_tags in org-roam]]
******* also [[searching by roam_tags]]
******* [[make org-roam-bibtex put bib notes in separate dir]]
***** <<gkroam>>
      [[Roam Research]] clone based on emacs [[Org Mode]]
******* also [[org-roam]]
******* also [[org-brain]] 
***** also [[vscode org-roam-like and diagramming packges]]
***** also [[org-transclusion]]
***** org-z
      From: [[https://github.com/landakram/org-z][landakram/org-z: Lightweight, Org-mode flavored zettelkasten links.]]

      A simpler version of [[org-roam]] based on large org files w/ headlines as link targets instead of separate files.  Headlines as link targets is what org-roam is moving towards, so I'm not sure if this has advantages other than not messing with the complexity of org-roam.
      
***** also [[zettledesk]]: a layer intended to be above org-roam
***** also [[org-brain]]
*** <<zettledesk>>

    A tool for organizing [[org-roam]] notes.  Might be worth checking out, since, if I ever get to using org-roam, I'll have a huge pile of notes to sift through.  This could be a way of quickly making multiple energytop.org's
    
***** [[https://github.com/Vidianos-Giannitsis/zetteldesk.el][GitHub - Vidianos-Giannitsis/zetteldesk.el: Zetteldesk.el is an emacs library...]]
*** <<org-brain>>
    Concept mapping in emacs, new project in March, 2017
***** [[https://github.com/Kungsgeten/org-brain][GitHub - Kungsgeten/org-brain: Org-mode wiki + concept-mapping]]
***** Inspired by the expensive: [[The Brain]]
***** Also: [[Knowledge as Graphs]]
*** <<Neuron Zettelkasten>>
    Home: [[https://neuron.zettel.page/][Neuron Zettelkasten]]

    A plaintext zettelkasten system with emacs and vim interfaces.  As of June 2020, is MacOS or Linux only.  Git interface seem built-in.  Not org-mode based and markup is kinda ugly.  Makes graphs somehow, though.

***** [[https://github.com/srid/neuron][GitHub neuron: Haskell meets Zettelkasten, for your plain-text delight.]]
***** [[Knowledge as Graphs]]
***** [[Knowledge Graphs in Emacs]]

*** <<Ivy/Swiper/Counsel>>
     From: [[https://www.youtube.com/watch?v=QcPenVmmQyM][Emacs: Ivy tips and tricks]]
     also seee: https://protesilaos.com/dotemacs/

****** TRY [[ivy-less completion using mostly emacs builtins]]
****** AMX: smex for ivy
******** (amx-backend 'auto)
******** can get commands with one key
******** based you your usage history
****** ivy-occur
****** ivy-rich (more info about emacs commands, AMX)
****** ivy-posframe: lists you put frame in different places
****** also [[Vertico & Co faces to match w/ Ivy & Co faces]]
****** also [[Vertico/Selectrum/Consult/Orca/Marginalia]]
*** <<Vertico/Selectrum/Consult/Orca/Marginalia>>
***** <<Vertico & Co faces to match w/ Ivy & Co faces>>
***** also [[Ivy/Swiper/Counsel]]
*** Viewing pdfs in Emacs
***** [[https://youtu.be/LFO2UbzbZhA?t=360][DocViewer works in plain emacs]] (probably Linux, though)
***** [[Viewing pdfs in Windows Emacs]]
***** <<pdf-tools>>
      
      Searching, occur (nice!) and marking up pdfs in Emacs.  

******* [[https://www.youtube.com/watch?v=LFO2UbzbZhA&feature=youtu.be&t=371][Using Emacs 44 - An Org mode and PDF-tools workflow]] (org-pdfview now gone, though)

******* org-mode links to pdf-tools: use =pdftools=: link type

Originally, org-pdview was the way to do this. e.g. [[https://youtu.be/LFO2UbzbZhA?t=673][make pdfview: links]].  But now [[https://github.com/markus1189/org-pdfview][org-pdfview package is unmaintained]], and GitHub points to pdf-tools GitHub.)

So, [[https://www.reddit.com/r/emacs/comments/clxa9p/orgpdftools_a_custom_org_link_type_for_pdftools/][now use link type pdftools:]]
******* [[pdf-tools on Windows]]
***** [[org-noter]]
*** Dired operations
***** file marking
      From [[https://www.gnu.org/software/emacs/manual/html_node/emacs/Marks-vs-Flags.html][here]]:
******* mark files w/ _names_ matching regexp: *% m regexp RET*
******* mark files which _contain_ regexp:     *% g regexp RET*
******* _unmark_ all files:                    *M-DEL*
***** rename multiple files
      From [[https://www.gnu.org/software/emacs/manual/html_node/emacs/Transforming-File-Names.html][here]]:
      1. mark files to be renamed (see also [[Dired file marking]])
      2. % R /from/ RES /to/ RET
***** file regexp
      From [[https://www.gnu.org/software/emacs/manual/html_node/efaq/Replacing-text-across-multiple-files.html][here]]:
      1. mark files to be replaced (see also [[Dired file marking]])
      2. Q /and enter from regexp and replacement string/
***** directly editing file names (wdired, reach by C-x C-q)
      From [[https://www.masteringemacs.org/article/wdired-editable-dired-buffers][here(lots of tips)]]: you can edit dired like it was a file

      C-x C-q : start when in dired
      C-c C-c : save edits to really change filenames
      C-c ESC : undo all changes

***** File copy to same dir when have a 2nd visible dired window open in a different dir

      From ivy.el:

      ivy.el (ivy-next-history-element): Use minibuffer-default for
      dired-dwim-target

      (setq dired-dwim-target t) is a nice productivity boost. Except for
      the situation when you want to copy the file to the current directory,
      and a different directory is preselected instead.

      When this happens, you can now press "~M-n~" to select the current
      directory.

***** renaming file with dired-do-rename in ivy-mode
      From: [[https://github.com/abo-abo/swiper/issues/1723][abo-abo/swiper#1723 Rename file to shorter name with ivy-mode in dired-do-ren...]]
      
      How to rename file to shorter matching name:

      =C-M-j= (ivy-immediate-done); see the following:
        https://github.com/abo-abo/swiper/wiki/FAQ#how-to-select-the-current-input-instead-of-the-current-candidate
        (ivy) Key bindings for single selection action then exit minibuffer

*** Searching/Replacing
***** <<Swiper>>
      From: [[http://pragmaticemacs.com/emacs/dont-search-swipe/][Don’t search, swipe | Pragmatic Emacs]]
******* =C-s= to search (my mapping: was =M-app= but this wouldn't repeat previous search)
******* =C-s (again)= inside of swiper to go to previous search (across all buffers)
******* =C-r= gives a list of previous searches
******* =C-g= in swiper minibuffer will pop you back farom where you started
******* =C-o= in swiper activates hydra-ivy (if install package?)

        package Documentation is poor, though.  To see what it does:

        ~M-x describe-symbol hydra-ivy/body~

        Here's [[https://oremacs.com/2015/03/26/hydra-ivy-swiper/][a better idea for an ivy hydra]]
******* =space twice= to search for literal space (doesn't work for !, though)
******* =C-u C-SPC= after swiper exit returns to previous position w/ [[Mark-ring]]
        *isearch did this too!* I didn't know.
******* =M-q= [[https://github.com/abo-abo/swiper/issues/144][does query replace]] using the swiper string (and it does...)
******* can navigate somewhere else with search
******* can edit the current buffer while searching, and swiper minibuffer stays open
******* [[https://www.youtube.com/watch?v=VvnJQpTFVDc][Video demo]]
********* (note: C-r doesn't work like he says in the video)
********* instead, it gives you a list of previous search terms
********* [[https://github.com/abo-abo/swiper/issues/412][guy complained]] but he doesn't want change it, suggested how, though
********* also supposed to do last search if hit C-s, but it does the one before that
********* Swiper (did he mean just 'ivy'? does marking, etc. in dired
          see video demo above, about 09:30
          but I think you must bind ivy everywhere?

          /But is built-in dired stuff actually just as good?/

******* [[ivy gridmode]]
***** Search for contents of marked region

      o =C-s= with a region selected, use it as the search string

      o =C-s=, =C-w=, =C-w=,... expands region of search hit.

******* Done by adding [[http://stackoverflow.com/questions/202803/searching-for-marked-selected-text-in-emacs][jrh-isearch-with-region]] to .emacs
******* I also added [[http://emacsrocks.com/e09.html][expand-region]] from melpa, mapped that to M--

***** Search for word at cursor or contents of kill buffer(from [[http://stackoverflow.com/questions/202803/searching-for-marked-selected-text-in-emacs][here]])

      Easiest is:
      C-s C-w (w/ more C-w's to expand region) also works well

      In general:
      C-s or C-r (gets into search)
      C-w (gets word following point. Can repeat to get more words)
      C-y (pastes kill buffer into search)

***** Search for "symbol" (exact) or word at point

      M-s .

      Nice b/c it parses the langauage you're in to figure out what a symbol is.  If you're pointing at a string, it expands isearches for the word at point.

***** C-s s will search for previous string (default emacs bindings) 
***** search/replace German (and other chars)

      To u and o match German ü and ö, customize:

      search-default-mode  (Char-Fold Search)
      replace-char-fold    (on)

      My Emacs Stack Exchanage [[https://emacs.stackexchange.com/questions/32321/char-fold-search-match-for-german-eszett-%25C3%259F][question]] about ß

***** =M-%= search string comes from region, like =C-s= does
      Package [[https://www.emacswiki.org/emacs/replace-from-region.el][replace-from-region.el]] works well so I'm using it now (April 2007)

      =M-%=: do query replace.  If region marked, use it to search, else standard
      =M-p, M-p=: go through past replace strings.  You can edit them.
      =arrowKeys=: act like  =M-p, M-p
      =M-n=: gets replacements from isearch, like ‘C-s C-s M-%’

      Emacs builtin, =query-replace=, originally bound to =M-%,= has many prefixes, which still work.

***** <<Substitute package>>

      Does whole buffer w/o you needing to jump to front or select a region.  I think it also [[Replace within region or defun]], etc.

      Emacs guy likes it in 2023: [[https://youtu.be/UtSu3ydxKJ4?t=602][Some new Emacs packages I tried]]

***** <<Replace within region or defun>>

      Handy for changing a string everywhere in a buffer at once, for example, changing a varible (which could be matched by string searc or by =M-s .=)

      _Two ways to do this_

******* <<iedit>> interactive replace of string/symbol in region/defun & more
        (also see [[Rectangle editing]] and [[smartscan]])

        _Simultaneously replace through whole buffer_
        (once you are in iedit mode...)

        1. put cursor on symbol you want to edit (or mark some text)
        2. =C-;=
        3. type the replacement: all matches will be edited
        4. =C-g= or  =C-;= to exit

        _Replace within a narrowed region_

        1. select narrowed region
           a. select with mouse, or...
           b. select with expand-region. My binding: =C--=
        2. =C-;=
        3. type the replacement

        _Replace within a defun_ (options)

        1.) =C-0 C-;= matches [[help:iedit-mode][only within current function]].
        In org-mode, this limits matching to current list, etc.

        2.) [[https://www.masteringemacs.org/article/iedit-interactive-multi-occurrence-editing-in-your-buffer][iedit-dwim]] hack, works but maybe don't want it b/c there's
        no way to do full buffer. Also =C-0 C-;= is builtin ([[https://www.masteringemacs.org/article/iedit-interactive-multi-occurrence-editing-in-your-buffer][my comment]])

        *Note*: doesn't =C-;= conflict with default binding for source block editing?

        Related to [[highlight symbol]] and [[smartscan]]

******* query-replace (default binding to =M-%=, no rebound)

        after have set up search (using tricks above).  Is a built-in.

        Especially handy for replacing /exactly/ a programming symbol instead of a string.  To do this, set up marking with:

        =M-s .=

        Replace default behavior is to "search and replace within the selected region" so it's not as easy to initiate a search string with a region.  Would require some hacking.

******* [[Substitute package]]

***** Replace history

      =M-p/M-n= scroll through past history.  You can edit the strings on either side of the arrows.

      Could use this to selectively undo replacements, do different replacements, etc.

***** Replace a string with a newline

      =M-x replace-string RET ; RET C-q C-j=

      =C-q= for quoted-insert,
      =C-j= is a newline.

*** UNDO: =C-/= and REDO: =C-g C-/ C-/ ...= and TREES
    From: [[http://stackoverflow.com/questions/3527142/how-do-you-redo-changes-after-undo-with-emacs][How do you 'redo' changes after 'undo' with Emacs?]]

    To undo once: C-/
    To undo twice: C-/ C-/
    To redo once, immediately after undoing: C-g C-/
    To redo twice, immediately after undoing: C-g C-/ C-/.
    Note that C-g is not repeated.
    To undo immediately again, once: C-g C-/
    To undo immediately again, twice: C-g C-/ C-/
    To redo again, the same…

    The =undo-tree= package is supposed (I thought) to add =C-?= and also a bunch of fancy tree stuff that I haven't figured out yet.

*** Yanking

    =C-y= yanks last kill (standard)
    =M-y= cycles back through yank ring after have done 1st yank (standard)
    /I've supplemented this binding with/ =counsel-yank-pop= (below)

***** =M-y= (my mapping) [[http://pragmaticemacs.com/emacs/counsel-yank-pop-with-a-tweak/][counsel-yank-pop with a tweak]]
******* don't need to type =C-y= first
******* M-y, just like in the old days, but..
******* can cycle both ways w/ =C-n=, =C-p=
******* can type partial strings to find things in string
******* can't paste into swiper like you can paste kill in into isearch
***** [[https://github.com/browse-kill-ring/browse-kill-ring][Browse kill ring]] (I'm not using this, but it sounds nice too)
******* Commenters here [[http://irreal.org/blog/?p=5707][seem to prefer it to counsel]]?
******* it's a package & there's also a brows-kill-ring+ package
******* Doesn't depend upon helm or ivy
******* But, since I've already got both ivy AND helm, I'll skip it
*** Zooming

    =C-x C-+= starts zooming
    =C-x C--= starts unzooming
    =C-x C-0= sets default scaling

    *Note*: Only need to type =+ -= = after =C-x C-+= or =C-x C--=

*** <<Narrowing/Widening: narrow-or-widen-dwim>>

    This worked but since [[https://endlessparentheses.com/emacs-narrow-or-widen-dwim.html][commenters]] acted as if [[https://github.com/nflath/recursive-narrow][recursive-narrow]]
was better, I started using that instead.  See [[org-tree operations]].

    Multi-mode narrow/widener, works on org-mode for tree narrowing, programming modes and other stuff.

***** org-specific operations: [[org-tree operations]]
*** <<Emacs key binding conventions>>

    *Conclusions* 
    1) I can bind C-c <letter> to anything (it's reserved for "users")
    2) other C-c bindings (number, punctuation,...) are for modes
    3) =4 and 5= are very commonly used for other frame and window funcs
    4) Prefix command argument =C-u= is OK for commands that have two behaviors
    5) I'm not sure what to do with other prefix command arguments

***** [[https://www.gnu.org/software/emacs/manual/html_node/elisp/Key-Binding-Conventions.html][Key Binding Conventions]]
***** [[https://www.gnu.org/software/emacs/manual/html_node/elisp/Prefix-Keys.html][Standard Prefix Keys: C-x, C-x 4, ...]]
***** [[https://www.gnu.org/software/emacs/manual/html_node/elisp/Prefix-Command-Arguments.html][Prefix Command Arguments: C-u, M-e, ...]]
***** =4= means "other window"; =5= means "other frame"

      Looking at my (mostly) default emacs key bindings...
      
******* =C-x 4=: is mostly bound to things regarding windows
******* =C-x 5=: is mostly bound to things regarding frames
******* But other prefixes eg. =C-h,= are also associated with 4 and 5
        and mean other frame and other window

*** Navigation hydras: =M-<apps>=
    This is my binding.

    =helm-swiper=, mapped to =p= is a very nice occur.  In the end, I might get rid of the navigation hydra and just bind that.

*** Moving cursor to windows: =S-arrowkeys=
    (alternative to cumberson c-x 0)

    <S-arrowkeys>

    (these are windmove-* commands mapped in my .emacs)

    Note that org-mode still messes with TODOs if the cursor is on one.  I thought I had a setting that fixed that, but I guess not (April 2017).

*** Moving cursor through window/frame history with mouse

    Using mouse: use mouse-4 and mouse-5 buttons:

    _MS Sculpt_: swipe up/down
    _Logitech_:  side thumb buttons

    Requires these emacs bindings:

    ~(define-key global-map [mouse-4] 'next-multiframe-window)
    (define-key global-map [mouse-5] 'previous-multiframe-window)~

*** Moving windows around:    =C-S-arrowkeys=, =C-|=

    *C-S-arrowkeys*

    (these are buffer-move commands mapped in my .emacs)

    *C-|*

    rotates from horizontal to vertical splitting

*** Undo/Redo of window config: <<winner-mode>>
    From: [[https://www.emacswiki.org/emacs/WinnerMode][winner-mode]]:

    A window config undo/redo, doesn't save to disk but very good anyway

    C-c leftArrow/rightArrow

    Doesn't save across sessions but I'll keep it because it's so simple.

    Could also use [[ivy-push-view]]

*** <<Emacs symbols>>
    From [[help:xah-math-input]]

    For now, I'm using [[http://ergoemacs.org/emacs/xmsi-math-symbols-input.html][Emacs: Xah Math Input Mode]] (named, rather than shortcuts, and advantage?)

    1: Turn the mode on =xah-math-input-mode= or do it globally...
    2: type an ascii string
    3: hit shift-space:

    | ascii | result after shift-space |
    |-------+--------------------------|
    | =     | ≈                        |
    | =>    | ⇒                        |

    _To see other options_: =M-x xah-math-input-list-math-symbols=

    *NOTE* this said to be obsolete by elpa/melpa but it works for me

***** TRY [[http://company-mode.github.io/][company-mode for Emacs]]
      <<company-mode>>

      * is [[https://github.com/vspinu/ac-math][said]] to solve "notorious issues in auto-complete"
      * see also [[company-math]]

***** [[http://orgmode.org/worg/org-symbols.html][Big table]] with all the different ways to denote symbols in orgmode
***** <<company-math>>
      [[vspinu/company-math]]
******* superceeds [[https://github.com/vspinu/ac-math][ac-math]]
******* requires [[company-mode]], an autoreplace that might have bigger effects, so check that out first.

***** ucs-cmds and ucs-utils

      Packages: seem simpler than [[company-math]] but maybe not as capable?)

      See [[https://emacs.stackexchange.com/questions/20472/fast-unicode-symbol-insertion][fast-unicode-symbol-insertion]]
**** TRY Hydras for window movement, moving cursor to windows, other window management
    https://github.com/abo-abo/hydra/wiki/Window-Management
**** TRY <<Saving/restoring window sessions>>

    For now, I've bound ~ivy-push-view~, ~ivy-pop-view~ and ~ivy-switch-view~ (see [[ivy-push-view]]).  These push/pop store or remove window configs from a stack; switch just switches views in any order and can maintain indirect buffers (clones).  Similar to [[winner-mode]].   

    I wish ivy-push/pop-view stored views but that's not there yet.  See my comment on a the ivy site here:
    [[https://github.com/abo-abo/swiper/pull/587][  Store full window-configuration with ivy-push-view by alfaromurillo · Pull Re...]]

    Also: [[ivy-push-view]]
    
***** <<Burly>> (looks promising!)

******* [[https://github.com/alphapapa/burly.el][GitHub - alphapapa/burly.el: Access buffers and window configs via URLs]]
******* [[https://www.youtube.com/watch?v=JVFnaQVNEE0][Using Emacs 76 - Bookmarks and Burly - YouTube]]
******* [[https://github.com/alphapapa/burly.el][stores narrowed and indirect buffers]]
******* stores [[https://www.youtube.com/watch?v=JVFnaQVNEE0][configs in a bookmarks file in .emacs.d]]
***** A big list of [[https://www.emacswiki.org/emacs/SessionManagement][Emacs Session Management Packages]]
***** builtin desktop saver (workable, but indirect buffer problem)

      M-x desktop-save
      M-x desktop-read

      OR set it up to autosave and restore every time you quit and restart

******* works, mostly, but _doesn't restore org mode indirect buffers_
        just get one copy of the org file, if a there was a window with an indirect copy, it is not restored
******* out-if-the-box: only 1 session name, can't name them
******* but maybe works if use desktop save mode for "buffers not visiting a file"
        See [[https://www.gnu.org/software/emacs/manual/html_node/elisp/Desktop-Save-Mode.html][Desktop Save Mode - GNU Emacs Lisp Reference Manual]]

        (desktop-file-name file-name desktop-dirname)

******* [[https://bmag.github.io/2015/12/26/desktop.html][desktop-change-dir]] allows loading different sessions and switching

        _Just rebinding keys_:  Here's [[https://ericjmritz.wordpress.com/2013/05/28/emacs-desktops/][one guy's approach]]:

        C-c d c for desktop-clear
        C-c d d for desktop-change-dir
        C-c d s for desktop-save

        _Using a little elisp_:

        "Minimal Setup" [[https://www.emacswiki.org/emacs?action=browse;oldid=DeskTop;id=Desktop][here]] is a more elaborate idea

******* desktop+ breaks it (April, 2017), I think
        makes it write some buffer file to ~/.emacs.d
        but then fails because it's zero length
        doesn't write this file when desktop+ is installed
******* [[https://bmag.github.io/2015/12/26/desktop.html#desktop-buffer-mode-handlers][example]] of desktop-buffer-mode-handlers (would write one for indirect-bufers)
********* desktop+ does that but I don't understand the code
***** [[Save org file folding state]]
***** [[http://emacs.stackexchange.com/questions/315/using-desktop-for-basic-project-management][bookmark+ and desktop.el]] and more about similar idea
      https://www.emacswiki.org/e

      bookmark+ seems nice but it has some kind of error message.  Also, doesn't save it in a default file: you have to specify each time.

      _Indirect buffers_: from [[                                               how-to-save-a-desktop-with-narrowed-indirect-buffers][here]], it doesn't totally handle them but you can hack around this by saving a "sequence bookmark"

***** [[https://github.com/ryuslash/desktop-registry][desktop-registry]]
      I get a null string error w
      Last commit was 3 years ago
***** [[https://github.com/Bad-ptr/persp-mode.el][persp-mode.el]]: named perspe
******* does save window configs 
******* does reload files in conf
******* doesn't handle indirect buffers (my [[https://github.com/Bad-ptr/persp-mode.el/issues/93][bug report]], which was slightly followed up on)
******* somewhat maintained: infrequent commits were made in May 2019
***** <<Saving windows/frames in registers>>
******* [[https://www.gnu.org/software/emacs/manual/html_node/emacs/Configuration-Registers.html#Configuration-Registers][configuration registers]] for storing/retrieving windows config

        C-x r w X (save single fram config to register X)
        C-x r f X (save all frame configs to register X)

        C-x r j X (restore config from register X (either window or frame config)

********* saves window buffer configs but doesn't reload the buffer from file (it seems, a least if the buffers are indirect)
********* Guys says registers are better than desktop.el
          Guy [[https://www.reddit.com/r/emacs/comments/76zw8x/restore_session_on_emacs_startup/][says]] emacs desktop.el is too hard to use (emacs maintainer disagrees), and that registers are best:

          My main window config is built with registers, 5 windows in 1 frame: Ibuffer, multi-term, Gnus, contacts, and calendar. It takes less than 30 seconds upon a restart, which I don't do often. That config is saved with a simple C-x r w m (for main). So a C-x r j m will always bring me back to that config.  desktop.el can save registers to a file, according to the maintainer.

******* Storing window configs (temporarily) works: [[Registers can store lots of things]]

******* [[Registers can store lots of things]]
******* store [[https://www.emacswiki.org/emacs/WindowsAndRegisters][windows]] and [[https://www.emacswiki.org/emacs/FramesAndRegisters][frames in registers]]
******* Registers don't save org-mode folding state but see [[Save org file folding state]]
******* [[https://emacs.stackexchange.com/questions/16919/how-can-i-get-sessions-el-to-save-my-registers?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa][How can I get sessions.el to save my registers?]]
***** [[https://github.com/ffevotte/desktop-plus][desktop+]] : Broken, as of 4/11/2017

      It almost works!  Looks like last update was 2015 (in 2017)

******* Correctly save/restores org-mode indirect buffers (the only thing I've found that does)
******* But has errors after restoring anything once, even after restarting emacs several times.  It's like restoring a desktop corrupts some database permanently.
***** [[https://github.com/nex3/perspective-el][GitHub - nex3/perspective-el: Perspectives for Emacs.]]
      Somebody preferred it in comments on eyebrowse [[http://pragmaticemacs.com/emacs/easily-manage-emacs-workspaces-with-eyebrowse/][here]]. 
******* MikeZ [[https://www.youtube.com/watch?v=JVFnaQVNEE0][gave up on it]], tried [[Burly]] instead.
***** [[https://oremacs.com/2016/06/27/ivy-push-view/][Bookmark the current window layout with Ivy · (or emacs]]
      Was still broken in May 2017 (I commented): 
      [[https://github.com/abo-abo/swiper/pull/587][Store full window-configuration with ivy-push-view by alfaromurillo · Pull Re...]]

      Also: [[ivy-push-view]]

***** TRY [[ivy-push-view]] (window configs, now not saved to file.  Future?)

******* Guy [[https://github.com/abo-abo/swiper/issues/570][(CSRaghunandan) says]] that can save it with desktop.el.  Maybe that's simple? 

******* another suggestion is [[https://github.com/abo-abo/swiper/issues/1079][here]].

***** TRY winsav.el, part of [[https://github.com/jwiegley/nxhtml][nxhtml]] – Save and restore frames and window configurations.

      It's not a pkg so it's here:
      ~\lib\emacs\nxhtml-master\util\winsav.el

      M-x load-file it

      This seems to save the config but it's doesn't show up in M-x

      [[file:~/tmp/nxhtml-master/util/winsav.el::(defun%20winsav-save-configuration%20(&optional%20dirname%20release)][winsav-save-configuration (&optional dirname release)]]


*******  =winsav-restore-indirect-file-buffer= makes it sound like it does indirect buffers
***** REJECTED [[http://ergoemacs.org/emacs/emacs_save_restore_opened_files.html][desktop-save-mode]]
******* builtin for emacs version > 24.4
******* customizable
******* doesn't seem like you can name window configs, or avoid using one on startup
***** <<ivy-push-view>>
      From: [[http://oremacs.com/2016/06/27/ivy-push-view/][oremacs ivy-push-view]]
      Also: [[help:ivy-push-view]] 
      Also: [[https://github.com/abo-abo/swiper/pull/587][Store full window-configuration with ivy-push-view by alfaromurillo]]

      Can push/pop/switch views. But saving them across emacs restarts is not builtin (can be hacked, see comments).  Also restores indirect buffers (cloned views), which is rare.

      [[winner-mode]] seems better, on balance?
      - does nearly the same thing, including indirect buffer restore
      - simple arrow keys
      - also doesn't save across emacs restarts (a shared failing)
      - access is "backwards/forward," not random access as with ivy-push-view but that's OK
      - [[winner-mode]] is standalone, doesn't require turning on ivy-mode globally (does ivy-mode mess up helm or ido if it's turned on?)
      - [[winner-mode]] worked right away; ivy-push-view didn't work at the beginning, seems to work now
***** REJECTED [[https://github.com/wasamasa/eyebrowse][eyebrowse]]
      - Nice but it doesn't seem to store the sessions to a file
      - [[winner-mode]] does almost the same thing, and is adequate
***** REJECTED [[https://github.com/pashinin/workgroups2][workgroups2]]
      more or less worked but..
      1. org-mode cloned indirect buffers were restored as direct buffers
      2. different sessions are accessed by hitting a number, even though you can name them (also, the name doesn't show up in the number menu)
      3. No commits since 2014
*** <<Registers can store lots of things>>
    From: [[https://www.gnu.org/software/emacs/manual/html_node/emacs/Registers.html][Registers - GNU Emacs Manual]]
        
    - Position Registers       :: Saving positions in registers
    - Text Registers           :: Saving text in registers.
    - Rectangle Registers      :: Saving rectangles in registers.
    - Configuration Registers  :: Saving window configurations in registers.
    - Number Registers         :: Numbers in registers.
    - File Registers           :: File names in registers.
    - Keyboard Macro Registers :: Keyboard macros in registers.
    - Bookmarks                :: Bookmarks are like registers, but persistent.

*** Indenting: =C-M-\= indents region
*** <<Elisp>>
***** Evaluating Lisp
      From: [[http://ergoemacs.org/emacs/elisp_eval_lisp_code.html][How to Evaluate Emacs Lisp Code]]

      =Ctrl+Alt+x=    ~eval-defun:~	    eval the defun the cursor is in.
      =Ctrl+x Ctrl+e= ~eval-last-sexp:~ eval lisp expression to the left of cursor
      ~eval-region~:    eval selected region (not bound)
      ~eval-buffer~     whole file in current window (not bound)

      _The whole set_:
      eval-last-sexp
      eval-defun
      eval-region
      eval-buffer
      load-file
      eval-expression

***** [[help:princ][princ]]: prints an object
***** [[http://orgmode.org/worg/dev/org-element-api.html][Org Element API]]
***** [[https://www.gnu.org/software/emacs/manual/html_node/elisp/index.html#Top][GNU Emacs Lisp Reference Manual]]
***** Many string funcs: [[https://github.com/magnars/s.el][magnars/s.el: The long lost Emacs string manipulation library.]]
***** elisp hashes, etc: [[http://kitchingroup.cheme.cmu.edu/blog/2017/04/16/A-callable-plist-data-structure-for-Emacs/][A callable plist data structure for Emacs]]
***** *#'* is short-hand for =function=

      #'(lambda (x) (* x x))
      is equivalent to

      (function (lambda (x) (* x x)))

***** [[help:string=]] short alias for string-equal
***** load .el instead instead of .elc if newer set [[http://endlessparentheses.com/sweet-new-features-in-24-4.html][load-prefer-newer]]
      I have this customized to 'true'
***** [[https://emacs.stackexchange.com/questions/7148/get-all-regexp-matches-in-buffer-as-a-list][Get all regexp matches in buffer as a list]]
***** [[http://ergoemacs.org/emacs/elisp_universal_argument.html][Universal-argument]] (codes)
***** [[http://stackoverflow.com/questions/1019778/how-to-check-if-a-string-is-empty-in-emacs-lisp][test if string is empty]]
      Since in elisp, a String is an int array, you can use

      (= (length user-str) 0)
      You can also use (string=) which is usually easier to read

      (string= "" user-str)
      Equal works as well, but a bit slower:

      (equal "" user-str)

***** [[http://stackoverflow.com/questions/757564/in-emacs-lisp-how-do-i-check-if-a-variable-is-defined][test for void variable]]

      (boundp 'abracadabra)          ; Starts out void.
      => nil

      (let ((abracadabra 5))         ; Locally bind it.
      (boundp 'abracadabra))
      => t

      (boundp 'abracadabra)          ; Still globally void.
      => nil

      (setq abracadabra 5)           ; Make it globally nonvoid.
      => 5

      (boundp 'abracadabra)
      => t

***** getting file basename and path, walking up path

      ;;find conda install dir, assuming conda already installed and in path

      ;; find conda path
      (setq conda-script-dir (file-name-directory (shell-command-to-string (concat os-which-cmd " conda"))))

      ;; walk up tree
      (setq conda-home-dir (file-name-directory (directory-file-name conda-script-dir)))

      ;; I think there's a basename() for getting the executable name from the path

***** elisp debugger: 
***** porting Lisp to elisp
******* [[https://yoo2080.wordpress.com/2013/08/16/differences-between-common-lisp-and-emacs-lisp/][Differences between Common Lisp and Emacs Lisp | Yoo Box]]
******* [[https://elpa.gnu.org/packages/cl-lib.html][GNU ELPA - cl-lib]]
******* [[https://www.gnu.org/software/emacs/manual/html_node/cl/Porting-Common-Lisp.html][Common Lisp Extensions: Porting Common Lisp]]
******* [[http://irreal.org/blog/?p=2103][Common Lisp versus Emacs Lisp | Irreal]]
***** graph theory
******* Lisp
********* [[https://github.com/cicerojones/graph-and-networks/blob/master/graph-theory-and-search.lisp][graph-and-networks/graph-theory-and-search.lisp at master · cicerojones/graph...]]
******* Elisp
********* ??
***** [[https://common-lisp.net/project/cl-org-mode/][CL-ORG-MODE : A Lisp Parser of org-mode outlines]]

*** <<Using customization instead of .emacs setq>>

    Guy [[https://emacs.stackexchange.com/questions/102/advantages-of-setting-variables-with-setq-instead-of-custom-el][convincingly recommends]] using customizations instead of setq.  Also putting customizations in a separate file (I'm not sure this matters).

*** Spellchecking
***** [[https://github.com/d12frosted/flyspell-correct][d12frosted/flyspell-correct]]

      Seems nice and in Sept. 2021 had commits only a few months old.  Requires ispell/aspell/hunspell, I think.
***** [[http://www.nextpoint.se/?p=656][Emacs and Hunspell on MS Windows for Beginners]] (worked)
***** <<hunspell>>
      See [[https://hunspell.github.io/][Hunspell: About]] _and also_ [[https://linux.die.net/man/1/hunspell][hunspell(1) - Linux man page]]
      
      Windows/linux/MacOS spell checking that's compatible with emacs flyspell

      But I can't get saving to hunspell personal dictionary to work ([[https://github.com/d12frosted/flyspell-correct/issues/97][my bug report]]).  But it does work on [[aspell]].
      
******* install emacs packages
        Windows
          choco install hunspell.portable

        MacOS
          brew install hunspell

******* Install dictionaries:
        From: [[https://passingcuriosity.com/2017/emacs-hunspell-and-dictionaries/][Emacs, Hunspell, Dictionary, and You - Passing Curiosity]]
              [[https://stackoverflow.com/questions/56429761/on-macos-hunspell-cant-find-existing-aff-and-dic-files-in-library-spelling][On MacOS, hunspell can't find existing .aff and .dic files in Lib]]
              [[https://github.com/hunspell/hunspell][hunspell/hunspell: The most popular spellchecking library.]]

        mkdir ~/.hunspell
        cd ~/.hunspell
        
        wget -O en_US.dic https://cgit.freedesktop.org/libreoffice/dictionaries/plain/en/en_US.dic
        wget -O en_US.aff https://cgit.freedesktop.org/libreoffice/dictionaries/plain/en/en_US.aff
        wget -O hyph_en_US.dic https://cgit.freedesktop.org/libreoffice/dictionaries/plain/en/hyph_en_US.dic
                
        wget -O de_DE_frami.aff https://cgit.freedesktop.org/libreoffice/dictionaries/plain/de/de_DE_frami.aff        
        wget -O de_DE_frami.dic https://cgit.freedesktop.org/libreoffice/dictionaries/plain/de/de_DE_frami.dic
        wget -O hyph_de_DE.dic https://cgit.freedesktop.org/libreoffice/dictionaries/plain/de/hyph_de_DE.dic
        
******* configure .emacs for hunspell

        (setq ispell-program-name "hunspell")
        (setenv "DICPATH""~/.hunspell")

        and my .emacs file

******* <<hunspell setup for multiple languages>>
********* [[https://stackoverflow.com/questions/42159012/emacs-spell-check-on-fly-for-2-languages][Emacs. Spell check "on fly" for 2 languages - Stack Overflow]]
********* [[https://github.com/Hi-Angel/dotfiles/blob/55e1daf5266ee997e72700cf7d8b6463e2b02531/.emacs#L859-L870][dotfiles/.emacs at 55e1daf5266ee997e72700cf7d8b6463e2b02531 · Hi-Angel/dotfil...]]
******* hunspell path to personal dict

        I still can't get this to work.  My bug report: [[https://github.com/d12frosted/flyspell-correct/issues/97][d12frosted/flyspell-correct#97 Does personal dictionary save work?]]
***** <<aspell>>

      Unlike with [[hunspell]], saving to personal dictionary to works
      
******* Windows install
        From: [[https://facelessuser.github.io/pyspelling/][Basic Usage - PySpelling]]

        Use msys32:

        pacman -S aspell
        pacman -S mingw-w64-x86_64-aspell mingw-w64-x86_64-aspell-en

        *Then add this to Windows path*:

           c:/tools/msys64/mingw64/bin

        Other msys64 progs are installed in c:/tools/msys64/usr/bin.  No idea

        But they modify the default paths in their [[https://www.appveyor.com/docs/appveyor-yml/][appveyor.yml]]
        
******* Mac Install

          brew install aspell

        check dictionary (was default English, for me)

          aspell dump dicts
      
***** multiple languages
****** [[hunspell setup for multiple languages]]
***** guesslanguage package
      From: [[https://stackoverflow.com/questions/42159012/emacs-spell-check-on-fly-for-2-languages][Emacs. Spell check "on fly" for 2 languages - Stack Overflow]]

      I guess it guesses which language you're typing?  Someone online said ispell language guessing didn't work.  I don't know if he meant this one.

*** Fonts
***** inc/dec displayed font size: =C-x C-+= or =C-x C--=
***** see available fonts: M-x list-fontsets
***** fonts I found in Windows 10

      I went with ~Courier New bold~.
      o best matched Consolas size
      o is sublty distinguishable from it (too subtle?)

      Some text with ~code~ in the middle is ~this code~ font visible

      I tried:

      Courier New bold
      Lucida Consolas normal
      Inconsololata normal

******* fonts shown by M-x list-fonsets (only a subset is show by this cmd)

        -outline-Consolas-normal-normal-normal-mono-27-*-*-*-c-*-fontset-auto1
        -*-*-*-*-*-*-*-*-*-*-*-*-fontset-default
        -*-courier new-normal-r-*-*-13-*-*-*-c-*-fontset-standard
        -outline-Courier New-normal-normal-normal-mono-27-*-*-*-c-*-fontset-startup
        -outline-Consolas-normal-normal-normal-mono-27-*-*-*-c-*-fontset-auto1
        -*-*-*-*-*-*-*-*-*-*-*-*-fontset-default
        -*-courier new-normal-r-*-*-13-*-*-*-c-*-fontset-standard
        -outline-Courier New-normal-normal-normal-mono-27-*-*-*-c-*-fontset-startup
******* List of fonts in Word 2007 (should be on any windows machine)
        From: [[https://graphicdesign.stackexchange.com/questions/13148/which-fonts-have-the-same-width-for-every-character][monospace - Which fonts have the same width for every character? - Graphic De...]]

        BatangChe
        Consolas
        Courier New
        DFKai-SB
        DotunChe
        GulimChe
        GungSahChe
        KaiTi
        Lucida Console
        MingLiU
        MS Gothic
        MS MinChe
        NSimSun
        SimHei
        Simplified Arabic Fixed
        SimSun
        SimSun-ExtB

******* =Windows-key fonts= sends you to control panel where you can display them

***** utf-8 in emacs
******* Add to .emacs so eshell is in utf-8
        From [[http://stackoverflow.com/questions/6668580/how-to-get-support-for-and-the-like-in-the-emacs-shell-buffer][here]]:

        If you want to make _eshell_ always open with utf-8 support, you can do
        the following instead:

        (defadvice shell (before advice-utf-shell activate)
        (set-default-coding-systems 'utf-8))

        (ad-activate 'shell)

        or make a _special utf-8shell_ command

        (defun utf8-shell ()
        "Create Shell that supports UTF-8."
        (interactive)
        (set-default-coding-systems 'utf-8)
        (shell))

        or for _all-buffers_ in utf-8 (but somebody says this doesn't work):

        (prefer-coding-system 'utf8)

******* Temorarily make eshell or some other buffer recognize utf-8
        From [[http://stackoverflow.com/questions/6668580/how-to-get-support-for-and-the-like-in-the-emacs-shell-buffer][here]]:

        In the buffer

        C-x RET p RET    (I guess it uses utf-8 by default)
        C-x RET p utf-8

        or (from [[http://lists.gnu.org/archive/html/help-gnu-emacs/2010-01/msg00462.html][here]]):

        M-x set-buffer-process-coding-system

******* Use file header to force emacs to read a file with  a certain coding
        from [[https://www.emacswiki.org/emacs/ChangingEncodings][here]]:

        Put at top of file:

        ;;; Emacs 23 is unable to open this file properly:  -*- coding: windows-1252 -*-

        or put in .emacs

        (modify-coding-system-alist 'file "\\.txt\\'" 'windows-1252)

        In my case, though, I replaced 'windows-1252' with 'utf-8'
***** DTU linux machines
******* On SunOS, bitstream vera sans mono looks great

        - customizations in .emacs (in custom-set-faces):

        '(default ((t (:inherit nil :stipple nil :background "white" :foreground "#000000" :inverse-video nil :box nil :strike-through nil :overline nil :underline nil :slant normal :weight normal :height 98 :width normal :foundry "bitstream" :family "Bitstream Vera Sans Mono"))))

        - how it looks if do M-x describe-face default:

        Face: default (sample) (customize this face)

        Documentation:
        Basic default face.

        Defined in `faces.el'.

        Family: Bitstream Vera Sans Mono
        Foundry: bitstream
        Width: normal
        Height: 98
        Weight: normal
        Slant: normal
        Foreground: #000000
        Background: white
        Underline: nil
        Overline: nil
        Strike-through: nil
        Box: nil
        Inverse: nil
        Stipple: nil
        Font: #<font-object -bitstream-Bitstream Vera Sans Mono-normal-normal-normal-*-13-*-*-*-m-0-iso10646-1>
        Fontset: -bitstream-Bitstream Vera Sans Mono-normal-normal-normal-*-13-*-*-*-m-0-fontset-auto3
        Inherit: nil

        [back]

******* But on my build of emacs23 on hms1, I get blurry blue crap
******* If I leave it to the default, I get lucida typewriter or something
******* Also get blurry blue if I try any of the smooth fonts recommended [[http://www.emacswiki.org/emacs/GoodFonts#toc12][here]]

        just put this code:

        (dolist (font-family (font-family-list))
        (let ((str font-family))
        (insert (propertize (concat "The quick brown fox jumps over the lazy dog ("
        str ")") 'face `((:family ,font-family))))
        (newline)))

        in scratch buffer and do M-x evaluate-buffer

******* I tried to build emacs with xft (see README.so in the emacs src dir)

        but it said I needed GTK+ 2.0 or something.

******* So I stopped

******* also setting org mode heading 1 to "sans" caused probs, so I un-specified it

*** Emacs terminals
***** eshell
      not much here right now...
***** shell
      not much here right now...
***** term
      
******* emulates a real terminal
******* so can use to run e.g. top without scrolling
******* emacs ~C-x whatever~ keybinding becomes ~C-c whatever~ 
******* _switch buffers_: C-c b

*** <<Emacs color picking>>
***** [[https://julien.danjou.info/projects/emacs-packages#rainbow-mode][rainbow-mode.el]] would make it easier to sort color candidates    
***** =C-x c c=: bound to (helm-colors)
*** <<Emacs Macros>>

    _Definition_

    =C-x (=  do your stuff  =C-x =)= 
    OR =F3= do your stuff =F4=

    _Execution_

    =C-x e=
    OR  =F4=

*** Emacs builds
***** [[Windows emacs builds]]
***** <<Doom Emacs>>

This started much faster than my standard .emacs (on 5/21/20) and also opened energytop.org and howto.org much faster.  But this was the basic doom install, and I'm not sure how much faster things would be if I added my other things, like elpy and org-mode dedicated targets, to it.

******* [[https://github.com/hlissner/doom-emacs][hlissner/doom-emacs: An Emacs framework for the stubborn martian hacker]]
******* Initial doom emacs install

        external libs:
          choco install git llvm emacs ripgrep   (from [[https://www.reddit.com/r/emacs/comments/d5hbhl/doom_emacs_on_windows/][here]])
        OR
          choco install git emacs ripgrep fd llvm  (from [[https://github.com/hlissner/doom-emacs/blob/develop/docs/getting_started.org#on-windows][here]])

********* Overall Doom Emacs install instructions
*********** [[https://github.com/hlissner/doom-emacs/blob/develop/docs/getting_started.org#on-windows][doom-emacs/getting_started.org at develop · hlissner/doom-emacs]]
*********** [[https://www.reddit.com/r/emacs/comments/d5hbhl/doom_emacs_on_windows/][Doom emacs on windows : emacs]]
********* TRY [[https://emacs.stackexchange.com/questions/53319/how-to-disable-evil-mode-everywhere][disabling doom emacs evil-mode]]

        Do 1 and 2 below to simply remove Evil but _need to do more (below)_.

          1. Remove =:editor evil= from =~/.doom.d/init.el=,
          2. Run ~doom refresh~ to clean up lingering dependencies and refresh your autoloads files.

          _Extra steps I haven't done yet_

          1. You may want to assign new values to ~doom-leader-alt-key~ and ~doom-localleader-alt-key~. These are bound to =C-c= and =C-c l= by default.
          2. READ .emacs.d/modules/editor/evil/README.org:  "you must make effort to implement Emacs keybinding everywhere."

********* making doom emacs fonts readable
          From: [[https://github.com/hlissner/doom-emacs/issues/3194][hlissner/doom-emacs#3194 Unreadably tiny fonts on Windows 10]]

          In ~/.doom.d/config.el, just comment out line that says:

          (setq doom-font (font-spec :family "monospace" :size 14))

********* installing icon fonts need by Doom's [[https://github.com/domtronn/all-the-icons.el][all-the-icons]] package
*********** [[https://www.digitaltrends.com/computing/how-to-install-fonts-in-windows-10/][How to Install Fonts in Windows 10]]
*********** probably easier in Linux...
******* [[org-roam author migrated to Doom Emacs]]
******* doom uses [[https://github.com/raxod502/straight.el][straight.el]] instead of standard package.el
        Why straight.el /might/ be better
********* [[https://github.crookster.org/switching-to-straight.el-from-emacs-26-builtin-package.el/][Switching to straight.el from Emacs 26 builtin package.el | David Crook]]
********* 
******* [[https://github.com/hlissner/emacs-doom-themes/tree/screenshots#doom-Iosvkem][doom theme screenshots]]

******* [[https://www.ianjones.us/2020-05-05-doom-emacs][recommended]] Windows Install: [[https://github.com/earvingad/configfiles/blob/master/emacs/DoomEmacsWindows.org][configfiles/DoomEmacsWindows.org]]

*** <<Windows Emacs>>
***** <<Windows emacs builds>>
******* <<Mysys2 Emacs>>

        GNU [[https://www.gnu.org/software/emacs/download.html][suggests]] installing emacs from [[Msys2]]:

           pacman -S mingw-w64-x86_64-emacs

        This ends up in:

           c:/tools/msys64/mingw64/bin

        Which I should have already out in my path to get the something approaching [[Linux on Windows]].

******* TRY [[WSL]]: should I try this?
******* <<Chocolatey Emacs>> choco install  (in admin powershell)
        Using [[Chocolatey]] package manager (see [[https://chocolatey.org/packages/Emacs][here]])

        From admin powershell

        choco install emacs 

        OR

        choco upgrade emacs 

        It was installed to:

        C:\ProgramData\chocolatey\lib\Emacs\tools\emacs\bin\

        (can't see ProgramData by default in File Explorer but it will go there if you type the path into the top bar)

        Associating runemacs w/ .org files, etc.
        In Windows 10, search "default app settings" , then go to default by file type

        But it still created a new, separate emacs window, rather than putting it in existing emacs window.

********* Getting emacs 26 w/ the old emacs64 package (now obsolete).  
          Inspired by: [[https://www.reddit.com/r/emacs/comments/5xoga4/what_is_the_current_best_way_to_set_up_emacs_on/][What is the current best way to set up emacs on Windows?]] 
          On Oct. 2108, default emacs is also emacs 26
          2/01/2018: I updated emacs64  (not "emacs")
          (experimental version that I think I installed before too)
          9/16/2017: I installed it on SP4 (10/23/17, on work laptop).  

          It was installed to:

          C:\ProgramData\chocolatey\lib\emacs64\tools\emacs\bin

          (can't see ProgramData by default in File Explorer but it will go there if you type the path into the top bar)

          Installed extra packages (so would work like [[Vincent Goulet Emacs]])

          *Problems* (some of which were eventually fixed, somehow)

          o had to install extra packages that [[Vincent Goulet Emacs]]
          o had rm ~/.emacs.d/elpa and reinstall due to unidentifiable lisp probs.
          o could associate files w/ emacs but they started a new emacs window 
          Not even this worked:

          C:\Path\To\emacsclientw.exe --alternate-editor="C:\Path\To\runemacs.exe" -c

******* <<Vincent Goulet Emacs>>: Windows Emacs w/ latest R built-in 
        [[https://vigou3.github.io/emacs-modified-windows/][Emacs Modified for Windows]]

        The install site above has a good list of packages for latex/markdown/R (ess)
        
        I used this list to pick extra packages for [[Chocolatey Emacs]]

******* <<Anaconda Emacs>>

        [[https://anaconda.org/conda-forge/emacs][conda-forge emacs]] could be Windows, Linux or whatever.

******* [[https://github.com/m-parashar/emax64/releases][Releases · m-parashar/emax64 · GitHub]]
******* [[https://alpha.gnu.org/gnu/emacs/pretest/windows/emacs-27/][Gnu Emacs 27 windows alpha builds]]
***** Installing directly on Windows

      1. Run the emacs windows installer e.g. Chocolatey or Vincent Goulet

      Running addpm.exe is no longer recommended, as of v 25.2.  From Chocolatey emacs [[file:c:/ProgramData/chocolatey/lib/emacs64/tools/emacs/share/emacs/25.2/README.W32][README.W32]]:

      This is no longer needed in latest versions of Emacs, so we recommend you not do that, as running addpm.exe will insert entries into the Registry which might get in the way if you upgrade to later versions without updating those entries, or would like to uninstall Emacs.

      3. Put emacs bins _on front of PATH_ env. var (for org mode compiles and
         to make file associations and taskbar stuff shorter).

      4. Set the HOME environment variable to where .emacs and .emacs.d are

      5. set the ALTERNATE_EDITOR env. var to runemacs.exe

      6. May need to create a blank dir called .emacs.d or do [[Windows .emacs.d problem]]

      7. [[Windows Emacs File associations]] (Associate files with emacs)

      8. [[Pinning emacs to Windows 10 Taskbar]]

***** <<Emacs on WSL2>>
******* [[https://elecming.medium.com/the-ultimate-emacs-hacking-tutorial-in-windows-10-wsl-2-cfd3ea3893e3][The Ultimate Emacs Hacking Tutorial in Windows 10 WSL 2]]
******* Xpra or X2Go Xserver (I think) [[https://www.reddit.com/r/emacs/comments/inol6f/comment/g4cc21x/?utm_source=share&utm_medium=web2x&context=3][fix Emacs on WSL2 problem]]
***** Pinning emacs to taskbar
******* <<Pinning emacs to Windows 10 Taskbar>>

        How to pin it w/o getting the extra cmd window from showing up. By using emacsclintw.exe -a, it will only start a new emacs instance if one isn't already running.  This worked in July 2019.

        1. Make sure path to emacsclientw.exe is in Windows path
        2. Start emacs (click on emacs icon in windows start menu), this must be emacs.exe, not runemacs.exe or emacsclientw.exe
        3. Pin it to the taskbar (right click on taskbar icon)
        4. Right click on the emacs icon in the taskbar and edit Properties
        5. Target == C:\ProgramData\chocolatey\bin\emacsclientw.exe -c -n -a runemacs.exe
        6. set Start in: to %HOME%, assuming HOME was set to the emacs homedir, as emacs expects.

        _Historical Note_: Windows 10 had an [[9696        ][AppID bug]] that broke pinning but it
        was [[http://permalink.gmane.org/gmane.emacs.windows/6050][fixed]], and I noticed that it /almost/ worked on 7/17/16.  Seems to be totally fixed on 9/15/17.

********* Old stuff that didn't work
*********** _This Windows 10 fix doesn't work:_

            I downloaded Win7AppID1.1.exe, put it in ~/bin, and ran:
            ./Win7AppId1.1.exe "C:\Users\scott\AppData\Roaming\Microsoft\Internet Explorer\Quick Launch\User Pinned\TaskBar\emacs.lnk" Gnu.Emacs

            The program it sound no appid and that it had added the one I asked
            for.  But the extra black windows still showed up when I clicked on
            the emacs shortcut in the taskbar.

*********** Windows 10 instructions from [[https://www.emacswiki.org/emacs/EmacsClient][here]]:

            After upgrading to Windows 10 and installing a fresh installation
            of Emacs, pinning emacs.exe to the taskbar had same old problems
            (multiple icons), and the ‘fix’ above to change emacs.exe target to
            ‘runemacs.exe’ didn’t help.

            However,

            o  using MichaelHoffman’s tip over in [[https://www.emacswiki.org/emacs/EmacsW32#toc51][{1}]] to use a nice tool
            to set the AppID for the shortcut.

            o Running the app at http://code.google.com/p/win7appid/ on the
            emacs.lnk shortcut in

            \users\<name>\ApplicationData\Microsoft\Internet Explorer\QuickLaunch\User Pinned\Taskbar

            and setting it’s AppID to “Gnu.Emacs”

            did the trick. --RobDavenport


            _actually, it was here:_

            C:\Users\scott\AppData\Roaming\Microsoft\Internet Explorer\Quick Launch\User Pinned\TaskBar

******* <<Pinning emacs to Windows 7 Taskbar>>

        See: [[Pinning emacs to Windows 10 Taskbar]]

        Now that Windows 10 has been fixed, you can use the same procedure
        for Windows 10 and Windows 7.

        *Troubleshooting*
        - [[Fix connection actively refused error]]

********* Old solutions (don't work on emacs Goulet 24.5, Win7)

          _Solution_ (some kind of [[http://web.archiveorange.com/archive/v/UcW9CKPgcdv5OlUhbhhD][bug in emacs 23.3]]. was still present in 24.2.1)

          Below is partly from [[http://emacs.stackexchange.com/questions/146/set-up-emacs-on-windows-to-start-a-single-instance-and-open-files-in-the-existin/158#158][here]] (this guy has (half of) [[https://yoo2080.wordpress.com/2014/02/05/how-to-associate-file-types-with-emacs-on-windows-8/][another idea]]).  It
          almost works on Windows 8.1: you get an error message, but if you
          click OK, emacs will start correctly (the same is true for file
          associations, so it's some kind of global problem, either on emacs
          24.4 or windows 8.1 or my setup).

          1. make sure runemacs.exe is _on front of Windows PATH_ environment
             variable, so that the cygwin emacs is not seen first, which will
             cause confusion.
          2. set ALTERNATE_EDITOR env. var to runemacs.exe
          3. start runemacs.exe e.g. C:\Program Files (x86)\GNU Emacs 24.4\bin\runemacs.exe
          4. right click on the emacs icon in the taskbar and edit Properties
          5. Pin it to the taskbar
          6. Properties == emacsclientw.exe -na runemacs.exe -c ""
             USED TO WORK: 4. "C:\Program Files (x86)\GNU Emacs 24.4\bin\runemacs.exe"
          7. change the starting directory to %HOME% so it starts in the right place
***** [[screen rotation shortcut undo]]
***** Symlinks in Windows Emacs Dired
      From: [[https://youtu.be/WyixBzLcf1A?t=997][Properly installing Emacs on Windows - YouTube]]

      So Windows symlinks can be made in dired, like for Linux. I should do this!
      
***** <<Fix connection actively refused error>>

      Problem: try to open file with emacs, or start from task bar, etc,
      and get this error message:

      Open in emacs: No connection could be made because the target
      machine actively refuse it

      From [[http://stackoverflow.com/questions/25320064/open-in-emacs-no-connection-could-be-made-because-the-target-machine-actively-r][here]], the solution is to delete the file:

      ~/.emacs.d/server/serve

***** <<Windows Emacs File associations>>
******* Associating files with emacs e.g. when click them in Windows Explorer

        This works as of June 2019 on Windows 10 and emacs 26.2, although it still starts a new emacs every time you click on a file.  emacsclientw is supposed reuse an existing running emacs but that's not what happens right now:

        *Environment variables*
        o PATH contains path to runemacs.exe, emacsclientw.exe, emacs.exe 
        o ALTERNATE_EDITOR == runemacs.exe

        *.emacs*
        Contains 
        (require 'server)
        This may not be necessary anymore but I'm leaving it in there for now.

        *Associate a file type w/ emacs* /supposed/ to use running emacs if one exists
        1. Right click on a .org file (or whatever type you want to associate)
        2. Select "Open With"
        3. General tab
        4. Associate the file with emacslientw.exe

           If new setup
           (there will be no emacsclient.exe option, so...)
           o click on "More Apps"
           o click on "look for another app on this page"
           o go to where emacsclientw.exe is and click on it.
             (c:/ProgramData/chocolatey/bin/emacsclientw.exe) # if choco
           else
           o just click on emacsclientw.exe option if it exists

********* old fixes that aren't necessary anymore on Windows 10, as of 7/17/16.

          Works almost perfectly except for flashing black window in Goulet
          emacs 24.5.  Mostly inspired by the article [[https://yoo2080.wordpress.com/2014/02/05/how-to-associate-file-types-with-emacs-on-windows-8/][here]]:

          1. make sure runemacs.exe is _on front of Windows PATH_ environment
             variable, so that the cygwin emacs is not seen first, which will
             cause confusion.

          2. create a batch file "Gnu Emacs Batch.bat" containing:

             emacsclientw.exe -na runemacs.exe %*

             I put this in ~/shareHW/config (which can be a symbolic link from
             OneDrive)

          3. Associate it with filetypes using windows explorer "open with"
             - in Windows Explorer, right click on file file you want to associate
             - "open with" (or "open" for 1st time: and then tick "installed
               program...", go there, and then step below)
             - make sure none of the standard programs e.g. Adobe Reader are
               not highlighted. If the are, right click to unhighlight
             - Seach button --> go to the location of the batch file and click "open"

          4. Change the icon for files of this extension
             - download [[http://www.nirsoft.net/utils/file_types_manager.html][FileTypesMan]]
             - run it from the zip file (no install)
             - double click on the .org extension entry
             - in the default icon window, put: C:\Program Files (x86)\GNU
               Emacs 24.5\bin\runemacs.exe
             - might as well type in a description for that file type
             - OK

          *Troubleshooting*
          - [[Fix connection actively refused error]]
          - get rid of flashing black window. From [[https://yoo2080.wordpress.com/2014/02/05/how-to-associate-file-types-with-emacs-on-windows-8/][here]], under "how to
            eliminate that temporary window and why does it show up?"

            either replace the .bat file w/ an executable or replace it w/ a
            change made in regedit with [[http://www.nirsoft.net/utils/file_types_manager.html][FileTypesMan]].

            I haven't tried either fix, and still have a flashing window


*********** THIS ALSO DOESN'T WORK ANYMORE W/ Goulet emacs 24.5 / windows 7

            /NOTE/ You first have to make Gnu EmacsClient an option by
            associating the first file type with it by manually specififying
            the path to emacsclientw.exe.  After that, it will know that emacs is
            an option for opening files.

            For me, this changed the associations for all files of that type, not
            just the file I first right clicked on.

            For accidentally screwed up file extensions see: [[Remove bad file association]]

*********** stuff that used to work but doesn't in Goulet emacs 24.5, windows 7
************* solution 1 (problem: "Gnu EmacsClient" doesn't exist)

              By default, you get an extra black command window popup when you
              start emacs via a file association. Here's how to get rid of it (on
              Windows 8.1)

              o in File Explorer, right click on the file
              o properties
              o in the "general" tab, click "change" next to "Opens with"
              o click icon next to "Gnu EmacsClient"
************* solution 2
              o (server-start) in .emacs
              o [[http://www.emacswiki.org/emacs/EmacsClient][associate them with]] emacsclientw.exe -na runemacs.exe
              - make ~/bin/emacsBatch.bat, containing the line:
                emacsclientw.exe -na runemacs.exe "%1"
              - then associate it with filetypes using windows explorer "open with"
              - the above /did/ work and then I messed it up w/ some crappy shareware
              - stuff that doesn't work
                - setting environment variable ALTERNATE_EDITOR to runemacs.exe is
                  also supposed to work, but I couldn't get it to
                - [[http://www.emacswiki.org/emacs/EmacsMsWindowsIntegration#toc3][command lines]] are supposed to work (and [[http://emacs.1067599.n5.nabble.com/Usign-emacs-as-default-program-in-windows-7-td268764.html][one guy]] (Brian
                  Elmegaard-2) says they do after old emacsw32 stuff is
                  removed) but I can't get it to work.  I [[https://mail.google.com/mail/u/0/?shva%3D1#inbox/13c5d929961bd808][posted a question]] to
                  him.

******* Making emacs/dired open files w/ the Windows default app e.g. pdfreader
        From here: [[https://emacs.stackexchange.com/a/47522/14273][dired - Windows: Open files by default application - Emacs Stack Exchange]]

        _Dired_ 
        
        type "W" and the MS Windows build of emacs will use the default app.  This works for pdfs, .docx, etc.

        _org-mode_

        clicking on a link will often open the default app.  See [[org-mode links open with the default Windows app]]

********* <<org-mode links open with the default Windows app>>

          My .emacs [[file:~/.emacs::(setq org-file-apps][sets up org]] to use the default system app for pdf files
          Org is set up to open pdfs 

          (setq org-file-apps
          '(("\\.docx\\'" . default)
          ("\\.mm\\'" . default)
          ("\\.x?html?\\'" . default)
          ("\\.pdf\\'" . default)
          (auto-mode . emacs)))

          (but helpful says that was alredy the default.  I think this setting was mainly to get .docx files to open correctly.  Anwyay, org uses this somehow to call the system default app)
        
***** <<Windows .emacs.d problem>>

      Get ".emacs.d is unsafe" error message when have a user account w/
      admin privileges.  Fix by changing own to the user.

      o Click R-mouse on ~/.emacs.d/server
      o select Properties (last item in menu).
      o From Properties select the Tab Security
      o select the button Advanced
      o Select the Tab Owner
      o change the owner from Administrators (<your-pc-name>\Administrators) into
      <your-login-name> (<your-pc-name>\<your-login-name>.
      o Check the "Replace owner on subcontainers and objects" to ensure
      that subdirectories also have their ownership changed.

      Now the server code will accept this directory as secure because
      you are the owner.

      From: http://lists.gnu.org/archive/html/help-emacs-windows/2011-03/msg00069.html

***** [[windows emacs org-mode build]]
***** [[Changing Windows Emacs Icon]]
***** Opening files using windows defaults
******* [[https://emacs.stackexchange.com/questions/3105/how-to-use-an-external-program-as-the-default-way-to-open-pdfs-from-emacs][Commenter says]] use: w32-browser.el
******* Three w32 packages on melpa

        w32-browser        20170308.1518 available  melpa      Run Windows application associated with a file.

        w32browser-dlgopen 20170309.1433 available  melpa      Use w32browser with standard Windows Open File box.

        helm-w32-launcher  20141223.1214 available  melpa      Start Menu entry launcher using Helm

***** Installing GnuTLS for Windows Emacs

      *Summary*: I didn't get this to work but maybe it doesn't matter.

      This was missing on [[http://vgoulet.act.ulaval.ca/en/emacs/windows/][Vincent Goulet's Emacs]] 25.1 modified build 2.  The symptom is when I manage emacs packages, and get the error message

      =gnutls.c: [1] (Emacs) GnuTLS library not found=

      GnuTLS instructions are [[http://tahirhassan.blogspot.de/2016/03/installing-gnutls-on-emacs.html][here]] but it didn't work.  [[http://xn--9dbdkw.se/diary/how_to_enable_GnuTLS_for_Emacs_24_on_Windows/index.en.html][Here]] it says I can check the install with =M-: (gnutls-available-p) RET= (it fails). There are more complex instructions which I skipped because things seem to work without this library.

      Also, Vincent Goulet's email address no longer works...

***** <<Viewing pdfs in Windows Emacs>>
******* <<pdf-tools on Windows>>
********* [[https://github.com/politza/pdf-tools#compilation-and-installation-on-windows][GitHub - politza/pdf-tools: Emacs support library for PDF files.]]
********* [[pdf-tools on Windows]]
***** [[Emacs 25 on Ubunto 16.10]]
[[https://github.com/weirdNox/org-noter/actions][Actions · weirdNox/org-noter · GitHub]]*** get rid of non-ascii chars
    (useful for cleaning up bibfiles, etc.)

***** terse way

      From:
      http://www.gnu.org/software/libtool/manual/emacs/Enabling-Multibyte.html

      Visit the file and then:

      C-x <RET> c raw-text

      and then save it (may need to change a char so it will actually do the save).

***** long way

      M-x set-buffer-file-coding-system us-ascii

      and save the file

*** <<Latex/Bibtex and Emacs>>
***** [[Latex and Emacs][Latex and Emacs]]
***** <<BibTex and Emacs>>
******* <<Org-ref operations on .bib file>>
********* =C-c C-l= is supposed to create a link instead looks up URL, as of 2016-12-05
********* supposed to be able to add a paper by dragging a URL but it's [[https://github.com/jkitchin/org-ref/issues/347#issuecomment-263023007][broken]]
********* dragging pdf w/ a doi works
******* [[http://manas.tungare.name/software/isbn-to-bibtex/][ISBN to BibTex Converter]] (not Emacs, also broken as of 2016-12-05)
******* also see [[JabRef][JabRef]]
******* [[Latex/Bibtex]]
******* <<gscholar-bibtex>>

        I guess I might use it sometime, although JabRef is more powerful.

        It works and has /most/ of the functionality found in JabRef.

        Google scholar works
        IEEE lookup works after I submitted a [[https://github.com/cute-jumper/gscholar-bibtex/issues/19][bug report]].  But it doesn't get abstracts and the author [[https://github.com/cute-jumper/gscholar-bibtex/issues/19][wants]] me to write that.

******* <<org-mode native citaton support>>
        From [[https://org-roam.discourse.group/t/workflow-for-working-with-pdfs/103/7?u=scotto][here]] and [[https://org-roam.discourse.group/t/customize-display-of-cite-links/129/20][here]]: 

        It is [[https://org-roam.discourse.group/t/workflow-for-working-with-pdfs/103/7?u=scotto][implied]] that native citation is in the [[https://code.orgmode.org/bzg/org-mode/src/wip-cite-new][wip-cite-new]] org-mode branch; apparently it wasn't yet in main branch in May 2020.

        Will this replace [[org-ref]]?

******* [[org-roam and bibtex]]
******* [[BetterBibtex]]
***** [[Setting JabRef setup so it can push latex cites to Emacs]]
***** says you can edit the entries locally, and submit the changes to Redmine.
***** See [[Get IEEE & ScienceDirect with abstracts in emacs]]
***** <<helm-bibtex>>
******* [[https://github.com/tmalsburg/helm-bibtex][tmalsburg/helm-bibtex: Search and manage bibliographies in Emacs]]
******* somehow helm-bibtex does [[ivy-bibtex]] (figure this out later...)
***** <<ivy-bibtex>>
******* example setup here
******* [[helm-bibtex]] has some way of doing ivy-bibtex too

***** <<Jumping to papers from inside of org-mode and bibtex files>>

      [[org-ref]] now does this, as do ordinary org-mode bibtex links, [[helm-bibtex]] and [[ivy-bibtex]]

******* in bibtex file, open paper in file field w/ a key combo
******* also do it from inside of org-mode
******* [[http://draketo.de/light/english/free-software/custom-link-completion-org-mode-25-lines-emacs][lisp code that seems close]]
******* [[file:/Applications/Emacs.app/Contents/Resources/lisp/textmodes/bibtex.el.gz::defun%20bibtex%20copy%20field%20as%20kill%20optional%20comma][bibtex-copy-field-as-kill]] is a start for the part where file is extracted
******* [[file:~/.emacs::defun%20org%20docview%20open%20link][org-docview-open]] is how to open the file in docview
********* in org mode, C-c O (instead of C-c o) opens paper instead of bibfile
*********** opens both?
********* in bibtex file, use the same key combo to open the paper
******* [[file:/Applications/Emacs.app/Contents/Resources/lisp/textmodes/bibtex.el.gz::defun%20bibtex%20url%20optional%20pos%20no%20browse][bibtex-url]] finds af inentry.  Mod to have it pick file
********* modify so it finds the file field _in this entry_ ?
******* [[file:/Applications/Emacs.app/Contents/Resources/lisp/textmodes/bibtex.el.gz::Parse%20the%20name%20part%20of%20a%20BibTeX%20field][bibtex-parse-field-name]] looks for and parses a field
******* [[file:/Applications/Emacs.app/Contents/Resources/lisp/textmodes/bibtex.el.gz::defconst%20bibtex%20name%20part][bibtex-name-part]] matches the name of a field (regexp used by other funcs)
******* inspired by [[file:~/.emacs::org%20add%20link%20type%20docview%20org%20docview%20open][org-docview]] (here's the [[http://osdir.com/ml/emacs-orgmode-gnu/2009-08/msg00358.html][original thread]])
********* I insatalled w32-browser and emacs still insisted on use xpdf...
*** <<Rectangle editing>>
    See: [[info:emacs#Rectangles][info:emacs#Rectangles]]
***** =C-x r RET= [[iedit-rectangle-mode]]: type same stuff on every line in rectangle

      =C-x C-x=   to move to corners.
      =C-x r RET= to quit.

      Easy way to prepend/append indentation, org table =|= ...

***** ~rectangle-mark-mode~
******* C-x C-x cycles cursor through corners
***** ~rectangular-region-mode~: crashes on April 23, 2017
***** Also [[Replace within region or defun]] and specifically [[iedit]]
*** [[Https://github.com/atykhonov/google-translate][Google-Translate]]

    =C-ct=: translate selection or what you type
    =C-n=:  switches translation directions

***** I have it set for German <--> English
***** Can play audio but I haven't configured it
***** Tons of other configurations

*** <<Version control in emacs>>
***** <<VC: emacs's builtin version control meta interface>>
      From: [[https://stackoverflow.com/questions/5925372/how-to-use-git-from-emacs][How to use git from emacs - Stack Overflow]]
      And: [[https://www.emacswiki.org/emacs/GitQuickStartForEmacsDevs][EmacsWiki: Git Quick Start For Emacs Devs]]

      /Works for SVN, GIT (and others, I think)/

      =C-x v === : ediff
      =C-x v v= : next logical action (register, commit, but not push, see below)
      =C-x v l= : getting the file's history
      =C-x v u= : reverting the file to a pristine state
      =C-x v d= OR =F2= : examine git state of dir like vnc-dir ([[help:vc-dir]])

      Emacs VC [[https://www.emacswiki.org/emacs/GitQuickStartForEmacsDevs][doesn't support git push]] yet.   Alternatives are at least [[magit]], command line, and TortoiseGIT.

***** [[svn in emacs]]
***** [[git in emacs]] 
***** [[Emacs/Git for experiment logging]] (git/emacs/org-mode)
***** [[Version Control Systems]]
*** Inline images
***** in any file: use M-x [[http://www.netlaputa.ne.jp/~kose/Emacs/iimage.html][iimage-mode]]
***** this [[http://orgmode.org/worg/org-tutorials/org-publish-html-tutorial.php][works in org-mode]] (note C-c C-l links don't work? use double sq. brkts)
***** out-of-the-box, paths don't work: img must be in dir of .org file?
***** out-ofthe-box, ordinary file links to images does work if you visit them
***** paths would work if modify some var?
      iimage-mode-image-regex-alistiimage-mode-image-regex-alist
      iimage-mode-image-filename-regex
      others?

***** _However_, if you attach the image to org and then use iimage, the img displays!
***** opening pdf files from dired will open them directly in docview
***** opening an attachment from inside org-mode will open acroread
***** <<org-download>>
******* [[org-roam author likes org-download for inserting images]]
******* GitHub: [[https://github.com/abo-abo/org-download][Drag and drop images to Emacs org-mode]]
******* Tutorials/Help
********* YouTube: [[https://www.youtube.com/watch?v=dAojpHR-6Uo][org-download.el: drag images from the browser to org-mode]]
********* [[https://www.reddit.com/r/orgmode/comments/6x5ulb/longterm_use_of_orgattach_and_orgdownload/][Longterm use of Org-attach and Org-download : orgmode]]
********* [[https://coldnew.github.io/hexo-org-example/2018/05/22/use-org-download-to-drag-image-to-emacs/][Use org-download to drag image to emacs | hexo-org-example]]
******* [[org-roam, deft and org-download (setup)]]
***** also: TRY [[https://github.com/abo-abo/org-download][abo-abo/org-download: Drag and drop images to Emacs org-mode]]
*** Emacs packages
***** include the libraries that are now in my .emacs or _emacs
***** must [[Proxy environment variable for emacs, wget, anki, and others]]

***** <<use-package>>
******* :init vs :config
        From: https://github.com/jwiegley/use-package/issues/394

        *:init*   stuff that doesn't run if the package is not availabel
        *:config* code that means something (works) only after the pkg is loaded

***** paradox package manager

      It's a shell over the standard emacs package manager with many nice additional features, like viewing git log files for a packages that will be updated.

******* [[https://github.com/Malabarba/paradox][Malabarba/paradox: Project for modernizing Emacs' Package Menu. With...]]
******* If when paradox can't find logfile: M-x paradox--refresh-remote-data
        From: [[https://github.com/Malabarba/paradox/issues/176#issuecomment-642432799][paradox#176 paradox-menu-view-commit-list says "Package nil is not]]

*** Remember cursor position, last file visit
    ;; for emacs 25.1 or later
    (save-place-mode 1)

*** Better indentation

    Better than auto-fill and filladapt, which wrap when you hit space when the cursor is beyond the margin.  This is OK, but it:

    1. looks bad if the emacs frame is narrower than the margin
    2. inserts a CR into the file, which won't necessarily match future frames
    3. filladapt breaks cperl, org-mode plain lists, maybe matlab?
    4. auto-fill by itself messes up indent in org-mode after a bullet or
       an org-mode unrecognized bullet type e.g. 'o'

***** org-mode indentation
******* org-indent-mode

        1. all lines are prefixed for display with the necessary amount of space
        2. Also headlines are prefixed with additional stars, so that the amount of
           indentation shifts by two spaces per level.
        3. All headline stars but the last one are made invisible using the
        org-hide face4; see below under ‘2.’

********* Adds enough leading spaces to match start of line to bullet
*********** get same # of spaces whether or not line aleady starts w/ spaces
*********** still, generally looks better
*********** handles text virtual line wrapping just fine
********* adds two extra spaces to headline indentation itself (_bad, don't want_)
********* but bad for wide tables or deep indent ([[org-mode and visual-line-mode]])
********* org-startup-indented does it for all files
******* <<org-mode and visual-line-mode>>
        This is almost perfect.  The only problem is that it mangles tables.
********* my [[http://stackoverflow.com/questions/39696806/visual-line-mode-except-in-tables][Stackoverflow question]]: tables are still a problem on 9/26/16
******* also see [[org mode]]
***** adaptive-wrap (melpa package)
******* [[https://www.emacswiki.org/emacs/LineWrap][recommended here]] and [[http://emacs.stackexchange.com/questions/14589/correct-indentation-for-wrapped-lines][here]]
******* [[http://stackoverflow.com/questions/13559061/emacs-how-to-keep-the-indentation-level-of-a-very-long-wrapped-line][startup with hook]] (2012, and [[https://elpa.gnu.org/packages/adaptive-wrap.html][latest package is 2013]]:  still necessary?)
*** <<Python in Emacs>>
***** overviews
******* [[https://www.emacswiki.org/emacs/PythonProgrammingInEmacs][EmacsWiki: Python Programming In Emacs]]
******* [[http://wikemacs.org/wiki/Python][Python - WikEmacs]]
******* <<Emacs and Python videos from C'est la Z>>

        "As a postscript, let me share these links on how I use Emacs for Python development (each with a video) as well as my series on how I use Emacs in general":

        http://cestlaz.github.io/stories/emacs/
        http://cestlaz.github.io/posts/using-emacs-12-python
        http://cestlaz.github.io/posts/using-emacs-13-yasnippet
***** [[https://www.reddit.com/r/emacs/comments/yxragm/comment/ix45hiv/?utm_source=share&utm_medium=web2x&context=3][setup of emacs python debuggers]]: realgud, pdbpp, pdb
***** eglot

      An emacs package that runs LSP things.  Works perfectly on MacOS but not on Windows.
      
******* My Windows "bug" report: [[https://github.com/joaotavora/eglot/discussions/1182][Error in post-command-hook]]
***** jedi

      From [[http://wikemacs.org/wiki/Python][here]]: "It helps at autocompletion, finding definitions, showing documentation, etc. Elpy makes good use of it."

******* [[https://github.com/tkf/emacs-jedi][GitHub - tkf/emacs-jedi: Python auto-completion for Emacs]]
******* [[https://www.masteringemacs.org/article/jedi-completion-library-python][Jedi: A completion library for Python - Mastering Emacs]]
******* what emacs video guy uses: [[Emacs and Python videos from C'est la Z]]
******* is compatible with elpy: [[elpy and jedi and rope]]
********* In fact, as of Sept. 2019, elpy will try (and fail) to autoinstall it
******* <<jedi and conda>>
********* [[https://github.com/tkf/emacs-jedi/issues/154][How to tell emacs-jedi about conda environments · Issue #154 · tkf/emacs-jedi...]]

          A bit gross: must look up packages in conda dist and then hard code them into .emacs

********* [[activating conda environments in emacs]]
********* [[Virtual Environments And Emacs]]
***** rope
      From [[http://wikemacs.org/wiki/Python][here]]: it's good for renaming variables and much more, needs two python packages to be installed.
******* works with elpy: [[elpy and jedi and rope]]
***** <<elpy>>
      So you can type =C-c= in a python script and emacs will run it
******* emacs video guy says [[http://cestlaz.github.io/posts/using-emacs-12-python/][looks cool but is overkill for him]]
******* RealPython guy [[https://realpython.com/blog/python/emacs-the-best-python-editor/][likes elpy]] (with tips and screenshots)
******* elpy first time install or reinstall
        
        install python, conda, etc. first.  .emacs assumes:
        conda env named stdso is present
        the path to condas base and base/Scripts is in Windows PATH
          

        after python, conda, etc. are installed,
        run elpy-config and/or elpy-rpc-reinstall-virtualenv
        and maybe both

******* [[https://github.com/jorgenschaefer/elpy/wiki/Configuration][elpy Configuration · jorgenschaefer/elpy]]
******* configuring elpy paths
********* depends upon how you install python: [[Windows Python]]
********* <<Better elpy path>>? See [[https://github.com/jorgenschaefer/elpy/issues/939][this]]
********* my fix for elpy path problem: [[https://github.com/jorgenschaefer/elpy/issues/1156][bug report]]

          Windows Emacs can't follow Windows links (IPython.lnk); I needed to follow the link myself and add this to my path instead.   
          See [[Anaconda Paths]]

******* [[elpy pyenv interface]]
******* <<conda environments via elpy virtual environments>>
        From [[https://github.com/jorgenschaefer/elpy/issues/285][here]]:

        Looks like you either hardcode conda env. locs into your .emacs or you use the  [[elpy pyenv interface]] (M-x conda-workon).

        I'm not a fan because the environment spec. doesn't get checked into svn or git or whatever.

******* <<elpy and jedi and rope>>

        As of Sept 9, elpy seems to require jedi.  It's getting into an infinite loop, apparently trying to download itself with pip, but that fails for some reason.

        Problem goes away if I just install jedi myself:

        conda install -c conda-forge jedi 

********* elpy [[http://wikemacs.org/wiki/Python][is said]] to make good use of jedi
********* [[https://stackoverflow.com/questions/29809061/how-to-properly-setup-jedi-with-elpy-in-emacs][python - How to properly setup Jedi with elpy in emacs?]]
********* [[https://github.com/jorgenschaefer/elpy/wiki/Configuration][elpy Configuration · jorgenschaefer/elpy]]
******* [[elpy vs. anaconda-mode]]
******* <<elpy snippets>>

        elpy has lots of function/class/import templates that you can complete by typing TAB.  e.g.

        ___init___
        ___call___
        ___add___
        (and more)

        As well as:

        enc: Encoding statement
        env: Hashbang statement
        from: Import statement
        pdb: Snippet to run pdb at the current script position
        super: Super statement to call parent methods
        def: Function definition
        class: Class definition
        defs: Class method definition

        Compare with [[elpygen]]

******* <<refactoring in elpy>>
        From: [[https://elpy.readthedocs.io/en/latest/ide.html#refactoring][IDE Features — Elpy]]

        _Symbol search and replace, like iedit, or Matlab_

        C-c C-e (elpy-multiedit-python-symbol-at-point)

        o C-c C-e to exit mode
        o default backend can replace out-of-scope things (so install Jedi)
        o will operate only in highlighed region, if there is one

        _plain symbol search_

        M-s _
        If incremental search is active, toggle symbol search mode (isearch-toggle-symbol); otherwise, begin an incremental forward symbol search (isearch-forward-symbol).

        M-s .
        Start a symbol incremental search forward with the symbol found near point added to the search string initially.

        M-s _ <RET> symbol <RET>
        Search forward for symbol, nonincrementally.

        M-s _ C-r <RET> symbol <RET>

********* also [[pygen code refactoring]]
***** <<elpygen>>
      From: [[https://github.com/vkazanov/elpygen][elpygen: Generate Python function/method stub]]...
      
      Makes a func or class method definition stub w/ one key press.  /Maybe/ I'd use this.

      Compare with [[elpy snippets]]

***** <<pygen code refactoring>>
      From: [[https://github.com/jackcrawley/pygen][JackCrawley/pygen: Python code generation in Emacs]]

      Handy: Converts selected expression to a variable, makes a variable an input parameter, makes a class, etc.

      *However*: author migrated to PyCharm, [[https://github.com/jackcrawley/pygen][isn't updating it]] anymore.
        
      o requires [[elpy]] and python_mode packages
***** <<Autopep8>> (GIT: [[https://github.com/hhatto/autopep8][hhatto/autopep8]])
      This is a way to make emacs automatically force your code to the [[Python PEP8]] standard.

******* configuring emacs autopep8
        In my .emacs, inside of (use-package elp *), I have:

        (if autopep8bin
        (add-hook 'elpy-mode-hook 'py-autopep8-enable-on-save))

******* [[Preventing PEP8 from flagging a non-top-of-file import]]

***** [[https://github.com/abo-abo/lpy][abo-abo/lpy: Minimal Python IDE for GNU Emacs]]
***** <<Virtual Environments And Emacs>>
******* <<activating conda environments in emacs>>
********* <<conda.el reads environmentl.yml>> (but still has problems)
          From: [[https://github.com/necaris/conda.el][conda.el: Emacs helper library (and minor mode) to work with]]

          *conda.el* has some problems to fix before I can use it
          1. its bin paths are wrong for windows: [[https://github.com/necaris/conda.el/issues/5][Doesn't work on Windows · Issue #5]]
          2. always prints "env not found": [[https://github.com/necaris/conda.el/issues/8][No conda environment for file · Issue #8]]
          3. when I run =C-c= (ipython) I get a warning b/c I'm running a hard-coded conda path (the wrong one, since I'm hard coded to root)
          4. This might be b/c of my hard coded path: (setq conda-anaconda-home conda-home-dir).  Could use env var ANACONDA_HOME ([[help:conda-anaconda-home]])
             1. On my SP4, it's C:\Users\scotto\Anaconda3
             2. On my Fraunhofer laptop, it's: 
          5. but then (elpy-use-ipython) would still crash since would not be in path.  letting conda.el autofind the path worked, and I think ipython was working because emacs ignores PATH changes but still had an ipython.exe in its path.  Maybe this is also an elpy problem?  Could pyenv help?  Also, on windows, python.exe is in the top env dir and ipython.exe is in topdir/Scripts.  Seems like conda.el doesn't handle that.

          Wait for this to get fixed before any more messing around: *just use Spyder*

          environment.yml: a [[documenting conda environment with environment.yml][recommended]] way to check anaconda environments into svn or git or whatever 

*********** [[Can]] automatically read environment.yml. 
*********** appears to also work with conda files other than environment.yml
          
            says: " search up the directory tree for a file defining a conda environment, such as an environment.yml file, and try to activate the named environment"

*********** hooks to eshell so can easily run conda commands from there          
*********** =conda-anaconda-home= must be set to anaconda home unless have . file

            expected default is ~./.anaconda3

            But I see that I have ~/.anaconda (on SP4)

*********** See also: [[documenting conda environment with environment.yml]]

********* [[conda environments via elpy virtual environments]]
********* [[jedi and conda]]
********* [[elpy pyenv interface]]
********* [[anaconda-mode seems to use pyenv for conda environments]]
********* [[https://emacs.stackexchange.com/questions/20092/using-conda-environments-in-emacs][Using conda environments in emacs - Emacs Stack Exchange]]
        
        What I'd like is something automatic.  Here, it's a bit gross: 

        1. put cond envs into a file,
        2. hardcode a reference to that file in emacs,
        3. Run =M-x pyenv-workon= to switch

           The venv file for for tensorflow (on my SP4) is:

           c:/Users/scotto/Anaconda3/envs/tensorflow/

********* <<using miniconda instead of anaconda>>

          [[https://conda.io/projects/conda/en/latest/user-guide/install/windows.html][Installing miniconda on windows]]:  install windows installer from this website, and while installing, tick the box allowing [[vscode]] and other parts of windows to use its compiler as a default.  This gives you the anaconda terminals, etc. which is handy.

          Add [[Anaconda Paths]] (pointing to mininconda instead of anaconda)

********* install conda packages from conda-forge instead of anaconda

          So that

            conda install <package>          

          tries hardest to install from conda-forge 

            conda config --add channels conda-forge
            conda config --set channel_priority strict

          This is recommended [[https://youtu.be/Kqsk-siz9QA?list=PLsT4-aZA6_bg4Ol1XfzTKcnQ_ctzdXpxH&t=823][here]] so that packages are more likely to be installed without conflicts.  For the same reason, guy also recommends [[using miniconda instead of anaconda]] (fewer packages overall, and most will come from conda-forge).
          
********* general: [[python conda environments]]
******* <<pyenv in emacs>>
********* <<elpy pyenv interface>>         
********* 
*********** [[https://stackoverflow.com/questions/37472595/how-to-activate-the-anancondas-env-python-in-emacs][how to activate the ananconda's env python in emacs? - Stack Overflow]]
*********** [[https://smythp.com/emacs/python/2016/04/27/pyenv-elpy.html][Using Elpy with pyenv in Emacs]]
*********** [[https://github.com/ssbb/pyenv-mode-auto][pyenv-mode-auto: Automatically activates pyenv version within E...]]
          
            a little gross: needs a .python-version file in source code or source code directory.  I'd rather have stock python with nothing especially for emacs in it.

            _For the file-local auto-setting_ ([[man:]])
            o edit the python file
            o M-x add-file-local-variable
            o select pyenv-workon
            o type in: c:/Users/scotto/Anaconda3/envs/tensorflow/ (tensorflow, on my SP4) 

            _For the directory local auto-setting_
            o I don't know what variable to set or what filename to put the settings in.  The help doesn't say.

*********** [[elpy pyenv interface]
********* [[pyenv and virtualenv]]
******* [[https://github.com/proofit404/anaconda-mode][anaconda-mode: Code navigation, documentation lookup and ...]]
********* is [[https://github.com/proofit404/anaconda-mode/issues/38][smaller than elpy]]
********* [[https://github.com/proofit404/anaconda-mode/issues/38][has]] an interface to jedi
********* <<anaconda-mode seems to use pyenv for conda environments>>
********* also: [[activating conda environments in emacs]]
********* <<elpy vs. anaconda-mode>>
********* [[https://github.com/proofit404/anaconda-mode/issues/38][how does anaconda-mode compare to Elpy? · Issue #38 · proofit404/an...]]
******* [[jedi and conda]]
******* emacs itself could be in a virtual environment ([[Anaconda Emacs]])
***** <<Emacs Jupyter Notebook editing>>
******* <<EIN -- Emacs IPython Notebook>>
*********  [[https://github.com/millejoh/emacs-ipython-notebook][millejoh/emacs-ipython-notebook]]
********* works with both Jupyter and emacs org mode
********* also, maybe a bit better: [[NEI -- Notebook Editor Interface]]
********* jupyter-console is recommended, maybe

          conda install -c conda-forge jupyter_console 

          # maybe causes problems?
          # conda install -c anaconda jupyter_console 

******* <<NEI -- Notebook Editor Interface>>
        From: [[https://github.com/pyviz-dev/nei][pyviz-dev/nei: Notebook Editor Interface]]: Jupyter Notebook interface
********* like emacs ein but can show javascript graphs, etc.
********* like [[https://atom.io/packages/hydrogen][hydrogen]] for the atom editor but only python for now
********* also [[EIN -- Emacs IPython Notebook]]
******* also [[Emacs and Jupyter Notebooks]]
***** [[https://vxlabs.com/2017/11/30/run-code-on-remote-ipython-kernels-with-emacs-and-orgmode/][Run code on remote ipython kernels with Emacs and orgmode. – vxlabs]]
***** Python comment wrapping in Emacs
      From: [[https://stackoverflow.com/questions/2214199/how-to-use-emacs-to-write-comments-with-proper-indentation-line-length-and-wra][How to use Emacs to write comments with proper indentation ...]]
      
      In my .emacs file, I've done this, and it works automatically:

      (require 'newcomment)
      (add-hook 'python-mode-hook (progn
      (setq comment-auto-fill-only-comments 1)
      (setq-default auto-fill-function 'do-auto-fill)))

      =M-q=: will then re-wrap either # or """ comments

      I didn't need to enable auto-fill-mode but it seems like I should have.  Is this done by default or somewhere in elpy, etc. ?

***** [[org-mode parsers in Python]]
*** Ruby in Emacs
***** debugger

      M-x rubydb
      ruby -d <progname inluding '.rb'>
*** [[MS Office and Emacs]]
*** [[MacOS Emacs]]
*** <<Evernote and Emacs>>
***** [[http://code.google.com/p/emacs-evernote-mode/][Evernote mode]]
******* [[file:~/lib/emacs/evernote-mode-0_41/][installation]]
***** Getting a [[http://discussion.evernote.com/topic/23917-access-note-links-via-evernote-web/page__p__125018__hl__links__fromsearch__1#entry125018][private URL to an evernote note]]

      Posted 09 February 2012 - 01:43 PM

      For a private browser link. Pop out a note to a single note view window
      from the web client and copy the url from the address bar.

      For a public browser link. Share the note and copy the share url.

***** also [[Evernote]]
*** <<Debugging Emacs>>
***** open-dribble-file: a keystroke logger, so you can see what happened before a problem
***** view-lossage: Can see the last =lossage-size= keystrokes
***** which-key-dump-bindings: dumps which-key output to a buffer
***** describe-char: like describe-face but more low level, tells you what drew that character?
***** figuring out why emacs hangs
      From: [[https://youtu.be/RlfFHTPq62A?t=581][I keep getting stuck in Emacs. Shoot my troubles.]]

      Break a frozen emacs, send it to debugger:
      
        pkill -SIGUSR2 Emacs

      Why this is described here:  [[info:elisp#Error Debugging][elisp#Error Debugging]].  By default, =debug-on-event= is set to to this when it receives a sigusr2.

      *Question* how do this on Windows?
      *Question* does this work on MacOS?

***** [[emacs profilers]]
***** also [[Emacs speed up]]
*** <<Emacs speed up>>
***** TODO <<emacs profilers>>

      [[help:profiler-start]]
      [[help:profiler-start]]
      
******* [[https://www.gnu.org/software/emacs/manual/html_node/elisp/Profiling.html][GNU Emacs Lisp Reference Manual: Profiling]]

        M-x profiler-start
        (do some stuff that make Emacs slow)
        M-x profiler-report
        (look at it)
        M-x profiler-stop
        (when you have looked around enough)
******* [[https://punchagan.muse-amuse.in/posts/how-i-learnt-to-use-emacs-profiler.html][How I learnt to use Emacs' profiler]]
******* TODO [[https://lists.nongnu.org/archive/html/emacs-orgmode/2016-07/msg00222.html][Try]] `elp-instrument-package' on "org-" prefix

***** startup
******* guy says use =use-package=: [[https://anuragpeshne.github.io/essays/emacsSpeed.html][Speeding Up Emacs]]
******* profiling .emacs
********* [[https://github.com/jschaf/esup][esup]] startup profiler

          Run with: =M-x esup=
          
          Get an error message but it keeps running and produces a useful profile buffer.

          Note: Inside of emacs package manager, melpa says it's an obsolete package.

********* profile-dotemacs
          From: [[https://www.emacswiki.org/emacs/ProfileDotEmacs][EmacsWiki: Profile Dot Emacs]]

          Use the script: [[http://www.randomsample.de/profile-dotemacs.el][profile-dotemacs.el]]

          Then start emacs as follows:

          emacs -Q -l PATH/profile-dotemacs.el -f profile-dotemacs

          with PATH being the path to where this file resides.

          The specific file to be profiled is hardcoded within profile-dotemacs.el

          (defvar profile-dotemacs-file "~/.emacs" "File to be profiled.")
        
***** TODO normal editing
******* believable [[http://emacs.stackexchange.com/questions/5359/how-can-i-troubleshoot-a-very-slow-emacs][speed debugging advice]]
******* smartparens, auto-complete, line-number and font-lock [[http://emacs.stackexchange.com/questions/5359/how-can-i-troubleshoot-a-very-slow-emacs][are suspects]]
******* guy's [[https://punchagan.muse-amuse.in/tags/orgmode.html][speedup detective work]]:  =#+STARTUP: showeverything= didn't help me
********* [[https://punchagan.muse-amuse.in/tags/orgmode.html][recommendation]]:  =#+STARTUP: showeverything= didn't help me
********* (adaptive-wrap-prefix-mode +1) in visual-line-mode-hook
********* commenting out: (global-visual-line-mode +1)
********* TODO try adaptive-wrap

***** also [[Debugging Emacs]]

*** <<Changing Windows Emacs Icon>>

    From [[http://www.howtogeek.com/75983/stupid-geek-tricks-how-to-modify-the-icon-of-an-.exe-file/][here]]:
    1. install [[http://www.angusj.com/resourcehacker/][Resource Hacker]]
    2. find emacs in windows explorer
    3. right click it and "open with resource hacker"
    4. Icon in LHS menu
    5. right click on the icons and "replace with"

***** some icons are [[https://www.emacswiki.org/emacs/EmacsIcons][here]]

*** <<R in emacs>>

***** install [[http://ess.r-project.org/Manual/ess.html][ESS]] (for latest version)
      to avoid putting ESS in emacs installation directory, can do this:

      cd ~/lib/emacs/
      unzip ess-12.04-4.zip
      mklink /D ess ess-12.04-4  (on windows)
      and in .emacs

      (add-to-list 'load-path "~/lib/emacs/ess/lisp") ; so load below works?
      (load "~/lib/emacs/ess/lisp/ess-site")
      (require 'ess-site)

***** Also add R to PATH so ESS can find it.  See: [[R for windows]]
***** [[Vincent Goulet Emacs]]
*** <<Emacs for experiment logging>>
***** TRY [[file:energy.bib::Stanisic15gitOrgWorkflow][Stanisic et al. 2015]]
***** <<org-journal>>:
******* [[https://github.com/bastibe/org-journal][GitHub: bastibe/org-journal: A simple org-mode based journaling mode]]
******* [[https://www.reddit.com/r/emacs/comments/8kz8dv/tip_how_i_use_orgjournal_to_improve_my/][TIP: How I use org-journal to improve my productivity : emacs]]
******* [[org-roam author likes org-journal]]
*** [[Emacs writing tools]]
*** [[Knowledge Graphs in Emacs]]
*** [[Emacs Application Framework: lib to connect python, etc. to Emacs]]
*** Search for Symbol at Point
***** =M-s .= is default emacs way to do [[https://www.gnu.org/software/emacs/manual/html_node/emacs/Symbol-Search.html][Symbol Search]]

      But I don't now how to go backwards and forwards inside of this search.

***** I mapped C-s s to swiper-isearch-thing-at-point (supposed to be symbols search but it only extracts a symbol-like-thing and then search for string matches w/o knowing the language)
***** symbol search and replace: [[refactoring in elpy]]
******* [[https://github.com/m-parashar/emax64/releases][emax64: has pdf-tools built-in]]
***** also [[Linux on Windows]]
* Surface Laptop Studio
*** <<vscode on WSL>>
    On my SLS, follow the steps in:
    
    [[https://code.visualstudio.com/docs/remote/wsl-tutorial][Work in Windows Subsystem for Linux with Visual Studio Code]]

    Also [[vscode]]
    
*** tensorflow on WSL
    on my SLS

    Running tensorflow with [[https://docs.microsoft.com/en-us/windows/ai/directml/dml-intro][DirectML]] (an easy way to use Windows GPUs?), limits python version to 3.7 (as of Nov. 2021)

    But can I run TF w/o a GPU?

***** Worked for python 3.6, should also work for 3.5 and 3.7
      [[https://docs.microsoft.com/en-us/windows/ai/directml/gpu-tensorflow-wsl][Tensorflow with DirectML on WSL | Microsoft Docs]]
***** [[https://github.com/microsoft/DirectML/issues/16#issuecomment-645625854][python <= 3.7 is because directml supports TF <= 1.15]]  (TF is 2.0 now).
***** [[https://github.com/microsoft/tensorflow-directml/wiki/Roadmap#development-moving-forward][On Sept 2021, MS was just starting on TF2 for DirectML]]

*** tensorflow on native Windows
    Supposed to be doable but I haven't tried it:

    [[https://docs.microsoft.com/en-us/windows/ai/directml/gpu-tensorflow-windows][TensorFlow with DirectML on Windows | Microsoft Docs]]

    Again, as of 10/21/21, and as with TF on WSL, it only works for python 3.5, 3.6, 3.7

*** <<tensorflow in MacOS>>
***** TF main page lists CPU-only support: [[https://www.tensorflow.org/install/pip#windows][Install TensorFlow with pip]]
***** but MacOS covers python 3.7, 3.8 and 3.9
***** TF 2.4 on 2019 Intel MacBook: [[https://blog.tensorflow.org/2020/11/accelerating-tensorflow-performance-on-mac.html][Accelerating TensorFlow Performance on Mac — The TensorFlow Blog]]    
***** also [[MacBooK Pro]]
*** Windows store apps close after closing lid and going to sleep
***** either step 1 or step 2 fixed it: [[https://answers.microsoft.com/en-us/windows/forum/all/apps-close-in-sleep-mode/68ee45f6-938b-4b54-90d8-35a488e9eb93][Apps close in sleep mode?]]
* <<MacBooK Pro>>
*** External [[Monitors]] on MacBook Pro
***** two external monitors
******* only way is [[https://www.dell.com/community/Monitors/P2715Q-two-daisy-chain-Macbook-Pro-13-quot/m-p/7639488#M127759][Thunderbolt 3 to Dual DisplayPort adapters]] (cable, I think)
******* StarTech, Sabrent, Sonnet, Plugable, and Nekteck make them
***** <<MacBook to single P2415Q>>: s/ work w/ a USB-C to HDMI adapter
******* must ensure that HDMI 2.0 mode is enabled
******* says Anker USB-C to HDMI works on his MacBook Pro 16 (I think)
*** [[MacOS]]

*** [[tensorflow in MacOS]]
*** [[MacBook M1 Display Scaling on LG DualUp 28"]]
* Computer Devices
*** Webcam
***** Logitech C920e Pro HD
      Bought here: [[https://mail.google.com/mail/u/0/#search/in%3Ashop+logitech/FMfcgxwJXpQsskDvGSSQMDDdVdmjzBKq][Ebay order]].  The "e" in C920e means environmentally friendly, compact packaging" but the camera is supposed to be the same as the C920.

      Problem was, it came w/o drivers, and I can't find them on the logitech website.  A discussion of this problem is [[https://answers.microsoft.com/en-us/skype/forum/all/how-can-i-adjust-settings-for-logitech-c920-hd-pro/b9662044-81f1-4d72-8046-e9ca579d16d1][here]], apparently w/o a solution.

******* [[https://en.softonic.com/download/logitech-webcam-software/windows/post-download][driver download]] from softonic

        During install, said driver ws incompatible w/ my camera.  When I try to use other logitech program for camera (in this download), it says I'm using a generic UWP camera driver w/ limited functionality. And sure enough, I can't zoom, pan, adjust the resolution, whatever.  The camera looks at what you point it at mechanically, and no adjustments are possible.

*** <<Monitors>>
***** Monitors by size, resolution, ...: [[https://pcpartpicker.com/products/monitor/#r=256001440&F=381000000,660400000&C=0][Choose A Monitor - PCPartPicker]]
***** [[https://www.urtech.ca/2019/04/solved-complete-list-of-screen-resolution-names-sizes-and-aspect-ratios/][Complete List of Screen Resolution Names, Sizes and Aspect Ratios]]
***** <<Dell P2415Q / P2715Q monitor>>
******* Specs
        From: [[https://www.displayspecifications.com/en/model/a01d746][27" Dell P2715Q - Specifications]]

        pix: 3840 x 2160 (tot: 8294400)
        dpi: 163
        physical dimensions: 25.2 x 15.0 x 2.0" (without stand)
                             25.2 x 16.7 x 8.0" (with stand)
******* Enabling HDMI 2.0 on P2415Q / P2715Q
        2.0 isn't enabled by default, and you need that for [[MacBook to single P2415Q]]

        *Instructions*
        From: [[https://www.programmersought.com/article/41654322532/][P2415Q / P2715Q monitor: HDMI 4K 60HZ, set with HDMI 2.0 port, support 4K x 2]]

********* Unplug all video cables from the monitor. (Keep only the power cord of the monitor.)
********* Turn on the monitor.
********* selectHDMI (MHL) input (HDMI (MHL) input)Options. (A floating dialog will be displayed).
********* Press and holdThe button corresponding to the green check mark for 6 to 8 seconds (figure 1）
********* A dialog box appears statingHDMI 1.4 Enable/Disable (HDMI 1.4 Enable/Disable)
********* selectDisable HDMI 1.4 supportOption, and then press the button next to the green check mark to confirm your choice.
********* Reconnect the video cable to the monitor
***** LG DualUp 28"
******* Specs
        From: [[https://www.theverge.com/23273991/lg-dualup-tall-pc-windows-mac-monitor-review][LG DualUp review: a tall, pricey monitor geared toward efficiency]]

        pix:  2,560 wide x 2,880 tall (tot: 7372800)

        dpi ~ 140
        [[https://www.tomsguide.com/reviews/lg-dualup-monitor][physical dimensions]]: 18.9 x 21.6 x 1.76 (without stand),
                             18.9 x 33.19 x 18.16 inches (with stand)

        _Compared to [[Dell P2415Q / P2715Q monitor]]_:

          Somewhat more usable pixels (heigher) but a bit less sharp?
            - squarer, taller aspect ratio
            - any rotation, LG has more vertical pix, is taller than normal Dell
            - less DPI
            - fewer pixels
        
******* Display Scaling
********* <<MacBook M1 Display Scaling on LG DualUp 28">>

          brew install --cask betterdisplay

*********** reviewers say default scaling to match M1 display is bad
*********** [[https://github.com/waydabber/BetterDisplay][BetterDisplay]] app is [[https://www.youtube.com/watch?v=UtAA2MphRGA][said]] to fix that
*********** also [[MacBooK Pro]]
            
******* LG OnScreen Control Software
********* download: [[https://www.lg.com/us/support/software-firmware-drivers?customerModelCode=34UM58-P&csSalesCode=34UM58-P.ATT&category=CT10000030&subcategory=CT30000200][Software, Firmware & Driver Downloads | LG USA Support]]
********* also lets up [[https://www.tomsguide.com/reviews/lg-dualup-monitor][update the monitor's internal software]]
********* [[https://www.tomsguide.com/reviews/lg-dualup-monitor][Tom's article]]: has contrast control ([[https://cdn.mos.cms.futurecdn.net/RUDis8N24VkVph2iENcHFL-1200-80.jpg.webp][screenshot]]), not on control stick
******* [[https://www.tomsguide.com/reviews/lg-dualup-monitor][Tom's article]]: Power Toys is another way that LG software
*** [[https://pcpartpicker.com/][Pick parts. Build your PC. Compare and share. - PCPartPicker]]
* Old Computers
*** Microsoft Surface Pro 3
***** Screenshots and snips
******* [[http://pricklytech.wordpress.com/2014/08/06/surface-pro-3-quick-tip-no-printscreen-button-on-the-type-cover/][screenshot keyboard shortcut]]:  FN + Windows + Space (no PrnScrn button)
******* [[http://www.digitaltrends.com/computing/surface-pro-3-helpful-tips-and-tricks/][screenshot w/o a keyboard]]

        Windows button + Volume down (wait for screen blink)

******* [[http://www.digitaltrends.com/computing/surface-pro-3-helpful-tips-and-tricks/][Where screenshots go]]
********* screenshots end up in Pictures folder: C:\Users\Scott\Pictures\Screenshots
********* can also use share charm (scroll down to Screenshot)
******* I also downloaded something that was supposed to work in Metro apps.

        And it doees work on some of them, but not on Drawboard (bug submitted) and
        not on MS Reader app, I think.
***** Keyboard
******* [[http://www.howtogeek.com/177802/6-tips-for-surface-pro-users/][Surface Specific Keyboard Shortcuts]]

        |      | key            | function               | When func locked           |
        |------+----------------+------------------------+----------------------------|
        | Fn + | Caps           | function key lock      | Fn+<key> for special key   |
        |      | Spacebar       | Print Screen           | not sp3?                   |
        |      | Alt + Spacebar | Print current window   | not sp3?                   |
        |      | Del            | Up screen brightness   |                            |
        |      | Backspace      | Down screen brightness |                            |
        |------+----------------+------------------------+----------------------------|
        |      | Left arrow     | Home                   | Use these when func-locked |
        |      | Right arrow    | End                    |                            |
        |      | Up arrow       | Page Up                |                            |
        |      | Down arrow     | Page Down              |                            |

********* Same stuff in text
          *Fn +*
*********** *Caps:* function key lock
            the F1-F12 keys as function keys. For example, the F1 2 keys normally
            toggle the keyboard backlight on or To actually press F1, you’d have
            to press Fn + after pressing Fn + Caps, they’ll function as F1 and F2 a
            single key press. You’d have to press Fn + F1 or F2 to control
            backlight.

*********** *Spacebar*: Print Screen.
            saves an image of your current screen to your clipboard, so you
            aste it into any application.

*********** *Alt + Spacebar*: Print Screen for the current window only.
            saves an image of the current window to the clipboard.

*********** *Del*: Increases screen brightness.
*********** *Backspace*: Decreases screen brightness.
*********** *Left arrow*: Home
*********** *Right arrow*: End
*********** *Up arrow*: Page Up
*********** *Down arrow*: Page Down

******* [[http://www.microsoft.com/surface/en-us/support/hardware-and-drivers/type-cover#UseKeyboard][Surface Specific Key meanings]]: find, share devices, settings...
        devices doesn't work
******* Type Cover touchpad delay

        From [[http://answers.microsoft.com/en-us/surface/forum/surfpro3-surfhardware/surface-pro-3-touchpad-sensitivity/cbee3c13-c242-4667-947b-f407ffadb31d][here]]

        1. Settings
        2. Change PC settings
        3. PC and devices
        4. Mouse and touchpad
        5. At the bottom of the page under Touchpad, there's a drop down menu where
           you can change the sensitivity setting. If you would like the touchpad
           to be less sensitive, the shorter the delay, the more sensitive the
           Power Cover is.

        (Note that app mentioned on that page doesn't work for SP3 Type Cover)

******* [[http://www.windowscentral.com/surface-pro-3-type-cover-disable-it-save-your-battery][Disable Type Cover Wake]] (saves battery?)
***** Bluetooth mouse intermittency

      Problem was that MS comfort curve mouse was getting turned off
      randomly.  From [[http://www.surfaceforums.net/threads/solved-bluetooth-mouse-drops-connection-intermittently.4836/][here]] and [[http://www.amazon.com/Microsoft-Sculpt-Comfort-Bluetooth-H3S-00003/product-reviews/B00BZC31WQ/ref%3Dcm_cr_dp_text?ie%3DUTF8&showViewpoints%3D0&sortBy%3DbyRankDescending#R28O4L0L5YERE6][here]], a partial solution is:

      o Device Manager,
      o Bluetooth
      o Marvell AVASTAR Bluetooth Radio Adapter
      o Power management tab
      o uncheck "Allow the computer to turn off This device to save power"

      This made the intermittency problem much less bad, but it still happens
      regularly.

      Guys says that the bundled [[https://forums.highrez.co.uk/viewtopic.php?t=2440][MS Mouse and Keyboard Center causes mouse lags]] (but I don't see this on my new SP4 and Windows 10, Creators update (April, 2017)
*** Thinkpad
**** [[http://superuser.com/questions/131080/t400-how-do-you-disable-the-green-brightness-meter-on-a-thinkpad-t400][Disabling on screen display]] (e.g. screen dimmer icon)

     There is an "On Screen Display" tab in the advanced video settings
     dialog. On that tab, there is an "Enable on-screen dispaly" check box.

     To get to the advanced video settings dialog in Windows 7:

     1. Right-click on the desktop, select "screen resolution"
     2. Choose "Advanced Settings"
     3. Click on "On Screen Display" tab

**** Diabling automatic mobile broadband turnoff

     Temporary fix (there may be better ones that save power):

     access connections --> advanced --> global settings
     --> unclick the "disable inactive radio" or whatever it was setting

     This setting doesn't seem to be available when the mobile broadband (not
     WiFi) connection in turned on.

****** [[http://forums.lenovo.com/t5/T400-T500-and-newer-T-series/ThinkPad-Wireless-keeps-disabling-itself-wireless-radios-being/ta-p/399541][more detailed fix, maybe better?]]
****** commenter [[http://forums.lenovo.com/t5/T400-T500-and-newer-T-series/T400-Wireless-Capability-Keeps-Turning-Off/td-p/94577][claims]] that problem due to Lenovo/Windows wireless mgr. conflict
****** [[http://www.hanselman.com/blog/CommentView.aspx?guid%3Ddc75de35-c310-43c9-9adc-eba0e0c072d5][older advice]]
**** Configure BIOS

     [[http://support.lenovo.com/en_US/detail.page?LegacyDocID%3DYAST-3JWKJX][On power up, hit]]
     on X60: blue button
     on x220: F1 (can additionally hit Ctrl-S to get to startup menu)

**** Don't dim X60 tablet screen brightness when on battery

     From [[http://forums.lenovo.com/t5/X-Series-Tablet-ThinkPad-Laptops/X60-tablet-screen-brightness/td-p/89483][here]]:
     Go into BIOS (F1 while booting), then Configuration, and set the display brightness to mx there, press F10 to save and exit.

**** Disable screen rotation by ctrl-alt-arrowkey hotkeys

     *Solution*: Uninstall Lenovo's Screen Optimization program

     *Problem*: Screen rotation with ctrl-alt-arrowkey screwed up emacs
     orgmode indentation keys.

     Windows 7 and Intel graphics card both had ctrl-alt-arrowkey hotkeys
     for screen rotation, but disabling them had no effect.  It turns out
     that Lenovo's Screen Optimization was also setting these keys.  Had to
     [[http://forums.lenovo.com/t5/X-Series-ThinkPad-Laptops/X220-How-do-I-turn-off-screen-orientation-hotkeys/td-p/447575][uninstall it, as recommended here]].

**** Stylus calibration w/ more points than usual
     Originally for fixing the horrible calibration on my IWES x220T, seems
     to work on Lenovo Tablet 2

     make a .bat file that does this:

     tabcal lincal novalidate XGridPts=0,10,20,50,70,90,120,259,400,513,600,767,900,1021,1240,1300,1340,1355,1365 YGridPts=0,10,20,100,163,223,321,479,640,700,740,755,767

**** save battery life: [[Prevent devices from waking out of sleep]]
**** on Fraunhofer IWES thinkpad: get the context menu back
     It's not there on the T440p German keyboard

     But on my SP4, SmartKeys syas it's 

     Special: Application (E0_5D)

     So I mapped the right control key to that in order to use my emacs hydra binding.

*** Sony VAIO Flip 14
**** mousepad middle click

     The Synaptics clicking setting is supposed to allow middle clicking with
     a 3 finger tap, but I can't get it to work.

     So, [[http://www.intowindows.com/how-to-enable-two-finger-tap-for-right-click-in-windows/][Use 3rd party program]] called [[http://code.google.com/p/two-finger-scroll/downloads/list][two-finger-scroll]], which can map gestures
     like 3 fingered tap or 2 fingers + 1 finger to middle click and other
     stuff.  The link says it's compatible with Win8.1 even though the last
     version is 2009.  Anyway, copy it to somewhere (I used Program Files
     (86)) configure it and set it to start with Windows.  I also turned the
     "scroll type" to OFF, in case it interferes w/ the Synaptics driver.

     w/ two-finger-scroll, a 3-finger tap was recognized as both a two
     fingered tap (right click) and a middle button.  So, I set middle click
     to be two fingers + one tap with a third finger.

****** [[http://www.synaptics.com/resources/drivers][new synaptic driver]]?
****** [[http://cybernetnews.com/helpful-tip-middle-click-on-a-touchpad-laptop-mouse/][middle click simulator]]?
**** turn off touchpad edge gestures

     For whatever the current Sony software version is on 7/13/14, after
     entering the VAIO control center, you click on "input device" and there are
     some icons showing touchpad gestures.  You can individually unclick the
     gestures for "show charm" and "switch apps"

**** Won't stay in sleep fix: [[Prevent devices from waking out of sleep]]
     "
*** Surface Book 2
***** Slow WiFi
    From: [[https://windowsreport.com/surface-book-2-slow-wifi/][Surface Book 2 slow Wi-Fi issues {BEST SOLUTIONS}]]

    This worked in Aug 2020 but since then, just rebooting has w/o the commands below also worked:

    In admin cmd promp:

      netsh int ip reset
      netsh int tcp set heuristics disabled
      netsh int tcp set global autotuninglevel=disabled
      netsh int tcp set global rss=enabled

    Then restart

***** Internet and maybe Power fix
    Reinstalling all hardware drivers from [[https://support.microsoft.com/en-us/help/4023482/surface-download-drivers-and-firmware][here]] was recommended for fixing the randomly failing ethernet and WiFi problem.  I think I remember that it was also the fix for the problem with the Surface Dock disconnecting and reconnecting.

    The driver I installed on 9/22/20 was: SurfaceBook2_Win10_ 18362_*_*.msi

    This was on Win10 build 19041; according to the [[https://support.microsoft.com/en-us/help/4023482/surface-download-drivers-and-firmware][instructions]], I should have installed SurfaceBook2_Win10_ 19041_*_*.msi.  But the tech support said 18362, and never answered my question about the discrepancy.

    _I don't know yet if this actually worked_

    *Randomly failing ethernet and WiFi problem*: where the connection randomly switched from ethernet (via Surface dock) to WiFi but then showed that there was no internet connection on the taskbar icon; in fact, the internet connection was actually working (I could browse the web on FireFox) but parts of the OS thought it wasn't, e.g. logging into teams or outlook.  The fix was recommended by MS support (SRX1509219786ID - TS).  Follow the many messages on this [[https://mail.google.com/mail/u/0/#sent/FMfcgxwJXxrwFRzCNVmKbJPKJXqnPfdH][looonnngg email chain]].

* ImageMagick
*** [[http://stackoverflow.com/questions/4481573/how-to-override-windows-convert-command-by-imagemagicks-one][How to override Windows' convert command by ImageMagick's one? - Stack Overflow]]
* <<Pandoc>>
*** [[http://pandoc.org/MANUAL.html][Pandoc - Pandoc User’s Guide]]
*** [[org-mode to/from Word using pandoc command line]]
*** I installed pandoc from [[Chocolatey]]

    This resulted in the <<Windows pandoc path>> (to executable):

    'C:\Users\scotto\AppData\Local\Pandoc\'

    And the program is also seen in the standard windows install/uninstall control panel thing.

*** [[http://pandoc.org/installing.html][MikTex recommended for Windows]], (not TexLive, which is supposed to handle unicode?  Note: in 2021, I have up on Windows MikTex, and used TexLive)
*** [[Org to/from MS Word]]
*** Pandoc bibs specified by .csl files (not .sty).  Latest are [[https://www.zotero.org/styles?q=ieee][here]].
*** clickable reference citations
    From [[https://github.com/jgm/pandoc/issues/2560][here]]:

    Put this:
    link-citations: true
    in your YAML metadata. Or use
    --metadata link-citations
    on the pandoc command line

*** [[http://pandoc.org/getting-started.html][Pandoc - Getting started with pandoc]]
*** also [[jupytext]] is a similar idea for programming languages
* Redmine
*** [[org-mode redmine interfaces]]
* Airport Express
*** My used Apple AirPort Express Base Station - A1088
***** install Apple's Airport Utility
***** switching APE  off channel 13 (illegal in US, so my Windows SP3 couldn't see it)

      Followed instructions from [[http://edgylogic.com/driveactivated/get-windows-to-find-your-apple-airport-extreme/][here]], had to do it on my IWES work laptop
      b/c my SP3 locale was set to US, and this kept the wireless changes
      in ranges 1-11.

***** in utility, add it to existing network as a client
***** I had to manually enter my existing WiFi modem name b/c it couldn't find it
* <<Windows>>
*** Configuring Windows on a new machine

    For the username 'scott', the starting points are:

      c:\Users\scott\
      c:\Users\scott\OneDrive

    After signing up for the work OneDrive for business

      c:\Users\scott\OneDrive - Clean Power Research

    This folder should have shared stuff in its 'ref' dir

    Make c:\Users\scott emacs HOME and make the corresponding symb links:     
    In a cmd.exe w/ admin permissions:

      cd C:\Users\scott
      mklink scotto /D OneDrive\scotto

      mklink //D ref "c:\Users\scott\OneDrive - Clean Power Research\ref"
      mklink .emacs ref\/.emacs
      # really? mklink /D Desktop OneDrive\Desktop
      mklink /D Downloads OneDrive\Downloads

    Install choco to get emacs, basic progs, and MSYS2 linux tools
    Firefox setup
    Install MSYS2 tools and progs
    Remap ctrl/capslock in powertoys (from choco)
    autoraise delay
    Windows Terminal
    Drawboard

    Put msys2 binaries on front of user path:
    
    C:\tools\msys64
    C:\tools\msys64\usr\bin

    After installing anaconda put it on the front of path. See [[Anaconda Paths]]

*** [[http://www.burningcutlery.com/derek/winsetup/][Making Windows usable]]
*** <<Windows environment variables: displaying>>
    From: [[http://windowsitpro.com/powershell/powershell-one-liner-getting-local-environment-variables][here]]

    In powershell
      
    all: 

    Get-ChildItem Env:

    a particular environment variable e.g. PATH

    Get-ChildItem Env:PATH

*** <<Linux on Windows>>
***** <<Msys2>>

      Alternative to cygwin, seems easier to install?

      *Installation*

      choco install msys2
    
      Add the following to END of the PATH environment variable:

        c:\tools\msys64\usr\bin
        c:\tools\msys64\usr\local\bin

      (choco inself adds c:\tools\msys64 , which allows you to start mingw64.exe
      (put it at the end so that anaconda python, etc. is the default executable)
      
      Install diff, etc. using msys2's package manager

        pacman -S base-devel
        pacman -S unzip

      To _update all packages_, in an admin command shell:

        pacman -Syu  [may need to do it several times until everything is rebuilt]

      If it can't unlock databases, do:

        del C:\tools\msys64\var\lib\pacman\db.lck

      Also note: [[Mysys2 Emacs]]
    
***** <<WSL>>: Windows System Linux
      This is about using Windows 10 with e.g. Ubuntu Bash
******* Install wsl2
********* installing from Windows Store (MS recommended)
*********** [[https://devblogs.microsoft.com/commandline/a-preview-of-wsl-in-the-microsoft-store-is-now-available/][A preview of WSL in the Microsoft Store is now available! - Windows Command Line]]
*********** I just installed Ubuntu (unversioned) from windows store, didn't follow the distro link in the article above
******* [[https://www.howtogeek.com/265900/everything-you-can-do-with-windows-10s-new-bash-shell/][Everything You Can Do With Windows 10’s New Bash Shell]]
******* TODO Emacs on WSL
********* installing on ubuntu
*********** [[https://itsfoss.com/install-emacs-ubuntu/][How to Install Emacs on Ubuntu Linux]] (got emacs 27.1, in Nov 2022)
*********** TRY [[https://ubuntuhandbook.org/index.php/2022/06/install-gnu-emacs-28-1-ubuntu-22-04-20-04/][How to Install GNU Emacs 28.1 in Ubuntu]]
********* Several ways, PPA Repository may be easiest & best

After updating to latest WSL2 (wsl --update) PPA runs graphical emacs,
but startup is much slower than emacs -nw.  This is without loading my
big .emacs file.

*********** swap caps/ctrl on linux, so emacs is usable
*********** get font size right.  On Surface Laptop Studio, they are tiny 
*********** [[https://linuxhint.com/ubuntu_emacs_installation/][Emacs download and installation on Ubuntu]]
*********** out of box, PPA install does emacs -nw fine

********* [[https://github.com/hubisan/emacs-wsl][hubisan/emacs-wsl: Install and run emacs with the Windows Subsystem]]
********* [[https://utf9k.net/blog/emacs-wsl2-install/][Setting up Emacs inside of a WSL2 distribution]]
********* <<Emacs 25 on Ubunto 16.10>> (what's available on LoW in May, 2017)
          From: [[https://askubuntu.com/questions/851633/emacs-25-on-ubuntu-16-10][apt - Emacs 25 on Ubuntu 16.10? - Ask Ubuntu]]

          sudo add-apt-repository ppa:kelleyk/emacs
          sudo apt-get update
          sudo apt-get install emacs25
******* [[https://www.howtogeek.com/261575/how-to-run-graphical-linux-desktop-applications-from-windows-10s-bash-shell/][How to Run Graphical Linux Desktop Applications from Windows 10’s Bash Shell]]
******* [[https://www.youtube.com/watch?v=b1YBx1L8op4][Windows 11 runs Graphical Linux Apps out of the box with WSLg - YouTube]]
******* Running Linux window mgr. on windows, .bashrc for DISPLAY env var
        From: [[http://www.zdnet.com/article/how-to-run-run-the-native-ubuntu-desktop-on-windows-10/][​How to run the native Ubuntu desktop on Windows 10 | ZDNet]]

        Put in .bashrc so can run X-version of emacs
      
        echo "export DISPLAY=:0.0" >> ~/.bashrc

******* how to run linux commands from windows: bash -c "ls"
        From: [[https://www.howtogeek.com/262086/how-to-run-linux-commands-from-outside-the-bash-shell-on-windows-10/][How to Run Linux Commands From Outside the Bash Shell on Windows 10]]

        bash -c "DISPLAY=:0 emacs"

******* Shared Windows/WSL project folder
********* WSL2 perf. penalty for Windows folders: [[https://docs.microsoft.com/en-us/windows/wsl/compare-versions][Comparing WSL 2 and WSL 1]]
********* [[https://dev.to/vetswhocode/sharing-your-project-folder-with-windows-and-wsl-cg][Sharing your project folder with Windows and WSL (has perf. penalty?)]] 

******* See also: [[Linux/Unix]]
***** Cygwin
      must install cygwin first, of course
******* if install 64 bit, make symbolic link:  c:/cygwin64 --> c:/cygwin

        cd c:/
        mklink /D cygwin cygwin64

******* mount drive letters (do this first)

        In cygwin term:

        mkdir /b; mount b: /b
        mkdir /c; mount c: /c
        mkdir /d; mount d: /d
        mkdir /e; mount e: /e

        and so on....

        Some of this was already done by the installer.  To cd in cygwin:

        $ cd c:

        $ ls
        $Recycle.Bin                 PerfLogs                   Windows
        DRIVERS                      Program Files              cygwin
        Documents and Settings       Program Files (x86)        hiberfil.sys
        Dokumente und Einstellungen  ProgramData                msdia80.dll
        IDE                          Programme                  pagefile.sys
        ITMTranslation.txt           Recovery                   setup.log
        Intel                        SWTOOLS                    spin
        MSOCache                     System Volume Information
        Novell                       Users

        Can see this was done by installer.  Just after cygwin install,
        go to cygwin window and type:

        $ mount
        C:/cygwin/bin on /usr/bin type ntfs (binary,auto)
        C:/cygwin/lib on /usr/lib type ntfs (binary,auto)
        C:/cygwin on / type ntfs (binary,auto)
        B: on /cygdrive/b type ntfs (binary,posix=0,user,noumount,auto)
        C: on /cygdrive/c type ntfs (binary,posix=0,user,noumount,auto)
        I: on /cygdrive/i type ncfsd (binary,posix=0,user,noumount,auto)
        J: on /cygdrive/j type ncfsd (binary,posix=0,user,noumount,auto)
        K: on /cygdrive/k type ncfsd (binary,posix=0,user,noumount,auto)
        N: on /cygdrive/n type ncfsd (binary,posix=0,user,noumount,auto)
        Q: on /cygdrive/q type ncfsd (binary,posix=0,user,noumount,auto)
        R: on /cygdrive/r type ncfsd (binary,posix=0,user,noumount,auto)

        _However_ ls /c: and stuff doesn't work so need to run mount
        commands above, after which it looks like this:

        $ mount
        C:/cygwin/bin on /usr/bin type ntfs (binary,auto)
        C:/cygwin/lib on /usr/lib type ntfs (binary,auto)
        C:/cygwin on / type ntfs (binary,auto)
        B: on /b type ntfs (binary,user)
        C: on /c type ntfs (binary,user)
        I: on /i type ncfsd (binary,notexec,user)
        J: on /j type ncfsd (binary,notexec,user)
        K: on /k type ncfsd (binary,notexec,user)
        N: on /n type ncfsd (binary,notexec,user)
        Q: on /q type ncfsd (binary,notexec,user)
        R: on /r type ncfsd (binary,notexec,user)

******* windows path points to cygwin bins

        Control Panel|System|Advanced|Environment Variables
        set PATH to C:\cygwin\bin (can add others later, separated by ';')

******* emacs points to windows home (do _after_ drive letter mount)

        Control Panel|System|Advanced|Environment Variables
        set user env var HOME to C:\Users\sotterson\home

******* make cygwin homedir same as Windows homedir

        *MAYBE THIS ISN'T NECESSARY ANYMORE*
        (on windows8, setting HOME was enough)

        on my 1st IWES laptop (necessary on others??)

        edit /etc/passwd to point to /c/Users/sotterson/home

        On my 2nd IWES laptop, it was already set up correctly i.e.

        /etc/passwd was pointing to /home/sotterson

        which seemed to do the right thing.  Maybe because I had the
        HOME environment variable set?

******* cygwin xterminal
********* must install X11 (not installed by default)
********* xterm

          install term package
          in cygwin term"
          $ mkpasswd -l > /etc/passwd
          $ mkgroup -l > /etc/group
          $ /etc/postinstall/man.sh.done


          Install Xming and start it (on my own laptop, I might have xwin32?)

          Start xterm either like this:

          $ xterm -display localhost:0

          or by creating a desktop shortcut with this target (then clicking on
          it)

          C:\cygwin\bin\run.exe -p /usr/X11R6/bin xterm -display 127.0.0.1:0.0 -ls

          Inside the xterm, start your X-based program (lyx, texmacs,...).  Emacs
          still starts up in text mode, though... not sure why.

********* rxvt (latest cygwin terminal might be as good as this one)
********* [[http://c2.com/cgi/wiki%3FBetterCygwinTerminal][rxvt]] was nicer than cygwin window (but not better than xterm?)
********* must install the package
********* then rxvt is available on the windows menu, in native and x flavors
********* mintty (or something like that) now default, better than rxvt?
******* <<turn off cygwin DOS warning>>
********* fix

          set the Windows environment variable (System, not user):

          CYGWIN=nodosfilewarning

          Another CYGWIN fix to do: [[windows-understandable%20symlinks][windows-understandable symlinks]]

********* See this warning when do ediff from emacs:

          Cygwin warning which screws up emacs:

          MS-DOS style path detected: c:\Users\SOTTER~1\AppData\Local\Temp\.emacs.gnu
          Preferred POSIX equivalent is: /cygdrive/c/Users/SOTTER~1/AppData/Local/Temp/.emacs.gnu
          CYGWIN environment variable option "nodosfilewarning" turns off this warning.
          Consult the user's guide for more details about POSIX paths:
          http://cygwin.com/cygwin-ug-net/using.html#using-pathnames
******* force cygwin to make <<windows-understandable symlinks>>

        Add "winsymlinks" to CYGWIN environment variable.  This makes cygwin
        create symlinks differently, in a form that is understood both by it
        and by Windows.  What it really does is make cygwin ln -s commands
        produce the

        *.lnk

        shortcut files that windows knows how to understand.  This works for
        windows and cygwin but not for emacsw32, which sees the .lnk
        extension and can't figure out how to follow it.  I can add a couple
        hacks in my .emacs files so that info from cygwin ls is used to
        properly display the link, but again, emacs can't follow it.  Since emacs couldn't follow the orignal cygwin link either, there's no
        loss, and this is a small step forward.

        o I added it to the windows system CYGWIN enviroment variable (which
        also had nodosfilewarning in it, see [[turn off cygwin DOS warning]])

        o But could also do it in .bashrc
        export CYGWIN="nodosfilewarning winsymlinks"

        From: http://blog.zzamboni.org/making-cygwin-windows-and-emacs-understand-th

******* fix unable to remap to same address as parent
        Showed up when I tried to do an svn checkout with an ssh tunnel.

        The fix ([[http://www.mylifestartingup.com/2009/04/fatal-error-unable-to-remap-to-same.html][semi-complete inspiration]]):

        1. kill all cygwin windows and procs (I just rebooted)
        2. windows search for ash, then run as admin
        3. /bin/rebaseall -v
        4. reboot

        There was a problem w/ some Temp file in my userdir not being
        writeable.  To fix, I right clicked on the folder in windows explorer
        and changed the owner from admin to me.  This was the same procedure
        as for [[Windows .emacs.d problem]]
***** [[Emacs on WSL2]]
*** [[Windows Emacs]]
*** <<Windows links>>
***** <<Windows symbolic links>>

      (example: link to dropbox DTU directory, .emacs files)  These are
      understood by cygwin, windows and emacs so they're the most general.
      They're different than windows shortcuts, which end in a .lnk extension
      and joins (I think) which delete the source file if you delete the
      link.  Windows symlinks do this.

******* command line
        open cmd.exe as administrator
        mklink /D DTU c:\Users\Scott\OneDrive\shareHW\DTU

        Remove /D to link individual files.  Also, for some reason, this works
        when file links are done straight through emacs command window (dos
        shell).  After CD'ing to the folder pointed to by the HOME
        envirnoment variable:

        mklink .emacs.gnu c:\Users\Scott\OneDrive\shareHW\config\.emacs.gnu
        mklink .emacs.xemacs c:\Users\Scott\OneDrive\shareHW\config\.emacs.xemacs
        mklink .emacs c:\Users\Scott\OneDrive\shareHW\config\.emacs

        *Note* to make the links followable, it may be necessary to change
        ownership from admin (what the default seems to be when created w/
        mklink) to scot, scotto, sotterson, or whatever my windows username
        is.   This is the same procedure as for [[Windows .emacs.d problem]]

******* shareHW link in homedir

        mklink /D shareHW w:\OneDrive\shareHW

******* Downloads dir link in homedir
******* Desktop dir link in homedir

******* <<SkyShellEx>>, a [[SkyDrive]] specific symbolic linker

        From:  [[http://www.techrepublic.com/blog/smbit/how-skyshellex-makes-the-skydrive-cloud-desktop-client-easier-to-use/841?tag%3Dnl.e064&s_cid%3De064&ttag%3De064][SkyShellEx]]

        This is just a convenience.  I think you could do the same quick a way
        to avoid command lines.

***** <<Windows shortcuts (links)>>
      From: [[https://www.thurrott.com/windows/windows-10/5328/windows-10-tip-create-shortcuts-for-universal-apps][Windows 10 Tip: Create Shortcuts for Universal Apps - Thurrott.com]]

      This works for both UWP and standard, non-universal apps

      1. (WINKEY + R), type shell:AppsFolder
      2. right click on app you want to create a shortcut for
      3. choose "creat shortcut"

*** Starting programs with keyboard shortcut

    *Traditional Windows programs*
    o right click on program icon
    o properties
    o shortcut

    *UWP apps*
    o must 1st creat an icon for it on desktop e.g. by dragging from start menu
    o then follow procedure for traditional programs

*** Remove startup cmdlets from powershell
    
    How to remove a cmdlet that runs everytime a powershell window starts.

    Remove the offending command from 
    
    C:\Users\Scott\Documents\WindowsPowerShell\profile.ps1

    or just remove the entire file.

    *Why*: Anaconda somehow inserted a commandlet into powershell that runs whenever I started it.  When I reinstalled Anaconda, the script referred to stuff that was no longer there, causing a red text error message each time I started a powershell window.

*** Windows package manager
***** <<Chocolatey>> ([[https://chocolatey.org/][Chocolatey - The package manager for Windows]])

      Installing a package, in a powershell (in admin mode, see [[Installing Chocolatey]])

      choco install <package name>

******* Where choco installs packages

        pandoc goes, for example, here:

        'C:\Users\scotto\AppData\Local\Pandoc\'
******* Packages: [[https://chocolatey.org/packages][Chocolatey Gallery | Packages]]
******* <<Installing Chocolatey>>
        From: [[https://mspoweruser.com/windows-10-tip-using-package-manager/][Windows 10 Tip: Using a package manager]]
        [[https://chocolatey.org/install][Chocolatey Installation]]

        In *admin* powershell

        _Set permissions by running_

        Set-ExecutionPolicy -ExecutionPolicy RemoteSigned

        _Install_

        iwr https://chocolatey.org/install.ps1 -UseBasicParsing | iex

        Optionally run (in admin powershell):

        choco feature enable -n allowGlobalConfirmation

        This removes the need to confirm a bunch of things. The need to confirm seeemed to be hanging up installation of pandoc, for some reason.

******* Upgrading all Chocolatey packages

        choco upgrade all

******* List installed packages

          choco list --local-only

        Or:

          clist -l

******* Copy choco install from one Windows machine to another
        From: [[https://stackoverflow.com/questions/43167087/how-to-get-a-list-of-packages-from-one-machine-and-install-in-another-with-choco][How to get a list of packages from one machine and install in another with Ch...]]

        _On Source Machine_

        $packageXml = ''
choco list -lo -r | % { $_ -split '\|' | select -first 1 } | % { $packageXml += "`n`t<package id=""$_"" />" }
Set-Content "<?xml version=`"1.0`" encoding=`"utf-8`"?>`n<packages>$packageXml`n</packages>" -Path .\packages.config

        _On New Target Machine_

        Copy over the packages.config file and then run:

          choco install packages.config

***** Windows package management overviews
******* Chocolatey says use Chocolatey, not OneGet:  [[https://chocolatey.org/faq#how-is-chocolatey-different-than-onegetpowershell-package-management][ChocolateyFAQs]]
******* [[https://stackoverflow.com/questions/37823964/whats-the-difference-between-chocolatey-oneget-psget-nuget][powershell - What's the difference between Chocolatey, OneGet, PsGet, NuGet, ...]]
******* [[https://www.hanselman.com/blog/AptGetForWindowsOneGetAndChocolateyOnWindows10.aspx][Apt-Get for Windows - OneGet and Chocolatey on Windows 10 - Scott Hanselman]]
******* could use it to install ripgrep: [[https://github.com/BurntSushi/ripgrep][GitHub - BurntSushi/ripgrep: ripgrep combines the usability of The Silver Sea...]]
******* [[https://blogs.technet.microsoft.com/packagemanagement/2015/05/05/10-things-about-oneget-that-are-completely-different-than-you-think/][10 things about OneGet that are completely different than you think. – Packag...]] (OneGet works on Windows 7 too)

*** Windows Explorer "send to" menu

    From [[http://www.howtogeek.com/howto/windows-vista/customize-the-windows-vista-send-to-menu/][here]]:

    Paste this into Windows Explorer top address/URL bar:

    %APPDATA%\Microsoft\Windows\SendTo

    Drag the folder/app or whatever to the SendTo window in Window Explorer

*** Windows Explorer checkboxes
    From [[http://www.howtogeek.com/howto/7888/how-to-enable-check-boxes-in-explorer-in-windows-7/][here]]:

    1. start button
    2. Folder Options (Ordneroptionen)
    3. View (ansicht)
    4. Tick ".. use check boxes..." ("... kontrollkästchen...")

*** Retrieve Windows Explorer Metro icon on Start Screen

    Bug: Start screen has only the IE desktop version icon.

    [[http://www.askvg.com/fix-internet-explorer-tile-missing-from-windows-8-start-screen-or-metro-ie-doesnt-start/][Solution]]: just set the file association back to IE.  Apparently, the
    metro tile disappears when you install some other browser.

*** <<Remote Desktop Connection (RDP)>>
***** getting rid of floating connection bar at top of screen
      From [[https://answers.microsoft.com/en-us/windows/forum/all/change-windows-rdp-connection-bar-position/d1c3e9cd-36e0-4b94-9cde-b2f7f44b7224][here]]:
      
      On remote connection popup, go to display tab, go to bottom, untick "display the connection bar when I use the full screen"
      
***** local/remote switching keys (when connection bar hidden)

    From [[https://docs.microsoft.com/en-us/windows/win32/termserv/terminal-services-shortcut-keys][here]]
    | Shortcut key      | Description                                                   |
    |-------------------+---------------------------------------------------------------|
    | CTRL+ALT+HOME     | Activates the connection bar.                                 |
    |-------------------+---------------------------------------------------------------|
    | CTRL+ALT+BREAK    | Switches the client between full-screen mode and window mode. |
    | CTRL+ALT+PAUSE    | alternative                                                   |
    | CTRL+ALT+PRTSCN   | alternative                                                   |
    | CTRL+ALT+FN+SCRLK | alternative                                                   |

    If none of the alternatives work, press CTRL+ALT+HOME, TAB, TAB, TAB, TAB, TAB, ENTER. This activates the connection bar, and then presses the Restore down button.

***** rebooting remote machine

    From [[https://docs.microsoft.com/en-us/windows/win32/termserv/terminal-services-shortcut-keys][here]]
    | Shortcut key | Description                        |
    |--------------+------------------------------------|
    | CTRL+ALT+END | like CTRL+ALT+DEL on local machine |

***** Hack to fix hanging remote connection (UDP disable)
      From [[https://superuser.com/a/1532607/1250395][here]]

The recommended one of the three possible ways to do it, disabling UDP, so only TDP is used:

 On client: Local Group Policy Editor ([[https://www.top-password.com/blog/open-local-group-policy-editor-in-windows-10/][admin window, type gpedit]])
 → Local Computer Policy
 → Computer Configuration
 → Administrative Templates
 → Windows Components
 → Remote Desktop Services
 → Remote Desktop Connection Client
 → Turn Off UDP On Client
       → Enabled

*** System Tools
***** sysinternals

      A collection of mainly commandline based Windows system analysis tools.

      In a terminal

        nirlauncher.exe /Sysinternals

******* [[https://docs.microsoft.com/en-us/sysinternals/downloads/][Sysinternals Utilities - Windows Sysinternals | Microsoft Docs]]
******* installation:  two packages from choco

          systinternals
          nirlauncher (so can get graphical display)

***** Belarc advisor
      [[https://www.belarc.com/products_belarc_advisor][Products: Belarc Advisor]]

      Displays hardware/software config, can be installed from choco

*** Consoles
***** Better than cmd.exe: [[https://github.com/Maximus5/ConEmu][ConEmu: Customizable Windows terminal with tabs, splits...]]
***** Enhanced ConEmu, easy to install: [[http://cmder.net/][cmder | Console Emulator]]

      doesn't have an installer so I put it in ~/bin/cmdr and then make a mklink to ~/bin 

      But that had problems w/ updating a file in its config dir

      And I was not able to set a path directly to the executable in its origional directory.  I don't understand why, because I was able to set a path to %HOME%\bin

*** OS and data partitions
***** [[http://www.zdnet.com/dont-move-your-windows-user-profiles-folder-to-another-drive-7000022142/?s_cid%3De064&ttag%3De064][Don't move your Windows user profiles folder to another drive]]
*** Windows multi monitors, desktops and windows
***** Multiple Desktops on Windows

      Windows 10 has multiple deskopts built-in.

******* Windows 7 multiple desktops

        Multiple desktops not built into Windows 7 but there are several free
        hacks.  I tried [[http://dexpot.en.softonic.com/][dexpot]] (but be sure to let windows security essentials
        remove the adware it installs).

********* [[http://code.google.com/p/mdesktop/][mdesktop]] (most simple, well liked?)
********* [[http://dexpot.en.softonic.com/][dexpot]] (seems to be the [[http://downloadsquad.switched.com/2010/04/19/dexpot-virtual-desktop-windows-7-taskbar-thumbnails-superbar/][most favored]], has aeropeek fancy stuff)
********* [[http://www.sondle.com/resource/multiple-desktops-windows-7.asp][sondle]] (somewhat panned, a bit ugly)
***** Multiple monitors on Windows
******* extend taskbar: right click on graphics properties
********* [[http://zbar.en.softonic.com/][zbar]] (not needed b/c windows 7 just handles this?)
          lets you extend taskbar across multiple monitors (might be nice?)
******* move taskbar of laptop to big monitor
        [[http://www.pcmag.com/article2/0,2817,1632004,00.asp][Supposedly]], you can unlock it and then drag it to the monitor.  This
        worked once on Windows 7 and then my taskbar disappeared!
******* using Surface Go/Pro as extra monitor connected by WiFi
        From: [[https://www.youtube.com/watch?v=K3WaeHpipwk&feature=emb_rel_end][Use your Surface as a second screen]] and experimentation

        Using built-in Surface Miracast

        _Surface Go/Pro setup_
        o install Wireless Display Feature
          o settings:Projecting to this PC
          o follow link/instructions to install optional "Wireless Display" function
        o Win+k (or connect action center button)
        o Project to this PC
        o make sure "available everywhere...." is selected


        Surface Pro
        o Win+k
        o connect to the Surface Go, which should be listed

        DOESN'T WORK, as of March 2020, although it used to.  I don't see the Surface Go icon.

***** Window manipulation on Windows
******* window vertical maximize

        Vertical maximize in one of two ways:

        1. drag the top _edge_ of the window to the top of the screen
        2. double click on _bottom_ edge of window.

        Restore to previous size in one of two ways:

        1. Double clicking on the top of the window
        2. Drag window from top of screen

******* Window focus follows mouse + autoraise

        _Windows 11_:

        Winaero Tweaker --> XMouse Options
          click Enable window tracking (I set activation time out to 750)
          click Enable window raising

        _Windows 10_:

        Control Panel\Ease of Access\Ease of Access Center\Make the mouse easier to use

        click: "Activate a window by hovering over it with the mouse".

        - set autoraise delay: 500 ms seemed OK
          - Install: [[https://winaero.com/][Winaero Tweaker]] (choco install winaero-tweaker)

            Go to =Xmouse Options= and set =Windows Activation Timeout=

          - Obsolete: [[https://joelpurra.com/projects/X-Mouse_Controls/][X-Mouse Controls]] (works but not installable on SP4)
            (different than [[https://www.highrez.co.uk/downloads/xmousebuttoncontrol.htm][X-mouse Button Control]], which only does buttons, and which I don't need)
            Not installable: ON SP4, I put it in: ~\bin\x-mouse_controls_2010-04-03_1155_release

        - This also fixes the alt-Tab mouse focus proble

        - m too
          - Before:
            - mouse on fullscreen window, far away from window underneath
            - alt-Tab
            - cursor not switched to underlying window, and therefore it immediately disappears
          - After: cursor is correctly switched to new window after alt-Tab: no problems, no need to move mouse again.

********* Windows 7 focus follows mouse + autoraise

          *DELAY NO LONGER WORKS on Windows 10 (creators edition, April 2017):*

          The delay requires reg tweaking (or a third party program). The key is:

          HKEY_CURRENT_USER\Control Panel\Mouse\ActiveWndTrkTimeout

          Change 'Base' to Decimal and put in 750 as the 'Value Data' (this is
          miliseconds).   

          (WIN 10 creators: I tried to make this variable since it wasn't there (there was another key w/ a similar name but this had no effect).

          Then restart.

          From [[http://superuser.com/questions/63999/setting-focus-auto-raise-and-focus-auto-raise-delay-in-windows-7][here]].

          Also, 3 options in:
          [[http://www.sevenforums.com/tutorials/9000-mouse-hover-makes-window-active-enable.html][How to Activate a Window by Hovering Over it with the Mouse Pointer]]

******* Windows snapping
        From: [[https://www.techrepublic.com/article/how-to-juggle-multiple-apps-in-windows/?ftag=TREe331754&bhid=22027677217996064763852163069924][How to juggle multiple apps in Windows]]

        _Snap 2 Windows_

        Mouse: Drag title bars to L and R
        Keyboard: Win+R or Win+L

        _Snap 3 Windows_ (2 short on R, 1 tall on L.  Can reverse for mirror img)

        o start with either method to _Snap 2 Windows_               
        o use Win+up, Win+down on whichever window you want split vertically
        o window 3: select from the thumbnais on the left.  Done.
                                                                   
        OR                                                           
                                                                   
        o pure keyboard approach                                   
        o select window 1: Win+right, Win+up                     
        o select window 2: Win+right, Win+down                   
        o select window 3: from the thumbnais on the left.  Done.

        _Snap 4 Windows_ (4 equal sized rectangles)
        o Same as Snap 3 Windows, then...                        
        o Win+up on window 3                                     
        o select window 4: from the thumbnais on the left.  Done.

        _Undoing snap sizes_
        o mouse: drag away
        o keyboard: Win key in opposite direction of the last Win key used on window

*** <<screen rotation shortcut undo>>

    right-alt arrow keys are used by emacs org mode, screws up emacs org
    mode bindings.  Fix is to:

    right click on desktop,
    go to graphics properties
    go to hotkeys
    click disable (for some video cards, maybe nVidia on IWES Lenovo laptop?)

*** Delay after sleep before requiring login

    How to prevent Windows 10 from requiring a log in immediately after going to sleep 
    (super annoying when taking notes during a meeting).

***** DelayLockInterval [[https://buzzantique.eu/windows-hello-is-preventing-some-options-from-being-shown/][regedit mod]] (gets wiped out, but works)

      o regedit
      o HKEY_CURRENT_USER » Control Panel » Desktop and modify the value for DelayLockInterval. 
      o Tick decimal base 
      o enter seconds of delay e.g. 300 for 5 minutes

      _If there is some admin error message, do this (I didn't need to)_
      o run gpedit.msc (admin priv)
      o Computer Configuration » Administrative Templates » Windows Components » Data Collection and Preview Builds and open Allow Telemetry
      o enable it
      o select "3 - Full"
      o re-allow 

      _This setting gets wiped out is several circumstances_
      o every time you revisit  Sign-in options (Settings » Accounts » Sign-in options.
      o June Windows update wiped out this setting
      o it wasn't transferred to my new Surface Pro, so I had to reset it

*** Display Windows environment variables in PowerShell w/o truncation

    gci env: | Format-Table -Wrap -AutoSize

*** Emacs bash-style shortcuts in Powershell
    From: [[https://stackoverflow.com/questions/43295639/update-powershell-keyboard-bindings-to-be-emacs-style-like-bash-shell][Update powershell keyboard bindings to be emacs style like bash shell]]

    You can download [[https://github.com/PowerShell/PSReadLine][ PowerShell/PSReadLine]] to give emacs keybindings to powershell.  This would help for a bare Windows Powershell; it's not needed inside of emacs w/ powershell package.  

    In PSReadLine readline setting: set the EditMode option to Emacs:

    Set-PSReadLineOption -EditMode Emacs

*** tasklist/taskkill (like Unix 'ps', and 'kill')

    The tasklist command is designed to provide information about the tasks
    that are running on a Windows 7 system. At its most basic, you can enter
    the following command:

    tasklist

    The tasklist command has numerous optional switches, but there are a couple
    I want to mention. One is the -m switch, which causes tasklist to display all the DLL modules associated with a task. The other is the -svc switch,
    which lists the services that support each task. Here’s how they look:

    tasklist -m
    tasklist -svc

    Taskkill

    The taskkill command terminates a task, either by name (which is referred
    to as the image name) or by process ID. The syntax for this command is
    simple. You must follow the taskkill command with -pid (process ID) or -im
    (image name) and the name or process ID of the task that you want to
    terminate. Here are two examples of how this command works:

    taskkill -pid 4104
    taskkill -im iexplore.exe

*** password: [[http://www.howtogeek.com/howto/21564/change-the-length-of-time-when-users-need-to-change-their-login-password/][delay password expiration or never expire]]
    start
    secpol.msc
    account policies
    password policies
    maximum password age: adust larger or set it to zero for no expiration

*** single click opens stuff

    *Windows 11*
    Windows Explorer --> "..." --> Options ---> Change folder and search options

    *Windows 10*
    Windows Explorer --> View tab --> Options ---> Change folder and search options

    *Windows 8*
    [[http://www.eightforums.com/tutorials/4067-folder-options-open-windows-8-a.html][How to Open Folder Options in Windows 8]]
    easiest: Windows Explorer --> View tab --> Change folder and search options

    *Windows 7*
    o windows explorer
    o computer
    o alt-f
    o tools
    o Folder options
    o tick: "single click to open an item" ...
    (I selected to underline only when I point at them)

    Fix was inspired by [[http://www.lytebyte.com/2009/06/09/how-to-change-double-click-to-single-click-mouse-selection-in-vista-and-windows-7/][this]]

*** [[http://www.winhelponline.com/blog/calendar-gadget-sidebar-blank-orange-background/][fix blank calendar gadget]]

    Open an Admin Command Prompt window. To do so, click Start, click All
    Programs, click Accessories, right-click Command Prompt, and then click
    Run as Administrator.

    Type the following command and press ENTER:

    regsvr32.exe vbscript.dll

    Then restart windows.
*** <<Pasting a VPN on Windows desktop/taskbar/start menu>>
***** VPN settings on start menu
      settings --> Network & Internet 
      --> right click on VPN (lhs of screen) --> Pin to Start
***** VPN connection on Network slideout (usually wifi symbol) taskbar button

      After you've created a VPN connection, it shows up on the right slideout bar, when you click the network taskbar button.

      Click on it, and it will make the VPN connection.

***** VPN settings on destop shortcut (general, not a specific connection)
      From: [[https://www.computerworld.com/article/3218116/how-to-make-shortcuts-to-windows-10-settings-on-your-desktop.html][How to make shortcuts to Windows 10 settings on your Desktop]]

      o right click on desktop --> Shortcut
      o paste ms-settings:network-vpn as the location
      o can change the link name too, if you want

      See the web page for many other Settings shortcut codes
***** VPN connection on taskbar
******* [[https://vpnmyway.wordpress.com/version-history-download/][VPNMyWay is supposed to put the connection on the taskbar]]
*** Windows Explorer tickboxes
    [[http://www.howtogeek.com/howto/7888/how-to-enable-check-boxes-in-explorer-in-windows-7/][How to add them]]:
    o windows key
    o type "folder options"
    o view tab
    o click "use check boxes to select items:
*** running unix-style #!/*/* scripts on windows: [[http://whitescreen.nicolaas.net/programming/windows-shebangs][Windows shebangs]]
*** [[http://www.techrepublic.com/blog/window-on-windows/add-the-copy-to-and-move-to-folder-commands-to-the-windows-explorer-context-menu/2438][add]] "copy/move to" to windows explorer menu
*** [[Lyx]]
*** natural language search in windows explorer

    See [[http://www.techrepublic.com/blog/window-on-windows/enable-natural-language-search-in-windows-7-to-produce-better-results/5162?tag%3Dnl.e064][this]].

*** index more file types in windows search

    windows start
    Indexing Options (in search window)
    Advanced options
    File Types
    add
    may need to click the "index Properties and File Contents" control

    also can go through existing file types and make their contents
    scannable by clicking on "index Properties and File Contents"
    control.  e.g. I did this for pdfs.

*** Turn off default beep
    This is the one that comes up when I mistype stuff.  Happens way too often.

    Windows 11, from [[https://medium.com/microsoft-student-champs-sri-lanka/disable-windows-11-alert-sounds-238d92445d01#id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6Ijk4NmVlOWEzYjc1MjBiNDk0ZGY1NGZlMzJlM2U1YzRjYTY4NWM4OWQiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJuYmYiOjE2Nzk2MDI1OTQsImF1ZCI6IjIxNjI5NjAzNTgzNC1rMWs2cWUwNjBzMnRwMmEyamFtNGxqZGNtczAwc3R0Zy5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsInN1YiI6IjEwNjY2MzM1MzgyOTcwNzIwMTEzOSIsImhkIjoic2hhcnBsZWFmLm9yZyIsImVtYWlsIjoic2NvdHRvQHNoYXJwbGVhZi5vcmciLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiYXpwIjoiMjE2Mjk2MDM1ODM0LWsxazZxZTA2MHMydHAyYTJqYW00bGpkY21zMDBzdHRnLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwibmFtZSI6IlNjb3R0IE90dGVyc29uIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FHTm15eGJnTWQtQU1ZcnBRTXR2cVB1UEhZSXdTcmtYQ0pkenlUQWFiM010PXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IlNjb3R0IiwiZmFtaWx5X25hbWUiOiJPdHRlcnNvbiIsImlhdCI6MTY3OTYwMjg5NCwiZXhwIjoxNjc5NjA2NDk0LCJqdGkiOiIwYjNkNTljMWZjZjE2OWFlYTZhN2UyMDhhNDNkMjMxZmM2MjcwZTlkIn0.mvsHCRNvXUJq4MILbO4yCtcA_Tw1b7fNHdjqWQ4AncByiTeJltVq6RQfUE_qTqWXVQAyg9KDcOgReYC8IuBN2dppsb-VFzcGpPa3s2WqUB9cvmPRyi4mB9ljQIhz1YmZCS98-Z6zf9jnR3uquw7A9kWchKF8mn14u8J4PBybadx21nMvmWxhLBKFiX1JjH58AdvEJPp5o1weFYpxsecVkJI1BKF3xmA2nTiRwexuHPs1vpW3yTHH1H4ZFIQfdNLkZ-SjGoe2lZwafU876OPhBKeWEGEwUdtnsI3qWLnrH_eF2m3hWdGUQoLRGPtuI6LFQiWPcEaGGJkJztE3zPPPEQ][here]]:

    Win+R (control panel) -> Hardware and Sound -> Sound -> Sounds

    Then set "Default Beep" to (None)

***** Windows 10
    Windows Key --> Change System Sounds --> Default Beep 

    --> Select (None) in Sounds menu below
    
*** Bluetooth
***** Connecting w/ Logitech Audio Adapter (Bluetooth)

      If windows connection fails, make sure that other BT things aren't
      connected to the adapter (like a cellphone).  Must *disconnect* them, not
      just turn their BT power off.  Also, it seems that sometimes, windows
      gets connection errors if the BT power is also not turned off.

******* to pair a new device, hold button down on adapter.  A long time, until in blinks, I had to try several times
******* convincing Windows to play out of the Creative USB dongle

        Problem was that USB dongle wasn't the default playback device, so
        the SP3 speakers had priority, and were picked when there were two
        options.

        Setting playback device priority to Creative BT dongle:
********* [[http://ask-leo.com/how_do_i_get_sound_out_of_the_correct_speakers_in_windows_7_and_vista.html][priority on Windows 7]]
********* priority on Windows 10
*********** windows key search for 'playback'
*********** select "find and fix audio playback problems"
*********** in troubleshooter, click to fix "Creative Bluetooth Audio W2"

            Also see [[Bluetooth]]
***** Easy bluetooth connect, disconect on taskbar (e.g. the logitech adapter)

      Step 5. _doesn't work for Win 8_, but can remove a device or turn BT off

      1. Pair your bluetooth gadget.
      2. Click on the Bluetooth icon in the system tray (Bluetooth must be
         turned on.  If it is and the Bluetooth icon isn't there, restore it
         following [[http://www.askvg.com/how-to-show-add-accidentally-removed-bluetooth-icon-in-system-tray/][these instructions]]).
      3. Click on "show bluetooth devices"
      4. In the popup window , click on the icon of the Bluetooth gadget you
         want to connect/disconnect.
      5. In the next popup, you'll see a connect button if you are connected;
         or a disconnect button if you aren't.
      6. Pin this popup to the taskbar.
      7. Now, to connect:
         1. If some device is already connected to your bluetooth gadget,
            you must disconnect that device first.
         2. Then, click on the bluetooth icon you've added to the taskbar.
         3. And, click the popup's connect button.  Your device should
            connect.
      8. Before connecting some other device to your bluetooth gadget:
         1. Click on the bluetooth icon you've added to the taskbar
         2. Click the popup's disconnect button.
         3. The, you can connect your other device
      9. Optional desktop shortcut: in 1st popup right click on the Bluetooth
         icon to make a shortcut.

***** [[http://www.askvg.com/how-to-show-add-accidentally-removed-bluetooth-icon-in-system-tray/][restoring bluetooth icon]] in system tray
      Somehow, it disappeared: how to get it back so I can use bluetooth
      devices.

      There were 2 problems:

      1. Soluto had paused it (searched for bluetooth in soluto and found
         this)

      2. For some reason, the thinkpad BT driver was disabled.  I enabled it
         from the device manager.

******* If icon was accidentally removed (this wasn't the problem, this time)

        Two suggestions

        1. Regedit

           regedit (in windows menu)
           HKEY_CURRENT_USER\Control Panel\Bluetooth
           either delete this or set it to 1
           relogin or restart

           For me, it was already set to 1 so I just deleted it.  Also, the
           icon tray rectangle was full.  Possibly, windows 7 didn't know what
           to do w/ that, so it lost the BT icon?

        2. Type "bluetooth" in the windows menu: click "bluetooth settings" in
           the results.  But I don't see "bluetooth settings" so I must do the
           registry hack above.
******* see [[http://www.askvg.com/how-to-show-add-accidentally-removed-bluetooth-icon-in-system-tray/][this]]
***** [[http://www.eightforums.com/tutorials/36102-bluetooth-devices-shortcut-create-windows-8-a.html][Desktop shortcut]] to bluetooth devices control panel (for on/off, etc.)
***** also see: [[Connecting%20w/%20Logitech%20Audio%20Adapter%20(Bluetooth)][Connecting w/ Logitech Audio Adapter (Bluetooth)]]
*** Finding which program has a particular file or directory open (and blocks access)

    Use [[https://chocolatey.org/packages/procexp][Chocolatey Gallery | Process Explorer 16.21.0.20170716]]
    
    choco install procexp

    Somehow, it's supposed to be able to find the file, but I didn't see how, looking for maybe 5 minutes.

*** TRY Pairing MS Comfort Sculpt Mouse to multiple computers
    
    I haven't tried this yet but but is [[https://answers.microsoft.com/en-us/windows/forum/windows_7-hardware/pairing-sculpt-comfort-mouse-to-multiple-computers/8da3698c-d593-4ae7-92b8-4c48fd4ec3d0][said]] to be a solution (was on a Windows 7 website, not sure if it works on Windows 10):

    Joe Seraphim replied on  November 28, 2016

    See post history
    ReplyIn reply to DanielW77380's post on August 31, 2016

    There is a way, but it is quite complicated. You need to first pair the mouse with all the computers you want to share the mouse with. After your last pairing, use the follow the steps from this web posting to get the last pairing key saved as a registry file.
    http://console.systems/2014/09/how-to-pair-low-energy-le-bluetooth.html
    (note: not www. at the front)

    You can then use the same tool Psexec to launch regedit with the required authorization and import this key registry file onto other windows computers to have them with the same pairing code last generated. You can even move this pairing key into Linux system.

    I think this can let you use your mouse with unlimited other computers, but I don't know what would happen if they were all within bluetooth range at once.
    If you ever put the mouse back into pairing mode again, you would have to transfer a new key file to all your other computer systems again.

*** Mapping MS Comfort Sculpt Mouse Buttons
***** install [[https://www.microsoft.com/accessories/en-us/d/sculpt-comfort-mouse][Sculpt Comfort Mouse Mouse and Keyboard Center]]
***** I  mapped the "window key" from "Start" to "Task View
*** cleaning out install files (can use several gigs of disk space)
***** [[http://www.edwardsd.co.uk/work/2012/12/removing-installerpatchcache-save-disk-space/][Simple procedure]] for gigantic patch folder removal

      As administrator:

      net stop msiserver
      rmdir /q /s %WINDIR%\Installer\$PatchCache$
      net start msiserver

      The references for this procedure go [[http://blogs.msdn.com/b/heaths/archive/2009/08/09/atl-security-update-kb971092-still-offered-on-microsoft-update.aspx][all the way back to MSDN]] so I
      think it's OK.
***** [[http://blogs.msdn.com/b/heaths/archive/2007/01/17/the-patch-cache-and-freeing-space.aspx][info]]
***** [[http://msdn.microsoft.com/en-us/library/aa370523(VS.85).aspx][MSIzap]] "G!" option is [[http://superuser.com/questions/82578/can-i-delete-the-folder-c-windows-installer-patchcache][said]] to be safe
      but must download a big SDK to get it

*** <<Windows Perl>>
***** Active State Perl
      I've installed activestate perl for the easy package managment, etc.
      But this causes confusion w/ the cygwin perl (have to give full path to
      activestate when running perl, and when syntax checking it within
      emacs).  Fix that by adding a active state to the windows environment
      path, before cygwin:

      ... C:\Perl64\bin;C:\cygwin\bin ...

***** see also [[Perl]]
*** [[Windows Python]]
*** <<Pinning Jabref to Windows 7 taskbar>>

    Seems to be a netbeans bug.  There's a hack fix and a fix where you
    install SevenBeans.  See [[http://brianreiter.org/2011/02/04/pin-netbeans-6-9-to-windows-7-x64-taskbar/][here]].

*** <<Remove bad file association>>

    From [[http://superuser.com/questions/904188/how-can-i-unassociate-a-file-type-from-a-program-without-a-registry-edit][here]]:, I found out about

    1. Download [[http://defaultprogramseditor.com/][Defaults Program Editor]]
    2. run it (no install just click on it in the opened zip file)
    3. File Type Settings -> click Context Menu -> find your extension -> click Next
    4. Click Delete
    5. Click "Save to Context Menu"
    6. Click "Save to Registry"

***** This didn't work, even if I rebooted

      From [[http://superuser.com/questions/49615/how-do-you-remove-a-default-program-association-for-file-types-in-windows-7?lq%3D1][here]]:

      Run regedit as admin

      1. Find the file extension in question under this key in the registry:

         HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\FileExts

      2. Deleting the sub-key with the same name as the extension you want to
         un-associate will delete the default program association.

         You may also need to remove the same sub key from HKEY_CLASSES_ROOT
         as well.

         (for me, the bad extension was subkey 'b' and just deleting it worked)

      3. kill and restart explorer process using task manager (restart
         'explorer' from a command window)

*** Windows diff tools
***** GUI's that can diff folders recursively, w/ binary files
******* [[http://sourcegear.com/diffmerge/downloaded.php][DiffMerge]]: seems to work
******* [[http://sourceforge.net/projects/winmerge/?source%3Ddlp][WinMerge]]: integrates w/ explorer, tortoise SVN, seems a little nicer
*** Win8: should [[http://www.techrepublic.com/blog/window-on-windows/enable-windows-8-file-history-to-protect-your-data-revisited/7171?tag%3Dnl.e064&s_cid%3De064][enable file history]] on external drive (and SD card, I suppose)
*** Microsoft Cloud File Sharing
***** <<OneDrive>>
******* <<Getting rid of Microsoft Office Upload Center>>
        From: [[https://onedrive.uservoice.com/forums/262982-onedrive/suggestions/7160258-remove-the-need-for-office-upload-center-if-you-ar?page=2&per_page=20][Remove the need for Office Upload Center if you are using OneDrive.]]

        Upload center seems to make a separate copy of Office files and uploads them by itself -- redundant with OneDrive and worse, it crashes constantly at work.

        To get rid of it

        1. right click the onedrive icon in the system tray
        2. properties
        3. Office tab
        4. unclick the two boxes under

        _Title is something like (see German below)_
        Work with other people at the same time to work with Office files by synchronizing files with Office.

        UNCLICK: Office files synchronize with Office
        UNCLICK: Office files that I open, synchronize with Office 2016.

        After a reboot, this is supposed to stop the Upload center uploads (and errors).  But in 2017, on Windows 7, the reboot did not seem to be necessary.

******* German writing for stuff to unclick

        Mit anderen Personen gleichzeitig an Office-Dateien arbeiten, indem Sie die Dateien mit Office synchronisieren.

        Offfice-Dateien mit Office synchronisieren

        Office-Dateien, die ich oeffne, mit Office 2016 synchronisieren.

******* Finding filenames that OneDrive isn't happy with

        I see hangs with .emacs .julia, etc.

********* MS doc [[http://blogs.technet.com/b/wbaer/archive/2014/05/24/file-and-folder-considerations-with-onedrive-for-business.aspx][banning files starting with (.)]] is crossed out (so OK?)
********* but does that apply only to OneDrive for business?
********* I tried to comment (below) but couldn't

          The section banning Files and Folders preceded or followed with (.) is
          crossed out.  Does this mean that they were banned but are now allowed?
          Also, are names starting with (.) allowed in the standard OneDrive, the one
          that you get when you buy Office 365?

********* [[http://blogs.technet.com/b/wbaer/archive/2014/05/24/file-and-folder-considerations-with-onedrive-for-business.aspx][Download FileChecker.exe]] to find problem file and folder names
******* also [[SkyDrive]]

***** <<SkyDrive>>
******* [[http://www.howtogeek.com/56096/how-to-use-skydrives-25-gb-as-a-mapped-drive-for-easy-access/][How to Use SkyDrive’s 25 GB as a Mapped Drive for Easy Access]]

        Skdrive location: https://d.docs.live.net/4bbd96b3698748f8/work
        On old IWES laptop: this was drive Y:
        On new IWES laptop: this was drive Z:
******* [[http://winsupersite.com/windows-8/windows-81-tip-move-location-skydrive-folder][Moving Skydrive folder on Windows 8.1]]
******* [[http://www.thewindowsclub.com/change-location-of-skydrive-folder-windows-8-1][Moving Skydrive folder on Windows 8.1, including to SD cards]]
******* SkyDrive [[http://www.techrepublic.com/blog/smbit/how-skyshellex-makes-the-skydrive-cloud-desktop-client-easier-to-use/841?tag%3Dnl.e064&s_cid%3De064&ttag%3De064][works from a root folder]]: for anything else, make symbolic links
******* [[http://winsupersite.com/skydrive/skydrive-now-selective-sync-and-shared-content][Selective sync]]
******* stopping/pausing sync
	just declare a connections e.g. my phone's wireless [[http://windows.microsoft.com/en-us/windows-8/metered-internet-connections-frequently-asked-questions][as metered]]
******* [[OneNote and SkyDrive]]
******* Command line and SkyDrive specific links: [[Windows symbolic links]]
******* [[http://www.hongkiat.com/blog/ms-skydrive-tips/][Using libraries to merge local]] Documents, etc. folders to Skydrive
******* Skydrive install @ IWES: *fix proxy problem* with Windows 7 online ID provider

        Problem was that couldn't install software for Windows 7 online ID
        provider, [[http://windows.microsoft.com/en-GB/windows7/Whats-the-benefit-of-linking-my-online-accounts-with-my-Windows-user-account][needed for SkyDrive]] and windows live mesh

        In the end, I tried to get around the problem by installing the non-web
        version of Windows Live Essentials, from [[http://www.mydigitallife.info/download-windows-live-essentials-with-messenger-2011-final-full-version-offline-installer/][here]].

********* fixes that didn't or only kinda worked
          possible fix: http://www.sevenforums.com/software/120351-windows-live-essentials-install-uninstall-problem.html

          fix that only kinda worked:

          [[http://renatobuda.wordpress.com/][Fix]]: In cmd window, run as administrator, and type:

          netsh winhttp import proxy source=ie

          After that, it was possible to install the ID provider software.
          But I couldn't find "mesh" in old IWES laptop start menu, and couldn't
          reinstall windows live essentials so that it would be visible.

          Somebody said you could try setting the proxy manually, so I did
          this command instead:

          netsh winhttp set proxy 10.13.13.2:3128

          and got the same response as before, namely:

          Current WinHTTP proxy settings:

          Proxy Server(s) :  10.13.13.5:3128
          Bypass List     :  (none)

          but this didn't help...

******* also [[OneDrive]]
***** Android app: FolderSync Lite:  seemed to work but I uninstalled it to save space
***** Android app: There's now a MS SkyDrive app (but my Legend is too old)
***** Old Windows sync services
******* [[http://explore.live.com/windows-live-essentials-other-programs?T1%3Dt4][Windows Live Mesh]] (obsolete)
        This is now cancelled (Feb 2013)
********* 5 GB cloud synch, [[http://www.7tutorials.com/windows-live-mesh-sync-folders-between-computers-cloud][apparently unlimited direct sync]] between computers
********* But must have both computers turned on for direct sync
          If one computer is off and haven't synced the new one, might see a
          .wlx file instead of the actual file
********* Cloud sync?
*********** When I don't want to have all computers turned on.
*********** data can be seen in web browser
*********** when set up folder synching wizard, [[http://www.7tutorials.com/windows-live-mesh-sync-folders-between-computers-cloud][select "SkyDrive Synched"]]
*********** can set up cloud synch later too:
            o start WL mesh wizard
            o click the folder
            o click "select device" or "geräte auswählen" (or something like
            that)
            o select sky drive synch (in EN or DE)
********* locations on my computers
          On new IWES laptop, I synced it on D:/WLmesh (couldn't synch it in
          homedir b/c that was a symbolic link that windows wouldn't deal
          with). On old one, it's just on the main parition.

******* [[http://www.labnol.org/internet/compare-windows-live-sync-mesh-and-skydrive/6166/][Windows Live Sync vs. Live Mesh vs. SkyDrive: Which is Right for You?]]
***** also syncthing (I had this set up, didn't put it in org-mode, I guess)
*** Fixing blurred fonts in Win 8

    From [[http://forums.lenovo.com/t5/W-Series-ThinkPad-Laptops/Blurred-display-after-upgrade-to-Windows-8-1/ta-p/1282781][here]], this worked for emacs

    Microsoft has released a [[http://support.microsoft.com/kb/2900023][tech article]] about this.

    When using Windows 8.1 on a computer with a display featuring a high number of dots per inch (high-DPI), some desktop applications may
    appear somewhat blurry as compared to other applications on the
    screen.

    In order to provide an optimal experience on high-DPI displays,
    desktop applications need to detect the DPI of the display which
    is in use, and scale their graphical elements, text, and screen
    layout appropriately. Some applications do not implement this;
    thus they may not look as sharp.

    If there is not an updated DPI-aware version of the application
    available, you may be able to alter the appearance of the application
    by using one of the following methods. Note that this may result in
    less desirable results, depending on the application.

    o Disable DPI virtualization for the application. To do this,
    right-click the application’s shortcut and then click Properties. On
    the Compatibility tab, select "Disable Display Scaling On High DPI
    Settings", and then click OK. This will cause the text in the
    application to appear clearer, but if the application does not
    properly handle high DPI settings, it may have adverse side effects
    such as truncated text or incorrectly sized graphical elements.


    o Lower the overall Windows DPI setting. To do this, open the
    desktop Display control panel (or search for "dpiscaling" from the
    Start Screen) and adjust the slider under "Change the size of all
    items". You may need to select the checkbox for "Let me choose one
    scaling level for all my displays" and change the scale to 100%.

    Note that on very high-DPI displays, this may make screen elements very small, and some text may become difficult to read.

*** keyboard repeat rate and delay
    From: [[https://thegeekpage.com/change-keyboard-repeat-rate-repeat-delay-windows-10/][How To Change The Keyboard Repeat Rate And Repeat Delay In Windows 10]]

    Win+R control keyboard
    slide around "repeat delay" and "repeat rate"

*** Keyboards for multiple languages

    Changing keyboard language, separate instructions for changing the
    "layout" (see [[http://www.7tutorials.com/how-change-keyboard-input-language][here]]).

    *Windows 7* See [[http://www.7tutorials.com/how-change-keyboard-input-language][this]].

    | Shortcut        | Function        | Comment    |
    |-----------------+-----------------+------------|
    | leftAlt + shift | toggle language | default    |
    | ctl + 2         | to German       | my setting |
    | ctl + 1         | to English      | my setting |

    (I would like it to be the same as windows 8, using windows key but
    that isn't an option.

    *Windows 8,10*: After following instructions [[http://www.howtogeek.com/121169/how-to-change-your-keyboard-layout-in-windows-8/][here]], you can toggle
    keyboard layouts with:

    WindowsKey + Space Bar (on >= windows 8)

*** Keyboard remapping (ctrl-capslock, insert)
***** Using Microsoft PowerToys
      See: [[https://zachrussell.net/blog/map-caps-lock-to-control-windows/][How To Map Caps Lock To Control in Windows 10 & Windows 11]]

      I did this because I wasn't sure if Sharpkeys was causing the pen weirdness on my Surface Lapotop Studio.  It was, but PowerToys causes the same weirdness (removing/restoring the pen causes capslock and excecution of pen click actions)
      
***** windows caps/ctrl swap with SharpKeys
      [[http://www.randyrants.com/category/sharpkeys/][See Sharpkeys]]
      
******* works great for caps/ctrl swapping, is what I use for Windows
******* available on chocolately
******* tried to also disable accidental insert mode
        
        I was somehow constantly turning on overwrite mode without hitting the insert key.  [[https://www.howtogeek.com/666698/how-to-disable-the-insert-key-in-windows-10/][Disabling the insert key]] turned out to be a bad idea, as I was somehow accidentally activating insert mode, but then, since the insert key was disabled, couldn't turn it off.

        The [[https://superuser.com/a/31819/1250395][TAB key is also supposed to sometimes turn on overwrite]] -- maybe it's [[https://smallbusiness.chron.com/tab-table-microsoft-word-75288.html][ctrl-TAB?]] -- but I didn't understand the explanation, and couldn't make either cause insert mode when I tried.

***** [[http://www.techrepublic.com/article/how-to-remap-the-caps-lock-key-and-avoid-future-frustration/?ftag=TREe331754&bhid=22027677217996064763852163069924][Microsoft remapkey]]
***** Using Autohotkey to make capslock to control ONLY WHEN IN EMACS
      See: [[https://github.com/usuyama/emacs-like-key-bindings-windows][GitHub - usuyama/emacs-like-key-bindings-windows: System-wide Emacs-like/Mac-...]]

***** Using Authotkey, when don't have admin rights (like @ TenneT)

      make an autohotkey script that does it
      https://superuser.com/questions/909527/how-to-remap-caps-lock-to-ctrl-on-windows-7-with-no-admin-rights-and-no-third-pa
      and turn that into an executable
      (problems: doesn't swap, only replaces capslock)
      (problem: not clear that store this in startup folder, as promised)

      autohotkey
      download from here (don't install, just get zip file and put it in my bin directory):
      https://autohotkey.com/download/

      My ahk script (capsCtrlSwap.ahk):
      Capslock::Control   ; make Caps Lock the control button
      Control::Capslock   ; make Control Caps Lock

      ahk2exe.exe (exe file maker) is in Compiler directory of autohotkey download
      description: https://autohotkey.com/docs/Scripts.htm#ahk2exe

      Icon: I grabbed a jpg off of google
      then I converted it to an ico file with this: http://icoconvert.com/
      (size 96x96)

      Conversion command, having cd'ed to the Compiler dir:

      ./Ahk2Exe.exe /in ../../capsCtrlSwap.ahk  /icon ../../emacs_icon_kfY_icon.ico

      Paste the result,  capsCtrlSwap.exe, to destkop

      Click it every time after rebooting or relogging in to swap capslock and control

*** Touch gesture to bring up on screen keyboard, taskbar, and other gestures

    [[https://touchme.uservoice.com/][TouchMe Gesture Studio Beta]] works both in Desktop and Metro mode.  And
    it already has the OSK keyboard gesture built in (two finger up and down)

*** <<Prevent devices from waking out of sleep>>
***** Remove waking devices (this helped)

      From [[http://www.techradar.com/news/software/operating-systems/15-windows-8-1-annoyances-fixed-1207111/3#articleContent][here]]

      Discover waking devices:

      powercfg -devicequery wake_armed

      Prevent them from waking:

      Device Manager (search "device manager")
      --> Properties of each wakeable device
      --> "Power Management"
      --> uncheck "Allow this device to wake this computer"

      Sony Flip 14: I found that the "HID-compliant mouse" was a waker. I disabled its
      waking and now the machine stays asleep!

      Lenovo Tablet 2: I found that a "Realtek I2S Audio Codec" was allowed
      to wake.  I disabled that.  Don't know if it mattered as of yet (5/11/2014)

***** determining what caused a wakeup
      From [[http://www.howtogeek.com/122954/how-to-prevent-your-computer-from-waking-up-accidentally/][here]]:

      powercfg -lastwake
***** Can analyse with built-in [[http://msdn.microsoft.com/en-us/library/windows/hardware/dn495346%2528v%3Dvs.85%2529.aspx][MS sleepstudy]]
***** [[http://iboyd.net/index.php/2010/05/16/windows-7-power-management-fixing-pc-insomnia/][Advanced article]] on PC insomnia
***** Using the event viewer
      [[Http://www.techrepublic.com/article/simplify-the-windows-87-event-viewer-by-creating-custom-views/#ftag%3DRSS56d97e7][Detailed article]] event viewer customized views
*** Spotify
***** <<Avoid Spotify shutoff when screen saver turns on>>
    
      Problem is [[https://www.ghacks.net/2016/09/13/play-music-on-a-surface-while-the-screen-is-off/][said]] to be connected standby

      Solution: [[Turn off connected standby]]
***** Fix missing Amazon Echo Dot: [[https://finddiffer.com/why-wont-my-echo-show-up-on-spotify/#:~:text=If%20you%20can't%20link,This%20should%20fix%20it!][Why won’t My Echo show up on Spotify?]]

*** TRY <<Turn off connected standby>>

    *CAUTION*: a few days after I did this, I had more problems with powering up out of suspend than before, and WiFi also often didn't work after suspend. This could have been due to this change, or it could have been a problem with a new Windows update.

    From [[https://www.ghacks.net/2016/09/13/play-music-on-a-surface-while-the-screen-is-off/][here]]:

    o regedit.exe
    o HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Power
    o CsEnabled --> 0
    o restart

    *Connected standby [[http://toolofgod.com/problems-and-solutions/disabling-connected-standby-fixed-my-surface-pro-4-problems/][causes many problems]] (Aug 2017, on SP4)*:

    - Going to black screen after 10 minutes despite nothing in my power settings that allows this
    - In the morning, Surface would not wake from sleep and be warm to the touch (still running)
    - Crash after turning off the screen, requiring a long power press to hard reboot
    - Slow AutoCAD performance
    - Shutting off Spotify and Youtube when have screen saver
      ([[Avoid Spotify shutoff when screen saver turns on]])     

*** <<Custom refresh image>>

    How to set a restore point for the system config, including
    programs. From [[http://www.howtogeek.com/108944/how-to-create-a-custom-refresh-image-in-windows-8/][here]]:

    To save an image, from an admin cmd.exe:

    recimg /createimage <fullPathToImage>

    where <fullPathToImage> is the full path to the image
    e.g. C:\CustomRefreshImages\Image1.  This will be set to the new
    _current image_ -- [[http://www.eightforums.com/tutorials/9310-refresh-windows-8-set-custom-recovery-image-active.html][the one that will be restored by Windows]] during a
    refresh.  It's possible to make several images and set the current to
    the one you want to refresh to.

    To see what is current:

    recmg /showcurrent

*** [[http://www.winhelp.us/storage-spaces-in-windows-8.html][Storage Spaces]] (a poor man's RAID using miscellaneous drives on Windows)

*** See what programs are using power (during a 60s window)

    I'm not sure what this provides over just looking at process manager but...

    open command window as admin
    cd to some writeable directory
    powercfg -enery
    look at the html file

*** [[http://www.techrepublic.com/article/pro-tip-extend-your-event-log-search-capabilities-with-powershells-get-eventlog-cmdlet/#ftag%3DRSS56d97e7][script]] for grepping event logs (find things that happened b/f crashes, etc.)
*** Eliminating high disk,CPU usage
    <<Eliminating high disk,CPU usage>>

    IN THE END, what worked was to do a refresh back to the pre-8.1 level and
    then resinstall everything.  Then I saved this as a [[Custom refresh image]]

***** disable RAM caching/virtual page/superfetch/BITS... chkdisk.... many ideas
******* Most thorough responsd from [[http://www.tomshardware.co.uk/forum/id-1658680/prevent-100-disk-usage-windows.html][here]] was:

        johnbl
        a b * Windows 8
        18 February 2014 14:23:13

        -Windows 8.x will do a lot of checks on a new drive, OEM don't properly format a drive these days, they just drop a image of the operating system on it. Windows 8.x will attempt to read and locate sectors on the drive, when it finds sectors that can be read but have read errors, it will attempt to read the data over and over to get a good copy and then relocate the data to another location on the disk. This process takes time and is started 5 mins after the system goes idle. For most people, use control panel power settings to high performances and just leave the machine on for a day or so it should just work itself out and the "problem" will go away.

        -There are other things that can cause the same 100% disk use for example the system tries to guess what you want to do and will load programs into memory before you actually attempt to run them. Some files that are selected may not actually be currently loaded on your disk, they may be in the process of being downloaded or streamed. For example, you might have a game service that stores your games for you and lets you play a game while it downloads the rest of your games or parts of games in the background. If windows tries to prefetch these files into memory it will end up spinning waiting on the disk to provide the file, the disk is waiting on the network to provide the file, but the game service is loading the file very slowly in the background so it does not tie up your network bandwidth or CPU.

        -there are also bugs with corrupted file systems that are pretty easy to fix with a chkdsk /f /r

        - there some malware that now hide in the file system file streams
        I would think that some virus scanners and malwarebytes should find these and remove them.

        - I have seen issues where a the search index searches your hard drive and builds a database index
        but the drive is corrupted and the search ends up having a loop so it never gets to the end of the file search,
        it just keeps building a bigger and bigger index until all of your hard drive space is used up.
        (just run chkdsk /f /r and delete the search index to fix)

        - for most people, the problem just goes away after a few day, except on laptops that go to sleep fast.
        it might take 8 hours of real time to scan and fix a disk with errors, more for a large disk. On a laptop
        that goes to sleep in 15 mins after idle the OS will have only 10min to work on the task on each wake cycle.

        if you really want to see what your system is doing you should get a copy of the tool rammap64.exe this is a tool written by a company called sysinternals. Microsoft bought the company and has the tools for free on its website http://technet.microsoft.com/en-us/sysinternals/bb84206...

        You can download the file and see all the files that are open on your system. you will be surprised what is getting preloaded into memory for you. I am looking at my list now and I see programs I have not run for almost a year and they are being preloaded. The system cache manager just fills the unused ram with what it thinks I might want to run. if one of these files were located on a disk with disk errors, it would take a lot of time to load the file into memory as the system attempts to read the disk over and over each time I boot.
        even if I never requested the file to be run, the disk might queued up and running full speed because of this process. it is not really a bug in the cache manager that the disk has errors and causes the disk to spin at 100%, it is disk problem that has not crashed your system yet.

        There can also be other problems that will slow a disk. Errors in the electronics, bugs in the chipset drivers, even a bad cable connection. thermal expansion/contraction on a cable connection can make and break a connection several times a second causing a drive to disconnect and auto reconnect several times a second. This really can cause your drive to slow down but it still works until the drive gets disconnected for 30 seconds then you get a logged error.

        The same thermal contraction can cause circuits to fail. (brittle solder joints crack and lift off the circuit board)

        I have looked into 100% disk usage on solid state drives and they have all been firmware related.
        The operation of solid state drives really depends on having proper time to run their clean up routines. They really suffer on laptops that try to save their power. The drives have to run their garbage collection routines and their TRIM functions. When these get blocked because firmware bugs or lack of idle time while the machine is on the drive kind of gets wedged up to the point it can not function correctly. Often you just need to power on the machine and boot into BIOS and leave the machine alone overnight. The SSD will start its firmware internal garbage collection and can move bad blocks around and do its various repairs.
        SSD have very limited ability to write to the drive. Figure 2000 writes to a block and that block is dead. It really does not take long to do that amount of writes. Just look at the amount of temp files being written by a browser like chrome to get a idea.

        anyway, maybe what I said will give you a idea what the problem is.

******* maybe I should download rammap64.exe?
***** often said to switch to high performance (so gets it over with?)
***** guy says to [[http://www.tomshardware.co.uk/answers/id-2037259/windows-random-100-disk-usage-spike.html][uninstall chrome]] (which /does/ coincide in time)
*** TODO limiting internet bandwidth usage
***** [[http://www.howtogeek.com/187483/how-to-restrict-monitor-mobile-data-usage-on-windows-8.1/][set phone tether as metered connection]]
      click on the icon in the taskbar
      right click on the phone's wifi connection
      set as metered
***** [[http://www.howtogeek.com/187483/how-to-restrict-monitor-mobile-data-usage-on-windows-8.1/][show estimated usage]] (on Wifi, direct, or tethered)
      click on the icon in the taskbar
      right click on the phone's wifi connection
      show estimated usage
***** [[http://www.howtogeek.com/187483/how-to-restrict-monitor-mobile-data-usage-on-windows-8.1/][turn off OneDrive on metered connections]]
      search "OneDrive metered"
      turn everything off
***** [[http://www.howtogeek.com/187483/how-to-restrict-monitor-mobile-data-usage-on-windows-8.1/][connecting a new device]] on a supressed metered connection
      (need it needs a new driver): Must enable it until the windows downloads the device
***** [[http://www.howtogeek.com/166949/how-to-disable-bing-from-the-windows-8.1-search-engine/][turning off Bing search on metered connection]]
      charms
      change pc settings
      search and apps
      metered setting for Bing is on the bottom
***** TODO [[http://www.howtogeek.com/138658/how-to-make-your-computers-browser-use-less-data-while-tethering/][disabling browser software updates]]

      TODO: Chrome: [[http://dev.chromium.org/administrators/turning-off-auto-updates][latest instructions]]

      Either:

      1. Use the Google Update ADM templates provided on this page or as
         described in this article.
      2. Set the value of
         HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Google\Update\AutoUpdateCheckPeriodMinutes
         to the REG_DWORD value of "0".

      DONE    Firefox: Open the Options screen, click the Advanced icon, click the
      Update tab, and click "check for updates but let me choose when to
      install them"

***** TODO [[http://www.howtogeek.com/126284/how-to-enable-click-to-play-plugins-in-google-chrome/][chrome global click to play]]: avoid media running, no whitelist, doesn't know about metering
***** TODO [[http://www.howtogeek.com/123986/how-to-enable-click-to-play-plugins-in-firefox/][firefox global click to play]] via about:config (no whitelist, doesn't know about metered connections)
***** TODO [[http://www.howtogeek.com/181567/how-to-reduce-data-usage-when-browsing-the-web-on-a-smartphone/][chrome and opera mobile data compression]] (saves bandwidth, anything for FF?)
***** TODO browser [[http://www.howtogeek.com/138658/how-to-make-your-computers-browser-use-less-data-while-tethering/][disable pictures]]

*** R
***** [[Ro for windows]]
***** [[R packages setup]]
***** [[Vincent Goulet Emacs]]
*** Improving battery life
***** Find [[http://randomascii.wordpress.com/2013/07/08/windows-timer-resolution-megawatts-wasted/][programs that increase windows resolution]] e.g. Chrome
***** [[Prevent devices from waking out of sleep]]
***** [[Eliminating high disk,CPU usage]]
***** make a [[http://www.lovemysurface.net/run-battery-report/][battery report]]
*** fixing screwed up program icons

    Somehow, all of the program incons (desktop, taskbar, explorer) got set
    to the icon for a pdf.  [[http://answers.microsoft.com/en-us/windows/forum/windows_7-system/wrong-or-missing-program-icons-in-windows-7-start/3fb5be69-105a-40ca-a0ca-695b8bad41f8?rtAction%3D1433835140556][Here's]] the fix:

***** Make a a .bat file with the following contents:

      taskkill /F /IM explorer.exe
      cd /d %userprofile%\AppData\Local
      attrib –h IconCache.db
      del IconCache.db
      start explorer

***** delete the icon cache:

      open explorer and navigate to C:\users\username\appdata\local\ (make sure
      you've select to view hidden folders) and delete IconCache.db.

***** run the .bat file by double clicking on it

*** Viewing Raw Images
***** Viewing raw images from windows explorer on Windows 10
******* At least in the old Windows Photo Viewer

        [[http://answers.microsoft.com/en-us/windows/forum/windows_10-other_settings/microsoft-camera-codec-pack-for-windows-10-64-bit/00a1ae0a-936e-42fd-b928-ca38eb2fd8f6][Install old Microsoft Camera Codec Pack]] (must hack to install on Win10)

        After doing this, I was able to view Panasonic RW2 raw images in the
        old "Windows Photo Viewer" (although I'm not totally sure I couldn't
        already do this...).  This required me to open it with the "Open
        With" right click menu item in windows explorer.

        But unfortunately, I still wasn't able to view RW2 files on the
        built-in Windows 10 Photos app -- the one that has the nice editing
        functions built-in.

        I submitted feedback to Windows 10 feedback app and am looking for a
        better way.

********* [[http://www.intowindows.com/how-to-enable-windows-photo-viewer-in-windows-10/][install classsic Windows Photo Viewer]]
********* download old (windows 8?) raw image codecs

          From [[http://answers.microsoft.com/en-us/windows/forum/windows_10-other_settings/microsoft-camera-codec-pack-for-windows-10-64-bit/00a1ae0a-936e-42fd-b928-ca38eb2fd8f6?page=6&tm=1473877553106#LastReply][here]]:

          In reply to mbulliva's post on April 6, 2016
          There is a relatively easy work around to install the Windows 8 camera codec into W10 so that you can view RAW files in Explorer and Photo Viewer.
          If you try and install the latest MS raw codec http://www.microsoft.com/en-us/download/details.aspx?id=26829 it won't install because it will tell you that it is not compatible with Windows 10.

          A workaround is:
          1) Download the latest Windows camera codec (an msi file) from the link above
          2) Download this MSI editor Orca - http://www.brentnorris.net/blog/archives/319
          3) Open the MSI file in the editor and delete the line 'launch condition'. Save the file.
          4) Now launch the MSI file by double clicking on it. This will install the camera codecs and your will be able to view your raw files in Explorer and Photo Viewer

***** Windows explorer thumbnails
******* Use [[http://www.fastpictureviewer.com/codecs/][FastPictureViewer]] ($10) or FastPictureViewer Professional ($50)

        The $10 version got me thumbnails in MS Windows Explorer but
        did not allow Windows 10 Photos app to display Panasonic Rw2
        images. Presumably FPV Pro would do that.

******* [[https://mail.google.com/mail/u/0/?shva=1#search/raw/1572e3cdbfb76a5f][one of my comments]] on this MS thread.

***** Convert to generic Adobe DNG files (doesn't work yet for Win10 Photos app)

      Convert almost any raw file to generic Adobe digital negative format
      and then view it in applications that can handle it:

      o Adobe products, of course, and maybe this is a way of extending old
      versions of non-subscription Adobe software e.g. photoshop
      elements.
      o OLD Windows Photo Viewer
      o NOT win10 photo viewer, as of Sep 14, 2016

      I am not sure if this helps for building Windows Explorer thumbnails,
      like FastPictureViewer does...

******* Overview article: [[https://www.petri.com/windows-10-tip-working-raw-image-files][Windows 10 Tip: Working Raw Image Files]]
******* [[https://helpx.adobe.com/photoshop/using/adobe-dng-converter.html][DNG File Converter]]
******* /Maybe/ install Adobe's DNG converter
********* Commenters say [[http://www.pentaxforums.com/forums/58-troubleshooting-beginner-help/310854-cannot-view-raw-files-windows-10-a.html][Codec not necessary for Win10]]
********* [[https://www.adobe.com/support/downloads/thankyou.jsp?ftpID=5495&fileID=5491][DNG Codec 2.0]], for OLD Windows Photo Viewer, commenters say it's not updated
***** [[http://www.faststone.org/FSViewerDetail.htm][Fast Stone Image Viewer]]: free, works on Panasonic RW2, Adobe DNG, and others
*** [[Latex on Windows]]
*** also [[Install MS Office and MS Fonts on MacOS]]
*** also [[MacOS]]
* PC Performance Testing
*** Computational
***** PC Mag Computational Test Procedure
      From: [[https://www.pcmag.com/article2/0,2817,1623939,00.asp][How We Test Laptops (they use PCMark 8)]]

      Explains how they set up the computer and their software

      They use:
******* Heaven and Valley: for 3D tests 
******* Cinibench R15: multi-CPU and threading
******* Handbrake 0.9.9: video encoding

*** Battery Test
***** PC Mag Battery Test Procedure
      From: [[https://www.pcmag.com/article2/0,2817,1623939,00.asp][How We Test Laptops (they use PCMark 8)]]

      Explains how they set up the computer and their software

      They use:
******* [[https://benchmarks.ul.com/pcmark8?redirected=true#][PCMark 8]]: Overall performance, Productivity
******* Heaven and Valley: for 3D tests 
******* Cinibench R15: multi-CPU and threading
******* Handbrake 0.9.9: video encoding
* MS Office
*** <<Word Bibliography>>
    (how to use bibtex/JabRef for Word citations)
***** [[http://www.ee.ic.ac.uk/hp/staff/dmb/perl/index.html][BibTex4Word:]] addin, to be installed in MS Word: /works great/ on Windows 7
******* must also install MikTex and stuff (doable in MacOS?)
******* also has nice reference grabbing, etc. perl scripts
******* author: [[http://www.ee.ic.ac.uk/hp/staff/dmb/dmb.html][Mike Brookes]]
***** [[http://www.docear.org/software/add-ons/docear4word/overview/][Docear4Word]]: nicer bibtex for Word, maybe a fork of BibTex4Word, but updated, maybe tailored for [[http://www.docear.org/software/download/][Docear]]?

      Unfortunately, it doesn't use the BibTex4Word stuff already entered
      into a Word doc.

***** <<Export JabRef bibtex to Office 2007 citation source>>
******* Works in Mac Office 2007 (view menu --> citations)
********* Creating a citation source by exporting from JabRef

          File -> export -> Save As:

          Select sotterson/Documents/Microsoft User Data/Sources.xml

*********** _This Works_ Asked the question [[http://www.techsupportforum.com/][here]] in the office and mac os fora: [[http://www.techsupportforum.com/microsoft-support/microsoft-office-support/293569-how-add-citation-master-list-mac-osx-office-2008-a.html][answer]]

            You can simply rename any .xml file containing citations to
            "Sources.xml" and place in "Documents->Microsoft User
            Data". Restart Word and you can use the references it contains.

********* Inserting a bibliography into a document

          insert -> document elements -> bibliography

********* Inserting citation in source into document

          view -> citations
          -> put cursor in doc where want citation
          -> double click on list at citation to be added

          If citation not already in current list:

          view -> citations -> gear widget, lower right
          -> citation source manager
          -> select citation on left pane
          -> add

********* [[http://store.apple.com/us/product/TQ747LL/A%3Ffnode%3DMTY1NDA0OA&mco%3DMTgwMDE&s%3Dnewest][MS marketing stuff]] says citation source manager deals w/ master list
********* [[http://www.microsoft.com/mac/default.mspx][mactopia]]: MS Mac support
******* Works in Windows Office (references menu --> Citations & Bibliography pane)
******* This guy [[http://mahbub.wordpress.com/2007/03/22/deciphering-microsoft-office-2007-bibliography-format/#comment-33][wrote]] an office 2007 JabRef xml module
********* I posted a howto question
********* He's also posted a [[http://mahbub.wordpress.com/%3Fs%3Djabref][correspondence]] between BibTex and MSBib doc types
********* And a [[http://mahbub.wordpress.com/2007/03/04/comparison-of-free-bibliographic-managers/][comparison of free bib managers]], w/ links to commercial s/w too
******* Manual export method: [[http://www.ademcan.net/index.php?2012/01/30/15/23/05-using-jabref-references-in-word-documents][Using JabRef references in Word documents]]
***** Microsoft bib function documentation
******* [[http://blogs.msdn.com/joe_friend/archive/2006/07/13/664960.aspx][Citation & bibliography tools in Office 2007]]
******* [[http://blogs.msdn.com/joe_friend/archive/2006/07/13/664960.aspx][Working with Bibliographies]]
***** [[http://www.codeplex.com/bibliography][Microsoft Word 2007/2008 Bibliography styles]], including IEEE
******* Mac install

        copy them to

        /Applications/Microsoft Office 2008/Microsoft Word.app/Contents/Resources/Style:

******* [[http://www.codeplex.com/bibliography/Wiki/View.aspx%3Ftitle%3DStyles][How to use]] (they don't show up when insert bibliography into doc)

        Add the bibliography using one of the four predefined styles. Then
        go to the citation toolbox and select the style you want. This will
        update all the citations and bibliographies in your text to the new
        style.

        Note that numerical "name sequence" styles e.g. IEEE name sequence
        produce a "BO" code.  Can fix this with [[http://www.codeplex.com/bibliography/Wiki/View.aspx%3Ftitle%3DBibWord%20Extender&referringTitle%3DStyles][BibWord Extender]], which you
        must run every time you add a new source citation (for example,
        when you cite a new paper)

***** Updating Bibliography

      Click on bibliography heading
      click on arrow news to blue bibliography frame label
      update citations

***** [[http://www.scripps.edu/~cdputnam/software/bibutils/#xml2wordbib][Bibutils]] scripts can convert bibtex to wordbib
******* scripts: bib2xml --> xml2wordbib
***** [[Latex/Bibtex]]
*** [[http://www.veodin.com/blog/2013/01/12/case-study-3-custom-shortcuts-insert-formula-in-word-2013-with-a-keyboard-shortcut/word_custom_shortcut_2/][Word keyboard shortcuts]]
***** insert new equation:  Alt + =
*** [[https://social.technet.microsoft.com/Forums/en-US/408a3c27-792f-4dce-8ddc-14f38955b75a/equation-editor-argmin-and-argmax-parameter?forum%3Dword][argmin and argmax in Word equations]]

    Type:

    min_i

    then edit the square that contains 'i'.  Then change the 'min' to
    'argmin' or 'argmax'

*** Word Styles
***** [[http://www.techrepublic.com/article/three-ways-to-expose-format-inconsistencies-in-a-word-document/?ftag=TREe331754&bhid=22027677217996064763852163069924][Three ways to expose formatting inconsistencies in a Word document - TechRepu...]]
*** Remove ink and annotations from word

    File -> Prepare for Sharing -> Check for Issues -> Inspect
    -> click "remove all" next to "Comments, revisions,..."

    Older article about this [[http://social.msdn.microsoft.com/Forums/en-US/worddev/thread/24133799-d394-4c60-b088-e6e50e03b5d1/][here]].

*** Word figure and chapter? references
    http://geology.wwu.edu/dept/faculty/hirschd/other/howto_word_numbering.shtml
*** [[https://www.youtube.com/watch?v=9YGTH4WrY_8][Insert Equations Numbers and ref. them in Word 2016]]
*** Erasing ink while tracking changes

    /Can't/: turn off tracking changes and then erase.  Can turn tracking
    changes on again.

*** <<Powerpoint>>
***** Powerpoint Animations --> pdf

      From [[http://superuser.com/questions/602209/create-a-pdf-from-powerpoint-with-animations][here]]:

******* use [[http://www.dia.uniroma3.it/~rimondin/downloads.php][PPspliT]] powerpoint add-in
******* this makes a new powerpoint w/ animations blown out
******* can make a pdf out of the blown-out ppt
******* installation/deinstallation
*********** said to work on office 2013
*********** remove like a normal program, not from inside of Powerpoint

***** Copying slide master template from one presentation to another

      - make a copy of the source presentation
      - delete its slides
      - paste in slides from the new presentation

******* The hard way
        From [[http://office.microsoft.com/en-001/powerpoint-help/apply-multiple-slide-masters-to-a-new-or-existing-presentation-HA010251353.aspx][here]]:

        copy from source presentation
        1. open both presentations
        2. view->Presentation Views on the source presentation
        3. click Slide master
        4. rightclick->copy the thumbnail in pane

        appy to destination presentation (maybe get to dest w/ view menu or
        separate window)
        1. view->Presentation Views->slide master
        2. paste @ end of list of existing master slides, if there are any
        3.

***** Capturing screen video for PowerPoint
******* try [[http://www.techsmith.com/download/jing/][Jing]] (can save a macromedia shockwave file)
******* look @ MS [[http://office.microsoft.com/en-us/powerpoint-help/play-a-macromedia-flash-animation-in-powerpoint-HA001034807.aspx][hints]] for playing shockwave (what Jing produces) in powerpoint
***** <<Programmatic PowerPoint>>
******* [[Powerpoint and Python]]
******* [[Powerpoint and R]]
******* [[Powerpoint and Jupyterlab]]
*** <<OneNote>>
***** [[http://blogs.msdn.com/b/johnguin/archive/2014/02/03/onenote-tip-making-tables-from-pasted-text.aspx][modestly quick way to create tables]] in OneNote from pasted text
***** [[OneNote and SkyDrive]]
***** Clip from browser to OneNote

      The Office 2013 clipper will only clip screenshots (instead of html)
      [[http://community.office365.com/en-us/f/172/t/256708.aspx][unless you're using Internet Explorer]].  So you have to install
      something else.

******* Legacy OneNote Clipper Firefox Addon

        From: [[http://smallbusiness.chron.com/add-onenote-firefox-79649.html][How to Add to OneNote in Firefox]]

        *Install Clip to OneNote*

        Download and install the Clip to OneNote (Legacy Edition) extension from
        Mozilla.org (link in Resources). After installing, use the “Ctrl-Shift-A”
        keystroke to open the Firefox Add-Ons Manager. Click the “Extensions” tab,
        and then click “Options” next to Clip to OneNote (Legacy Edition). Click
        “Browse” next to "Path of OneNote.exe," and then select the "OneNote.exe"
        executable file from the Office 2013 installation directory. By default,
        the file is located within either the “C:\Program Files\Microsoft
        Office\Office15” or the “C:\Program Files (x86)\Microsoft Office\Office15”
        directories. Select the file, click “Open,” and then exit the Add-Ons
        Manager.

        *Add Content to OneNote*

        To add an entire Web page to OneNote, right-click a vacant area within the
        page, and then select “Clip to OneNote This Page" on the context
        menu. Alternately, highlight any portion of text with your cursor, and then
        right-click and select “Clip to OneNote Selection” to add only the
        highlighted text.

******* [[http://www.onenotegem.com/bring-to-onenote-for-firefox.html][Bring to OneNote]] (OneNote Gem)

        Works for a ton of programs, not just Firefox:
        OS: Windows 8.1, 8, 7, vista, xp
        For: OneNote 2013
        Office: Word, Excel, PowerPoint, Visio 2013, 2010 (32-bit, 64-bit), 2007
        Others: Firefox, Thunderbird, Chrome, Opera, IE, Safari, Acrobat

        Note that OneNote Gems (which you must buy) had some other
        functionality that I was looking for e.g. [[http://www.onenotegem.com/anchor-to-onenote.html][Anchor to OneNote]].  If
        that really works, and if Bring to OneNote works better than the
        legacy send to onenote addon, then maybe it's worth paying for
        (they have package deals on multiple addons but those are expensive
        too, maybe $50).

***** OneNote stop turning on screenhogging Normal Mode
      I don't have an answer for this yet
***** Fullscreen show pens in fullscreen
******* I've made many complaints (see Evernote "my comments")
******* One person just uses the ON metro app when inking (has a radial dial)
******* [[http://answers.microsoft.com/en-us/office/forum/office_2013_release-onenote/how-to-quickly-switch-pens-with-onenote-2013-on/8de8fc25-38a9-4655-bd2f-4497dfa0513e][Claimed solution]]
******* [[http://answers.microsoft.com/en-us/office/forum/office_365hp-onenote/remember-show-tabs-setting-in-onenote-ribbon/6b257762-0d19-4e5a-8f2b-5a1bdb6c4280?page%3D6&tm%3D1413628582462][One Hack]]: alt+1 --> show quick access toolbar; touch gesture --> alt+1
        (see my comment, which was:)

        scottoRW replied on

        Reply

        Thanks very much for the tip, which makes this OneNote usability error tolerable.

        Unfortunately, I can't map my volume key.  So, piling one hack on top of another, I mapped the Alt+1 to the quick access toolbar "hide the ribbon" toggle, and then I used the TouchMe Gesture Studio app to map Alt + 1 to a touch gesture.

        Of course, we shouldn't be doing any of this; MS should just fix "Show Tabs
        and Commands"

******* A guy's [[http://answers.microsoft.com/en-us/office/forum/office_365hp-onenote/remember-show-tabs-setting-in-onenote-ribbon/6b257762-0d19-4e5a-8f2b-5a1bdb6c4280?page%3D6&tm%3D1413628582462][related hack idea]]
        (from his comment:)

        Meecrosoft replied on

        Reply

        Try this:

        If you know a bit about autohotkey that those other guys are talking about,
        I have a totally automatic solution. Like the other solutions, place "Hide
        the Ribbon" command from "More Commands" in the very first slot. Then,
        paste this code into autohotkey.

        ;name this HideRibbon
        RunMacro = 1
        loop {
        Process, wait, ONENOTE.exe, 1
        NewPID = %ErrorLevel%
        if (NewPID != 0 and RunMacro = 1) {
        sleep 2500; Change this value to suit the speed of your computer - 1000 =1 second
        Send !1
        RunMacro = 0
        }
        if (NewPID = 0 and RunMacro = 0) {
        RunMacro = 1
        }
        }

        Then, press win+R and enter %appdata%

        Navigate Microsoft->Windows and paste HideRibbon.ahk here, and create a
        shortcut

        Copy/Cut the shortcut and go in the same folder Start Menu
        ->Programs->Startup and paste here

        This will automatically run the script when you start up your computer

        Done! Now every time you open one note it will automagically show the
        ribbons!

        Remember to change the timing of the sleep to suit your computer's speed,
        or it might fire off the hotkey too early.

        This script resets itself after 5-15 seconds of closing onenote, so it
        won't work if you close and immediately open onenote again.

******* [[http://www.reddit.com/r/Surface/comments/2bcofe/double_click_stylus_to_activate_pen_palette_in/][Use pen double click to expose draw ribbon]]

        I couldn't get this to work

        Note that the guy has another set of autohotkey stuff that might be
        nice: screen dimming from keyboard, touchpad back/forward gestures,
        etc.  I haven't tried those.

***** [[http://office.microsoft.com/en-in/onenote-help/keyboard-shortcuts-in-onenote-2013-HA102749248.aspx][OneNote keyboard shortcuts]]
***** Turn off author initials and green "unread" highlighting
      happens when I add someting on one computer and look at on another

      o Folklore says it won't happen if ON on both computers have same author name
      and initials. Go to File --> Options --> General
      o ON 2013: History Tab
      --> click "Hide Authors" tab
      --> unclick "show unread..." in "Mark as Read" tab
      o [[http://www.tech-recipes.com/rx/11790/microsoft-onenote-2010-hide-author-tags-and-highlighting-of-new-changes/][ON 2010]]: Share Tab
      --> Hide Unread
      --> unclick "show unread..." in "Mark as Read" tab

***** [[https://support.office.com/en-us/article/Create-links-to-notebooks-sections-pages-and-paragraphs-35a2c5e3-87fd-400a-a4f5-ef82e778c208][Links to OneNote notebooks, sections, pages, and paragraphs]]

      Note: the paragraph links don't work if they are used outside of OneNote.  But they will at least bring you to the right page.

***** OneNote/Wacom Tablet setup
******* erase button, others: [[https://www.reddit.com/r/OneNote/comments/gf3hgz/wacom_pen_side_button_config_to_erase/][wacom pen side button config to erase? : OneNote]]

***** <<OneNote and SkyDrive>>
******* [[http://answers.microsoft.com/en-us/skydrive/forum/sdfiles-sdother/can-i-move-my-onenote-web-files-to-a-new-folder/3dc03ed6-c69f-421d-bd05-daa97dd1be0f][Moving Notebooks]] on Skydrive
	 Brian Perrin wrote:

         In OneNote:

         1) Close the notebook you want to move. I did this by right clicking on the notebook's name in the Notebooks panel, on the left side of the screen by default.

         On SkyDrive website:

         2) Go to your Documents folder and create the new folder you want to store notebooks in.

         3) If you're in the thumbnail view (everything shows up as a large rectangle), change to the details view (everything shows up as a list of files with checkboxes). You do this by clicking the second button to the right of the search box.

         4) Select the notebook you want to move by checking its checkbox.

         5) Move them by selecting the "Move to" command on the right side of the screen, picking the new folder from the popup that appears (you'll need to expand the Documents folder to see its subfolders), and clicking Move.

         6) Go to your new folder.

         7) Select the notebook by its checkbox again, and then select the "Open in OneNote" option on the right.

         Your notebook should open in OneNote and be back to syncing properly.

******* [[http://omeratay.com/onetastic/?i%3Donenote-sync][OneNote explanation]]
******* [[http://answers.microsoft.com/en-us/skydrive/forum/sdfiles-sdsync/skydrive-syncs-onenote-notebook-to-pc-as-single/1f20bf3a-2191-4ef5-9fe2-620abd529f07][OneNote explanation]], which I don't quite get

***** [[org-mode to/from OneNote]]
*** [[https://support.office.com/en-us/article/How-do-I-reinstall-Office-2013-after-an-Office-2016-upgrade-a6ca92f4-cbb4-4609-9fdb-f8d3dd6812f3][Reverting from Office 2016 to Office 2013]]
*** Fixing "File Failed To Upload" error in Office Upload Center

    This fixed it for me:
    1. Find the problem file by clicking on the OneDrive icon
    2. Click on it to open
    3. Save As to itself

*** Forcing Office 365 update
    From [[http://betanews.com/2014/02/27/how-to-force-office-365-to-upgrade-to-service-pack-1/][here]]:

***** Launch the Office 365 program of your choosing.
***** Click the File tab and select the Account option.
***** Click the Update Options button to the right and then select Disable updates.
***** If a User Account Control dialog appears, click Yes.
***** Click the Update Options button again, and then select Enable updates -- again, click Yes in the UAC dialog.

*** <<MS Office and Emacs>>
***** [[Org to/from MS Word]]
***** Viewing MS Office or OpenDocument in Emacs adocs: [[http://stackoverflow.com/questions/28474736/how-to-open-pdf-file-in-emacs][need unoconv]] & gs
***** Getting a link to an outlook email
******* [[https://superuser.com/a/1256130/1250395][org-mode function + Outlook macro]]
******* Copy to OneNote: right click on email --> Outlook Icon
******* Copy to Evernote:  right click on email --> Evernote Icon
******* Using Outlook web interface
********* copying web page URL, I think: [[https://itectec.com/webapp/how-to-get-a-link-to-a-specific-email-thread-a-k-a-conversation-in-microsoft-outlook-web-interface/][Outlook web interface doesn't work]]
********* But via TODO?  [[https://superuser.com/questions/1503128/link-to-microsoft-outlook-365-webmail-email/1572112#1572112][web - Link to Microsoft Outlook 365 Webmail email]]
******* OR, just give up and copy email text after doing "reply all"
*** [[Importing pdf tables into Excel/Word]]
*** Excel
***** Interpolate function
******* with vlookup, offset, match and forecast
        https://www.youtube.com/watch?v=LFUd5qF8nyE

        I think it's [[https://www.mrexcel.com/forum/excel-questions/690305-v-look-up-interpolate-simple-linear-interpolation.html][this]]:

        =FORECAST(NewX,OFFSET(KnownY,MATCH(NewX,KnownX,1)-1,0,2),
        OFFSET(KnownX,MATCH(NewX,KnownX,1)-1,0,2))

******* using VB macros
        problem with macros is that you have to enable them
********* [[https://www.rondebruin.nl/win/code.htm][Where do I paste the code that I find on the internet]]
********* [[http://www.cpearson.com/excel/differen.htm][Macros And Functions]]
********* [[https://support.office.com/en-us/article/Create-Custom-Functions-in-Excel-2007-2f06c10b-3622-40d6-a1b2-b6748ae8231f][Create Custom Functions in Excel 2007 - Excel]]
********* has Vbasic:  [[https://www.excelforum.com/excel-formulas-and-functions/466389-linear-interpolation-function-in-excel.html][linear interpolation function in excel {SOLVED}]]
******* vlookup and int (shorter)
********* [[http://www.ozgrid.com/forum/showthread.php?t=69973][A Formula To Lookup And Interpolate]]
******* [[https://support.office.com/en-us/article/TREND-function-e2f135f0-8827-4096-9873-9a7cf7b51ef1][trend]] function (still linear... but can use polynomials)
***** <<Importing pdf tables into Excel/Word>>
******* [[https://www.pdftoexcelonline.com/][www.pdftoexcelonline.com]] makes an Excel file, worked for me on 6/18/20
*** [[Getting rid of Microsoft Office Upload Center]]
*** Visio
***** Pasting Equation into Visio
******* [[https://social.technet.microsoft.com/Forums/office/en-US/2126bb8d-b179-4bdf-b490-7eef1981a7a6/visio-2019-equations?forum=visiogeneral][Equations were removed from Visio 2019]], suggest pasting screenshots
******* [[http://www.visguy.com/2019/02/01/word-equation-to-visio-to-svg/][A Very Simple Solution!]] which is not so simple
*** also [[Install MS Office and MS Fonts on MacOS]]
* Version Control Systems
*** svn
***** [[http://www.systhread.net/texts/200607subver.php][creating a repository]]
      create an empty repository awaiting an import (called svnroot):

      svnadmin create svnroot

      (note that this is really simple with Windows Tortoise SVN

***** [[http://svnbook.red-bean.com/en/1.1/re12.html][importing directory]] (recursively)

      go to directory /above/ directory to be imported and:

******* https: repository, like DTU

        /I put everything under a "trunk" dir because GUI tools complained if I didn't/
        /I also checked everything in right under trunk.  Need to clean this up/

        svn import -m "Initial" doc https://svn.imm.dtu.dk/svn/scot/trunk/doc
        mv doc doc.save
        svn checkout https://svn.imm.dtu.dk/svn/scot/trunk/doc doc

        for a different username, https://user_name@.../path... works, [[http://stackoverflow.com/questions/405690/in-subversion-can-i-be-a-user-other-than-my-login-name][supposedly]]

******* svn+ssh repository

        svn import -m "Initial" ruby svn+ssh://svn/services/svn/General/scotto/lib/ruby
        mv ruby ruby.save
        svn checkout svn+ssh://svn/services/svn/General/scotto/lib/ruby ruby

***** moving a repository
***** undoing a checkin

      reverse version merge and then check it back in

      svn merge -r 77:76 https://svn.imm.dtu.dk/svn/scot/trunk/doc/energy.bib
      svn diff  # verify
      svn ci -m "undo checkin which sorted bib entries" energy.bib

***** [[http://stackoverflow.com/questions/1786687/svn-undo-delete-before-commit][undo delete before checkin]]

      if deleted with svn rm
      svn revert <the deleted file or dir>

      if deleted with rm -rf
      svn update <the deleted file or dir>

      to undelete directory directoryName
      svn revert -r directoryName

      (might have to undelete the empty directory first, though, I'm not sure)

***** [[https://itswiki.imm.dtu.dk/IT_Systems/IMM_provided/Subversion_server][DTU svn server]]:
******* my repository is at: https://svn.imm.dtu.dk/svn/scot

        Hi Scott,

        You are not doing something wrong. The problem is that when ssh is being used like this the profile is not being read, hence that path is not being set to include /opt/csw/bin. If you set a full PATH in ~/.ssh/environment on sunray4 you should be fine.. E.g PATH=/bin:/usr/bin:/opt/hppd/bin:/opt/csw/bin:/usr/X/bin/
        (but the path should be the correct one for both solaris nd linux since it is being read when you logon to both sunray4 and e.g. hms1).

        However, we have a better alternativ: We have a "real" subversion server and here I've created a repository for you:
        https://svn.imm.dtu.dk/svn/scot
        Only you have access to it but we can grant access to other IMM users if needed. See https://itswiki.imm.dtu.dk/IT_Systems/IMM_provided/Subversion_server for more details.

        Best regards,
        Henning Chr.


        Med venlig hilsen Henning Christiansen

***** <<svn in emacs>>
******* [[http://www.xsteve.at/prg/vc_svn/][psvn.el]] like pcl-cvs.el (what I use for CVS)
********* the C-c c v stuff, in the code buffer
********* I've [[file:~/lib/emacs/psvn.el][installed]] it
********* to run:

          svn-examine
          E for ediff
          ...

******* [[http://www.gusdb.org/wiki/index.php/SubversionInEmacs][SubversionInEmacs]] wiki
******* [[http://www.emacswiki.org/cgi-bin/wiki/SubVersion][EmacsWiki/SubVersion]]
******* svn interfaces on emacs [[http://svn.haxx.se/dev/archive-2002-08/1430.shtml][overview]]
******* fixing svn ssh_askpass problem that occurs when checking in from inside of emacs
********* symptom
          check in inside of emacs and see this:

          ssh_askpass: exec(/usr/libexec/ssh-askpass): No such file or directory
          Permission denied, please try again.
          ssh_askpass: exec(/usr/libexec/ssh-askpass): No such file or directory
          Permission denied, please try again.
          ssh_askpass: exec(/usr/libexec/ssh-askpass): No such file or directory
          Permission denied (publickey,password,keyboard-interactive).
          svn: Commit failed (details follow):
          svn: Connection closed unexpectedly

********* [[http://de-compile.com/%3Fm%3D200803][solution]]

          on mac:

          ssh-keygen -t rsa -f ~/.ssh/id_rsa -C "key@local"

          (don't bother creating a pwd)

          ssh svn
          mkdir ~/.ssh;chmod 700 ~/.ssh

          on mac, copy ~/.ssh/id_rsa.pub to svn file ~/.ssh/authorized_keys

          (I pasted into an emacs buffer, could use scp?)

          chmod 600 ~/.ssh/authorized_key

          That's it!
***** svn rename/move a file
      svn move SRC DEST
***** svn and proxies
      [[http://www.mikepot.com/1544.html][Special config]] on a system that uses a proxy.  At IWES:

      edit ~/.subversion/servers
      look for the [global] section and at the end of it, add:

      http-proxy-host=10.13.13.5
      http-proxy-port=3128

      After I did this svn ci inside of emacsw32 on windows worked to the
      point where I had a username/password problem.  Before that, it didn't
      get there.  This was for the DTU svn svn repository, which used an
      https connection in the stuff I'd already checked out on my home
      laptop.

      But the first comment [[http://stackoverflow.com/questions/82530/svn-over-http-proxy][here]] says that the proxy in .subversion is the
      proxy for the svn repository, not the one IWES uses.  Then why did I
      get furhter?  Does this comment only apply to svn+ssh:// type
      connections?

***** printing HEAD version

      svn info -r HEAD | grep Revision | cut -d " " -f 2

      or, if have awk:

      svn info -r HEAD | grep Revision | awk '{print $2}'

***** fix for malformed database/LOCALE problem

      On windows, type this:

      export LC_ALL=C
      svn cleanup

      This can help the malformed database error you get when you check in,
      and which is a danger when you see this error:

      svn: warning: cannot set LC_CTYPE locale
      svn: warning: environment variable LANG is ENU
      svn: warning: please check that your locale name is correct

      (somehow, these error messages end up in the svn db files!  In the
      dir-prop-base file.  Corruption can be fixed by deleting the bad lines
      and correcting the byte count on the line above them (leads with 'V',
      count is the # of chars in the strings that remain + 1, probably for
      the newline?))

      [[http://armenianeagle.com/2008/03/18/svn-warning-cannot-set-lc_ctype-locale-solution/][ Somebody]] says this command belongs in .bashrc but is just svn cleanup
      sufficient to make the fix permanent?  Just to be sure, and to make
      sure Tortoise SVN could see it, I put it in a /windows/ environment
      variable.

       At this point emacs svn-examine (I mapped this to F2) still had the
       locale error message but svn checkin from emacs worked (by both C-c v v
       and the svn-examine window).

       Emacs seems to be correctly seeing the locale setting.  To see it,
       [[http://www.mygooglest.com/fni/dot-emacs.html][type]]:

       M-x report-emacs-bug RET foo RET

       The error message is coming from psvn.el, [[file:~/lib/emacs/psvn.el::(t%20"%20%5B%20REPO-LOCK-UNKNOWN%20%5D")))][here]].  The author is [[http://www.xsteve.at/prg/index.html][here]].

***** svn [[http://svnbook.red-bean.com/en/1.1/ch07s02.html#svn-ch-7-sect-2.3.3][ignore]] files/dirs

      Example: to ignore directory 'dat'

      svn propset svn:ignore dat .

      Can also put names of things to ignore in a newline separated file,
      "tmp.ignore.txt,"

      svn propset svn:ignore -F tmp.ignore.txt .

      _problem_: propset overwrites old ignore prop so lose old ignores

      svn propedit svn:ignore .

      Brings the ignore list up in the editor $EDITOR.  Can manually add there.
***** tortoiseSVN proxy
      be sure to set it, if necessary
      windows explorer
      cursor on some directory
      right click -> tortoise svn -> settings --> network
***** how to use trunk,branch,tag
******* trunk, branch are directories
********* names are conventions, not required to be trunk or tag
********* trunk: is most current, by convention (CTS called it HEAD?)
********* branch is a directory w/ many historical copies underneath it
*********** branch directory names are arbitrary e.g.

            branch/versionA
            branch/version2
            branch/prototypFurEweline
            ...

*********** branches usually derived from trunk, a separate copy to maintain trunk integrity
*********** branch could be a product release: fix/maintain this while also making the new version
*********** branches are usually merged with the trunk
******* tags: denote software versions at a point in time
********* either trunk or branch
********* tags don't copy files so can make a ton of them
********* are a way of checking out a coherent set of working software (I think)
********* could just use a revision file, with versions
********* are a way to go back and reproduce bugs/performance/or whatever of old versions
******* SVN book:
********* [[http://svnbook.red-bean.com/en/1.5/svn.reposadmin.planning.html#svn.reposadmin.projects.chooselayout][Planning Your Repository Organization]]
********* [[http://svnbook.red-bean.com/en/1.5/svn.branchmerge.maint.html#svn.branchmerge.maint.layout][Repository Layout]]
***** how to share libraries across multiple projects
******* TODO svn:externals
********* TODO [[http://svnbook.red-bean.com/en/1.7/svn.advanced.externals.html][svnbook on externals]] (read it)
********* A simple HOWTO: [[svn:externals common sub-project TSVN]]
********* in same project tree
*********** overview

            From [[http://stackoverflow.com/a/662934][here]]:

            svn:externals will allow you to bring in files at a directory level. Like:

            Proj1\
            File1
            File2

            Proj2\
            File3
            File4

            Then in Proj2 you can svn:externals Proj1, and end up with:

            Proj2\
            Proj1\
            File1
            File2
            File3
            File4

            Your can also share individual files (in svn 1.6, see Wim Coenen comment)
            e.g.

            Proj2\
            File1 <- from Proj1
            File2 <- from Proj1
            File3
            File4

            But a commenter [[http://stackoverflow.com/a/3608453][here]] says that it's tricky to update individual files.
********* in separate project tree, [[http://stackoverflow.com/a/684994][as advocated here]]
********* TODO externals pointing to a specific version ?

          [[%20%5B%5Bhttp://lists.mplayerhq.hu/pipermail/mplayer-users/2008-August/073965.html%5D%5Bsvn%20co%20gets%20latest%20extern%5D%5D,%20not%20a%20specific%20tag??][It seems that]] if include an external w/o a specific version, svn
          updates to the latest version (not what you want)

          _But does this work?_ Can I include different versions of a folder
          called "lib1" using svn external properties like:

          "lib1 -r42 http://.../common/lib1/trunk/src"

          I imagine "-r42" could also reference a tag ([[http://stackoverflow.com/a/684994][it seems]]) but
          [[http://stackoverflow.com/questions/683716/subversion-update-externals-to-a-date][don't try it with a date]].
*********** friendly explanation
            From [[http://stackoverflow.com/a/663283][here]]:

            We've used svn:externals pointing to shared code in practice for a few
            years now. We have had some interesting problems with it that you should
            probably consider before using it though. Here is the structure that we
            have:

            root
            +---common
            | +---lib1    |             |
            |             | \---trunk   |
            |             | +---include |
            |             | \---src     |
            | \---lib2    |             |
            | \---trunk   |             |
            | +---include |             |
            | \---src     |             |
            +---proj1
            | \---trunk   |            |
            | +---include |            |
            |             | \---common |
            | \---src     |            |
            | \---common  |            |
            \---proj2
            \---trunk
            +---include
            | \---common |
            \---src
            \---common

            The common directories in both include and src in a project contain external definitions that pull in the common libraries:

            c:\dev> svn pget -v svn:externals proj1\trunk\src\common
            Properties on 'c:\dev\proj1\trunk\src\common':
            svn:externals : lib1 http://.../common/lib1/trunk/src
            lib2 http://.../common/lib2/trunk/src

            The problem that we've run into is multifaceted but related to tagging and branching our source as the projects change throughout time. The externals definition that I showed above has a few pretty severe problems if you want to have reproducible builds:

            It refers to a dynamic target - trunk.
            It doesn't refer to an explicit revision.

            When you branch using svn copy, the externals are copied verbatim since
            they are really just properties attached to the object. Some of the other
            svn commands (commit, checkout, and export) actually interpret the
            properties. When you tag a project, you really want to preserve the state
            of the project for all time. This means that you have to "pin" the
            externals to a specific revision so you need to change the externals
            definition to explicit refer to the revision that you want (e.g., "lib1
            -r42 http://.../common/lib1/trunk/src"). This solves one facet of the
            problem.

            If you have to maintain multiple incompatible branches of the common code, then you have to specify which branch you want explicitly along with (possibly) the revision.

            Needless to say, this can be a bit of a headache. Luckily someone out there in Subversion land write the svncopy.pl script that automates some of this mess. We are still (and have been) struggling with some of the difficulties supporting this in a field deployed product with a bunch of shared code and a mandate of three different versions in the field at any time.

            If you do go down this route, then be sure to consider how you will maintain the linkages as the projects grow and change. We've found that a little bit of time thinking about a process will go a long way here.
*********** TODO need to run 'svn co' individually for each dir tree recursively?

            or does it just start @ the top

            worrysome stuff [[http://stackoverflow.com/questions/683716/subversion-update-externals-to-a-date][here]] but I don't quite understand it

********* Ksvn [[http://stackoverflow.com/a/683800][is supposed]] to have some kind of good externals feature but link is broken
********* using TortoiseSVN
*********** Using svn:externals w/ a common sub-project in [[http://tortoisesvn.net/docs/release/TortoiseSVN_en/tsvn-howto-common-projects.html#tsvn-howto-common-externals][TortoiseSVN]]
            <<svn:externals common sub-project TSVN>>
*********** [[http://tortoisesvn.net/docs/release/TortoiseSVN_en/tsvn-dug-import.html#tsvn-dug-import-4][TortoiseSVN importing data into a project]] (somebody says so [[http://stackoverflow.com/a/663236][here]])
*********** I think? [[http://systemwidgets.com/Support/SubversionArticles/SharedRepositoriesusingsvnexternals/tabid/81/Default.aspx?PageContentMode%3D1][TortoiseSVN externals feature]]
******* 'svn copy' of a tree w/ different versions checked out in it

        From Redbook, [[http://svnbook.red-bean.com/en/1.7/svn.branchmerge.tags.html][here]]:

        Time to make a snapshot. Copying one URL to another won't work here. In
        this case, you want to make a snapshot of your exact working copy
        arrangement and store it in the repository. Luckily, svn copy actually has
        four different uses (which you can read about in Chapter 9, Subversion
        Complete Reference), including the ability to copy a working copy tree to
        the repository:

        $ ls
        my-working-copy/

        $ svn copy my-working-copy \
        http://svn.example.com/repos/calc/tags/mytag \
        -m "Tag my existing working copy state."

        Committed revision 940.

        Now there is a new directory in the repository, /calc/tags/mytag, which is
        an exact snapshot of your working copy—mixed revisions, URLs, local
        changes, and all.

*** <<Git version control>>
***** Git tutorials
******* [[http://git.or.cz/course/svn.html][Git vs. SVN Crash Course]]
******* [[http://rogerdudler.github.io/git-guide/][git - the simple guide - no deep shit!]]
******* TODO (recommended for DevOps/Agile): [[https://www.atlassian.com/git/tutorials/advanced-overview][Advanced Git Tutorials Overview | Atlassian Git Tutorial]]
***** undo git commit
      From: [[https://www.codeleaks.io/how-to-uncommit-changes-in-git/][How to Uncommit Changes in Git? {Complete Guide} - Code Leaks]]

      _undo last commit while leaving the previously committed changes unstaged_

      git reset HEAD^

      _and many other options..._

***** adding a directory to a git repo

      *Note*: must have at least one file in a dir before you try to do a commit

      mkdir <dirname>
      put file(s) in it
      git add <dirname>
      git commit <dirname>
      git push

      
***** Initializing a git repository from scratch
      From: https://bitbucket.org/

      git clone https://urwald@bitbucket.org/urwald/ref.git
      cd ref
      echo "# My project's README" >> README.md
      git add README.md
      git commit -m "Initial commit"
      git push -u origin master      
***** Git branches
******* Making a branch
********* making a branch within an already checked out repository

          git checkout -b <branch name>
         
******* cloning a remote branch

        cd to the dir where you want to put the clone, then:

          git clone -b branch_name repot_url

        e.g.
        
          git clone -b GELI-3425-make-forecast-duration-configu git@bitbucket.org:gelibitbucket/geli-engine.git

        If it asks for a password, it's the one associated with your ssh public/private key pair, the one stored in ~/.ssh/id_rsa.pub

        Note: that there's some way to prevent it asking for a pwd every time, but I don't remember it.

        Note: bitbucket has a link on the repo master page from which to copy the repo URL e.g. on [[https://bitbucket.org/gelibitbucket/geli-engine/src/master/][this bitbucket page]] 

******* updating a git branch
        From: [[https://remarkablemark.org/blog/2017/06/02/git-update-branch/][How to update a Git branch]]

        while in the branch

        git pull
        
******* committing to a branch

        To commit everything: cd to top dir of branch

        git commit -m "commit message" -a

        (can also do this from emacs vc-dir in top dir of checked out branch)

******* pushing to a remote branch

          git push -u origin branch_name

        e.g.

          git push -u origin GELI-3425-make-forecast-duration-configu

******* creating a pull request for a branch

        I. go to the JIRA ticket page, e.g. this one:

          https://growingenergylabs.atlassian.net/browse/GELI-3425

        II. assming you've already made a branch for this ticket, and that you've pushed your fixes to the branch, then click on the "commit" link on the lower right side of the page. This will create a popup.

        III. On the popup, click the "pull requests" link at the top and then the "create pull request" button at the bottom.
        
***** Git submodules

      A way of making a meta version describing the versions of all packages/libraries used.  Solves the library problem, and makes it possible to work on chunks separately while still being able to version the whole.

      TODO: [[https://git-scm.com/book/en/v2/Git-Tools-Submodules][Git - Submodules]]

***** <<Git large file storage for test data>>

      Git Large File Storage (LFS) _replaces_ large files such as audio samples, videos, datasets, and graphics with _text pointers inside Git_, while storing the file contents on a remote server like GitHub.com or GitHub Enterprise.

      TODO [[https://git-lfs.github.com/][Git Large File Storage | Git Large File Storage (LFS) replaces large files su...]]

      Also: [[Data Versioning]]

***** Tortoise GIT
******* [[https://help.cloudforge.com/hc/en-us/articles/215243143-Configure-TortoiseGIT-client-to-work-with-SSH-keys-on-Windows][tortoiseGIT ssh key]]
******* tortoiseGIT [[https://stackoverflow.com/questions/14000173/tortoisegit-save-user-authentication-credentials][avoid typing in password]] each time
***** Bitbucket 
******* [[https://confluence.atlassian.com/bitbucket/use-the-ssh-protocol-with-bitbucket-cloud-221449711.html][bitbucket SSH key]]
******* [[https://www.atlassian.com/git/tutorials/learn-git-with-bitbucket-cloud?team_source=header&utm_source=special-offer-email&utm_medium=email&utm_campaign=EP-124][Learn Git with Bitbucket Cloud | Atlassian Git Tutorial]]
******* [[https://developer.atlassian.com/blog/2016/02/6-secret-bitbucket-features/?team_source=header&utm_source=special-offer-email&utm_medium=email&utm_campaign=EP-124][6 Bitbucket secrets - Atlassian Developers]]
******* Bitbucket is compatible with [[Gitpod]]
***** <<git in emacs>>
******* [[VC: emacs's builtin version control meta interface]]
******* Built-in VC
******* Emacs VC [[https://www.emacswiki.org/emacs/GitQuickStartForEmacsDevs][doesn't support git push]] yet.  Alternative
******* git push (works fine from cmdline, fast and convenient)
******* TortoiseGIT
******* [[magit]] (should consider this)
******* <<magit>>
        From: [[http://jr0cket.co.uk/2012/12/driving-git-with-emacs-pure-magic-with.html][Driving Git With Emacs - Pure Magic With Magit - Part One]]

        Note: Many [[https://www.reddit.com/r/emacs/comments/2h7s6z/vc_as_an_alternative_to_magit/][use VC and magit simultaneously]].

******* [[Emacs/Git for experiment logging]] (git/emacs/org-mode)
******* [[Git version control]]
******* [[Emacs/Git for experiment logging]] (git/emacs/org-mode)
******* <<Forking a github project, debugging/fix it on local machine>>
      Inspired by user IBwWG, here: [[https://gist.github.com/jagregory/710671][How to move to a fork after cloning]]

      I cloned a repository (https://github.com/glm-tools/pyglmnet/), made a branch named dataset_and_ex_fixes, and then did some bugfixes

      But I couldn't do a pull request for it back to /glm-tools/pyglmnet/ because *PRs must be done from a fork*.  

      So, on github, I made a fork with url. The I cloned it to my local machine.  I cd'ed to the local machine dir where I wanted the repo to be, then:

           git clone https://github.com/notuntoward/pyglmnet

      Then, I did my edits and tests.
      
      Then, in my local clone, I pointed it to my fork with:

      git remote set-url origin git remote set-url origin https://github.com/notuntoward/pyglmnet.git

      git push --set-upstream origin dataset_and_ex_fixes
      (note: the above is a [[https://stackoverflow.com/questions/2765421/how-do-i-push-a-new-local-branch-to-a-remote-git-repository-and-track-it-too]["post-creation step"; I think you need to use the -u option]] once the branch created.  i.e., you'd later type:
      git push -u origin <branch>)

      Following instructions that were printed on the command line, I visited

      https://github.com/notuntoward/pyglmnet/pull/new/dataset_and_ex_fixes

      and made a pull request back to the original pyglmnet repository

******* also [[Editing and debugging a python package installed from source]]

***** Git on Windows
******* <<git bash>>
        ([[https://gitforwindows.org/][comes with SCM git for windows]])

        Getting a bash shell

        WinKey + git bash

******* <<setup git for ssh keys, like at Geli>>
********* <<Setting up public/private keys on local machine>>
*********** MacOS
            From: [[https://support.atlassian.com/bitbucket-cloud/docs/set-up-an-ssh-key/][Set up an SSH key | Bitbucket Cloud | Atlassian Support]]

            within [[git bash]] terminal, assuming ssh private ssh key is in:
            ~/.ssh/id_rsa

            _Generate public / private keys_
        
            ssh-keygen

            (type in a password for the key that you have made up)

            _Add private ssh key so don't have to type a password all the time_
        
            eval $(ssh-agent)
            ssh-add ~/.ssh/id_rsa

            (enter password (made up by you above) associated w/ that
             private key (stored in LastPass for Geli))
             
*********** Linux
            From: [[https://support.atlassian.com/bitbucket-cloud/docs/set-up-personal-ssh-keys-on-linux/][Set up personal SSH keys on Linux | Bitbucket]]

            Assming OpenSSH is already installed, To allow git to use
            your SSH key, an SSH agent needs to be running on your
            device:

              eval $(ssh-agent)

            You may need to add this command to your ~/.bashrc,
            ~/.zshrc, ~/.profile, or equivalent shell configuration
            file. Adding this command to a shell configuration file
            will ensure the agent is running when you open a terminal.

            Create an SSH key pair (key name below is "bitbucket_work"  Need unique for each machine):

              cd ~

              ssh-keygen -t ed25519 -b 4096 -C "scott.otterson@qcells.com" -f bitbucket_work

            Assuming that =scott.otterson@qcells.com= is the email associated with my work bitbucket account, and that =bitbucket_work= is the output filename for the key.
            
*********** Windows
            From: [[https://support.atlassian.com/bitbucket-cloud/docs/set-up-personal-ssh-keys-on-windows/][Set up personal SSH keys on Windows | Bitbucket Cloud | Atlassian Support]]

************* Install OpenSSH on your device.

              Install Git for windows

              I think I did this with choco, but I don't remember.  Could do it from here:

                 https://gitforwindows.org/. 

              This also installs a git bash terminal.  Verify ssh install using this:

                Run git bash from Start Menu

                In git bash terminal

                   ssh -V

                should see installed version of SSY

************* Start the SSH service

*************** Using git bash

                In git bash terminal

                  eval $(ssh-agent)

                So ssh autostarts when open git bash terminal, also add this ~/.bashrc

                Verify

                  ps -a | grep ssh-agent

*************** Could also do in Powershell:

                 In admin powershell

                 Check to see if ssh service is running:

                   Get-Service ssh-agent

                 Start it (I needed to [[https://stackoverflow.com/a/53606760/2591097][set it to manual 1st (admin mode)]]. Then ssh-agen will start it)

                   Get-Service -Name ssh-agent | Set-Service -StartupType Manual
                   Start-Service ssh-agent

                 To make it automatic (still doesn't work, but at least I can start it in manual):

                   Set-Service -Name sshd -StartupType 'Automatic'

************* Create an SSH key pair for work bitbucket cloud account, using work email

              cd ~
              ssh-keygen -t ed25519 -b 4096 -C "scott.otterson@qcells.com" -f qcells_windows_bitbucket

*************** Windows Laptop Studio Work Bitbucket key:

              I used pwd: oG1<jT9)

ssh-keygen -t ed25519 -b 4096 -C "scott.otterson@qcells.com" -f qcells_windows_bitbucket
Generating public/private ed25519 key pair.
qcells_windows_bitbucket already exists.
Overwrite (y/n)? y
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in qcells_windows_bitbucket
Your public key has been saved in qcells_windows_bitbucket.pub
The key fingerprint is:
SHA256:bmvQiHmL4jvUmgt4+FIrObP2moHSzSw0nrtVxex+q28 scott.otterson@qcells.com
The key's randomart image is:
+--[ED25519 256]--+
|              |
| o            |
| +            |
| o            |
| o. o.oS      |
| o=o*+.+o.    |
| *=*+=o o+ .  |
| B=O+. ...oE. |
| oXXB   .o+o  |
+----[SHA256]-----+


************* Add your key to the SSH agent.

              This puts the keys in your current directory (s/b ~ if you've followed instructions). 
               
                 ssh-add qcells_windows_bitbucket

              Instruction say to use: ssh-add ~/{ssh-key-name}, but '~~~' doesn't work in Windows.  The files it creates are:

                 {ssh-key-name} — the private key.
                 {ssh-key-name}.pub — the public key.

              Incongrously, the next instruction from BitBucket
              assumes that you've put them under .ssh.  So do this, where qcells_windows_bitbucket replaces {ssh-key-name}:

                  mv qcells_windows_bitbucket ~/.ssh
                  mv qcells_windows_bitbucket.pub ~/.ssh

              To ensure the correct SSH key is used when connecting to
              Bitbucket, update or create your SSH configuration file
              (~/.ssh/config) with the following settings:

                Host bitbucket.org
                  AddKeysToAgent yes
                  IdentityFile ~/.ssh/{ssh-key-name}

************* Provide Bitbucket Cloud with your public key.

              1. Log into bitbucket.org (scott.otterson@qcells.com for work; scotto@sharpleaf.org for home.

              2. At bitbucket.org, click setting icon on navigation bar at the top/right of the screen.

              3. Under Settings, select Personal settings.

              4. Under Security, select SSH keys.

              5. Select Add key.

              6. In the Add SSH key dialog, provide a Label to help you identify which key you are adding. For example, Work Laptop <Manufacturer> <Model>. A meaning full label will help you identify old or unwanted keys in the future.

              7. Open the public SSH key file (public keys have the .pub file extension) in a text editor. The public key should be in the .ssh/ directory of your user (or home) directory. The contents will be similar to:

                 ssh-ed25529 LLoWYaPswHzVqQ7L7B07LzIJbntgmHqrE40t17nGXL71QX9IoFGKYoF5pJKUMvR+DZotTm user@example.com

              8. Copy the contents of the public key file and paste the key into the Key field of the Add SSH key dialog.

              9. Select Add key.

              If the key is added successfully, the dialog will close
              and the key will be listed on the SSH keys page.

              If you receive the error That SSH key is invalid, check
              that you copied the entire contents of the public key
              (.pub file).

************* Check that your SSH authentication works.

              To test that the SSH key was added successfully, open a
              terminal on your device and run the following command:

                 ssh -T git@bitbucket.org

*************** You'll probably get an error message like this one

PS C:\Users\scott> ssh -T git@bitbucket.org
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the RSA key sent by the remote host is
SHA256:46OSHA1Rmj8E8ERTC6xkNcmGOw9oFxYr0WF6zWW8l1E.
Please contact your system administrator.
Add correct host key in C:\\Users\\scott/.ssh/known_hosts to get rid of this message.
Offending RSA key in C:\\Users\\scott/.ssh/known_hosts:1
Host key for bitbucket.org has changed and you have requested strict checking.
Host key verification failed.

*************** Fix that error, if you do get it:

                The problem is likely that the old bitbucket.org key is in the known_hosts file.  In the error message above, it's on the first line.  So..

                1. Delete the line(s?) with bitbucket.org on it (them?)
                2. add the correct key by runnin ssh -T git@bitbucket.org (which will as if you want to add it)
*************** Test known_hosts

                From [[https://bitbucket.org/blog/ssh-host-key-changes?jobid=106086290&subid=1709810598][here]], run:

                  ssh git@bitbucket.org host_key_info

                and you should see something like this:

                  PS C:\Users\scott\share\ds-experimental> ssh git@bitbucket.org host_key_info
                  You are using host key with fingerprint:
                  ssh-ed25519 SHA256:ybgmFkzwOSotHTHLJgHO0QN8L0xErw6vd0VhFA9m3SM

                  See https://bitbucket.org/blog/ssh-host-key-changes for more details.

********* Add public key to Bitbucket account settings

        Log in to the bitbucket account (Geli, see credentials in LastPass)

        Account red dot --> Personal Settings --> SSH keys --> SS keys --> Add key button

        Open .ssh/id_rsa.pub file (or whatever public key file), copy contents.  Doesn't matter whether or not you include the email address @ end.

        Paste in contents (and copy to some place in Geli's confluence??, see Geli setup)

        In git bash terminal, confirm config

        ssh -T git@bitbucket.org

        (type "yes")

******* Preventing git push from asking for your password all the time
        From Bing Chat:

        # don't ask for a pwd more than once per 24 hrs
        git config --global credential.helper cache
        git config --global credential.helper 'cache --timeout=86400'

        # Alternatively, you can use SSH instead of HTTPS to authenticate with the remote repository. This will allow you to use your SSH key instead of your password. Here are the steps to do this:

        ssh-keygen -t rsa -b 4096 -C "your_email@example.com"

        # add the key to ~/.ssh and bitbucket.org as before

        Do [[Setting up public/private keys on local machine]] but use the -rsa flag in ssh-keygen, as above

        # Change the remote URL of your repository to use SSH instead of HTTPS:

        git remote set-url origin git@bitbucket.org:<username>/<repository>.git




******* cloning a reporitory from bitbucket/sourcetree (install source tree if needed)

        [[setup git for ssh keys, like at Geli]]

        log in to bitbucket e.g. https://bitbucket.org/gelibitbucket/ds-experimental/src/master/

        clone (upper right) --> Clone in Sourcetree --> select repo to clone and local dir

        
***** sending a git patch

      If you've cloned a reporitory and made changes, here's [[https://thoughtbot.com/blog/send-a-patch-to-someone-using-git-format-patch][how to email a patch]].  This makes separate patches for each change in your clone, I think.

***** <<git-sync>>
******* [[https://github.com/simonthum/git-sync][simonthum/git-sync: Safe and simple one-script git synchronization]]
******* I could use this to sync all kinds of things
******* Is recommended for [[syncing org-roam across multiple machines]]
*** [[https://github.com/caldwell/commit-patch][caldwell/commit-patch: Commit patches to Darcs, Git, Mercurial, Baza...]]
* HTML
*** tables
***** Easy visual [[http://www.quackit.com/html/html_table_generator.cfm][Table Generator]]
***** Inherited Row properties w/ CSS: [[http://www.somacon.com/p338.php][alternating row colors]]

      This uses /internal css/ which is nice for Anki because hides internal
      CSS but displays external.

      <style type="text/css">
      tr.d0 td {background-color: #CC9999; color: black;}
      tr.d1 td {background-color: #9999CC; color: black;}
      </style>

      <table>
      <tr class="d0"><td>One</td><td>Fish</td></tr>
      <tr class="d1"><td>Two</td><td>Fish</td></tr>
      <tr class="d0"><td>Red</td><td>Fish</td></tr>
      <tr class="d1"><td>Blue</td><td>Fish</td></tr>
      </table>

***** Generic properties: either <td> or <tr>

      *Example w/ td*

      <STYLE TYPE="text/css">
      .className{
      background-color: pink;
      }

      </STYLE>
      <table>
      <tr>
      <td>
      Column 1.
      </td>
      <td class="className">
      Column 2.
      </td>
      </tr>
      </table>

***** apply format to whole table, w/ overriding row color

      Inspired by [[http://www.htmlcodetutorial.com/character_famsupp_203.html][this]] and [[http://www.cs.tut.fi/~jkorpela/styles/simple/table.html][this]] (which uses [[http://www.w3schools.com/css/css_background.asp][background shorthand]]).
      See that hightlight class overrides only properties that it specifies
      (only color: font stays the same).  Note that can add extra table
      info (align) in table header

      <STYLE TYPE="text/css">
      .generic{background: #efe;  font-size : 77%; color: #630}
      .highlight{background: pink; color: black}
      </STYLE>

      <table  class="generic"; align="center">
      <tr><td> 1.1 </td> <td> 1.2 </td> </tr>
      <tr><td> 2.1 </td> <td> 2.2 </td> </tr>
      <tr class="highlight"><td> 3.1 </td> <td> 3.2 </td> </tr>
      </table>

***** spaces between table cells

      Surprisingly hard.  [[http://www.w3schools.com/cssref/pr_tab_border-spacing.asp][This]] is supposed to work but not for anki, at least.
      [[http://www.htmlcodetutorial.com/tables/index_famsupp_29.html][cellpadding and cellspacing]] works if want both vertical and horizontal
      spacing.

      My hack for horizontal spacing is to use border-left/right:

      In this example, there are two row classes.  I couldn't get table-wide
      inheritance to work for cell border spaces, as it did work for alternating
      table rows in previous examples.

      <STYLE TYPE="text/css">
      tr.generic td{background: transparent; font-size : 10 px; color: gray;
      border-right: 3pt solid transparent;
      border-left: 3pt solid transparent;}
      tr.hilgt td{background: GhostWhite; font-size : 10 px; color: black;
      border-right: 3pt solid GhostWhite;
      border-left: 3pt solid GhostWhite;}
      </STYLE>

      <table align="center">
      <tr class="hilgt"><td>ich</td><td>bin</td></tr>
      <tr class="generic"><td>du</td><td>bist</td></tr>
      </table>

*** [[http://www.w3schools.com/tags/tag_comment.asp][comments]]: <!-- a comment --!>
*** variables
***** [[http://www.velocityreviews.com/forums/t156540-variables-in-html.html][doesn't have them]], maybe javscript
*** colors
***** [[http://www.w3schools.com/html/html_colornames.asp][html color names]] with shade picker, excellent color mixer (see "mix" link)
***** [[http://colorschemedesigner.com/][Color Scheme Designer 3]]: pick color combinations that work together
***** large, fixed [[http://htmlcolorcodes.org/][table]] of web safe colors
***** [[http://www.colblindor.com/color-name-hue/][Colblindor]]: viewing web colors as if you were color blind
***** transparent color tag

      Example: .generic{background: transparent}

***** Color space transformation
******* Perl: [[Graphics::ColorUtils]]
******* [[http://code.activestate.com/recipes/576554-covert-color-space-from-hsv-to-rgb-and-rgb-to-hsv/][python example]] (see correction)
******* [[http://www.vbforums.com/showthread.php?t%3D653447][desaturation algorithm]]

        gray = R * 0.3086 + G * 0.6094 + B * 0.0820
        new R = R * s + gray * (1 - s)
        new G = G * s + gray * (1 - s)
        new B = B * s + gray * (1 - s)

        Note that the individual RGB weights are different in the
        javascript example.  Probably, I should really transform back and
        forth to HSV.

******* [[http://rosettacode.org/wiki/Grayscale_image][javascript desaturate]]
***** See [[Perl Colors]]
*** html alternatives
***** <<Markdown>>
      From: [[http://daringfireball.net/projects/markdown/syntax#overview][Markdown]]

      Like simpler html, but can generate it.  Doesn't do tables, though.
******* perl is here: [[http://search.cpan.org/~bobtfish/Text-Markdown-1.000031/lib/Text/Markdown.pm][Text::Markdown]]
******* [[http://search.cpan.org/~mramberg/MojoMojo-1.05/lib/MojoMojo/Formatter/Markdown.pm][MojoMojo::Formatter::Markdown]] (MultiMarkdown) does do tables
********* but have to install latex, etc.?
* Confluence
*** [[Confluence supports PlantUML]]
*** [[org-mode to/from confluence]]
*** Jira and org-mode
***** [[https://www.emacswiki.org/emacs/OrgJiraMode][EmacsWiki: Org Jira Mode]]
***** [[https://github.com/stig/ox-jira.el][stig/ox-jira.el: Org-mode export backend for JIRA markup]]
***** [[https://emacs.stackexchange.com/questions/15079/in-org-mode-how-do-i-export-to-jira-wiki-markup/48331][In org-mode, how do I export to JIRA wiki markup?]]

*** <<Importing to confluence>>
***** [[https://community.atlassian.com/t5/Confluence-questions/Import-markdown-into-Confluence/qaq-p/211797][can directly paste in confluence text]], like exported from emacs or pandoc
******* [[https://github.com/emacsmirror/org/blob/master/contrib/lisp/ox-confluence.el][org-confluence]] export
******* [[ox-confluence]]
******* nice numbered bibliograpy:  org -> pdf -> word -> import word ionto confluence
***** load an html file into a browser then paste it confluence
***** <<import Word to Confluence>>
      From: [[https://confluence.atlassian.com/doc/import-a-word-document-into-confluence-170493136.html][Import a Word Document into Confluence]]
      
*** <<Exporting from confluence>>
***** <<export confluence to MS Word>>

        "..." on LHS page --> Export --> Export to Word
      
***** <<export confluence to pdf>>

      "..." on LHS page --> Export --> Export to PDF
    
* Screenscraping
*** <<Google Spreadsheet Table Scraping>>
    From: [[http://blog.ouseful.info/2008/10/14/data-scraping-wikipedia-with-google-spreadsheets/][google spreadsheets]]: amazing!

    1. open new spreadsheet
    2. insert in cell (1,1): =ImportHtml(URL, "table", num) (fill in URL and num)
    3. run
    4. save as CSV to a file
    5. M-x org-table-import that file

*** <<Perl screenscraping>>
***** [[http://linuxgazette.net/108/oregan2.html][overview]]
***** WWW::Mechanize
******* [[http://www.perl.com/pub/2003/01/22/mechanize.html][perl.com]] article
***** [[http://stackoverflow.com/a/5784921][HTML::TableExtract]]
******* is a [[http://cpan.uwinnipeg.ca/htdocs/HTML-TableExtract/HTML/TableExtract.html][subclass of HTML::Parser]] (but for active-state perl, I had to download it)
******* also need [[http://www.perl.com/pub/2002/08/20/perlandlwp.html][LWP::Simple]], which [[http://search.cpan.org/~gaas/libwww-perl-6.03/lib/LWP.pm][seems to be included in LWP package]]
* Videoscraping
*** [[http://www.wikihow.com/Download-Any-Video-from-Any-Website-for-Free][four ways]]
*** videolectures.net:
***** [[http://www.vdigger.com/][getflv]] (works but trial version will only do 40% of video.  Pro version costs [[http://www.vdigger.com/purchase.html][$60]])

      The trial version worked well until it hit the "buy me" limit.

      Idea from [[https://www.youtube.com/watch?v%3D496NMvyZd5o][here]] (youtube video) or [[http://www.vdigger.com/ipaddownload.html][here]] (program help)

      I used getflv (dowloaded from cnet) to download the "stream" url.
      There was one other with an image size.  Not sure if that one was
      better.

      The youtube video suggested downloading @ 10X normal speed but I
      couldn't figure out where to do that.  So, I downloaded it what
      appeared to be normal streaming speed (~54 mbs).  Maybe this is a
      Fraunhofer network limitation?

***** [[http://rg3.github.io/youtube-dl/][youtube-dl]] (command line, works sometimes)

      Sometimes works on videlectures.net, but [[http://videolectures.net/nips09_hinton_dlmi/][not on this one]].  I've
      entered a [[https://github.com/rg3/youtube-dl/issues/4968][bug report]].

      - command line python but has windows executable bundle
      - works: youtube-dl --verbose http://videolectures.net/netadis2013_monasson_graph_theory/
      - fails: youtube-dl --verbose
      - requires [[https://rtmpdump.mplayerhq.hu/][rtmpdump]]
      - [[http://rg3.github.io/youtube-dl/supportedsites.html][supposed]] to do videolectures.net but there might be [[https://github.com/rg3/youtube-dl/issues/2597][problems]]
        ([[https://github.com/rg3/youtube-dl/issues/3175][most recent problem]] is unresolved, as far as I can tell)
***** [[http://al3xandr3.github.io/download-videolectures-videos-vlc.html][supposed to work w/ vlcplayer]] (but it doesn't)
***** [[http://www.atube.me/video/index.html][aTube Catcher]] video screen capture (clunky) or stream (limited types)
      - screen capture (draw region or full frame) works for picture but
        gets laptop mic audio.  So have to actually record your won
        speakers.
      - stream catcher gets limited # of video types, apparently not the
        one I wanted for this [[http://videolectures.net/nips09_hinton_dlmi/][lecture]]

***** [[http://www.soundtaxi.org/how_to_download_video_from_VideoLectures.php][riptiger]] ($35)
***** [[http://applian.com/how-to-record-download-capture/videolectures.html][Replay media catcher]] (40 EUR, free version downloads 50% for non-youtube)
* PDF manipulation
*** snipping pdf figures, equations and keeping them pdfs
***** [[http://www.lhnr.de/ext/gpdfx/][gpdfx]]: perfect but linux only.
***** [[http://briss.sourceforge.net/][briss]]: windows, have to save 1 page 1st, and then crop
*** split and merging
***** [[http://sourceforge.net/projects/pdfsam/][PDF Split and Merge]]: split, merge, mix and rotate
*** extract pdf bookmarks

    This works:
    https://www.pdf-online.com/osa/extract.aspx?o=outln

*** printing web pages to pdf
***** [[https://www.printfriendly.com/extensions/firefox][PrintFriendly & PDF FireFox ExtensionPrint Friendly & PDF Button for FireFox,...]]

******* Cleans up web page, removing ads, and shows it to you.  You can edit what it will finally print in a decent UI.  Then you print to pdf
******* I tried it on an NYT page, and it looked OK, except that it saved two of every image.  You could delete it in the UI before printing, but this was annoying.  Also annoying was the giant pdf filename, although it did ID what was in the article.
******* Also has Chrome extension.
******* Not sure if you pay for this services after X docs or what...
******* Can't print [[https://www.google.com/maps/dir/10604+NE+38th+Pl,+Kirkland,+WA+98033,+USA/2836+NW+63rd+St,+Seattle,+WA+98107-2563,+USA/@47.6576141,-122.3662738,12z/data=!3m1!4b1!4m14!4m13!1m5!1m1!1s0x54906cda9fd92be7:0xa5d6a0d3376fd61e!2m2!1d-122.1978953!2d47.6451431!1m5!1m1!1s0x549015dbb2e13e67:0x45e41e25fdcb3c07!2m2!1d-122.3945787!2d47.6746202!3e0][Google Maps directions]].  Just get text, not the map

* Matlab
*** environment variables
***** for desktop, set them under file/setpath
***** MATLABPATH: needed for Linux, can I even do this on Windows anymore?
*** defining path (esp. on Linux)

    Matlab path is defined by pathdef.m, which is in an unwriteable
    global directory on the Linux servers; you must make your own
    pathdef.m:

    1. edit pathdef.m
    2. add the folders you want matlab to search in
    3. Save (when it says you can't save there, select to save to somewhere else)
    4. save the new pathdef.m to some user-specific directory (for me ~/.matlab)
    5. set userpath to that directory with 'userpath' command
    6. save path again so that the userpath def'n gets saved (use the GUI,
       don't edit pathdef.m and save it b/c this doesn't work, for some
       reason)
    7. when you need to set the path, call:  path(pathdef);

*** Graphics and plots
***** <<Matlab color picking>>
******* [[http://blogs.mathworks.com/pick/2008/08/15/colors-for-your-multi-line-plots/#comment-12842][20 hand made ugly-but-distinguishable colors]]
        (see [[file:~/lib/matlab/scottlib/extracolors.m][extracolors.m]], which is tested [[file:~/lib/matlab/scottlib/test/extracolors_test.m][here]])

        Not as pretty as Rcolorpicker colors but you can tell them apart.

        Can make plot() & Co. always use these colors by setting in the
        Matlab startup file (othewise, plot() could wipe them every time it's
        called).

        Alternatively, I can call my [[file:~/lib/matlab/scottlib/extracolors.m][extracolors.m]], which is tested [[file:~/lib/matlab/scottlib/test/extracolors_test.m][here]].

******* [[http://blogs.mathworks.com/pick/2008/08/15/colors-for-your-multi-line-plots/#comment-12460][plt]]: plot() alternative: auto picked colors, clickable legend when have a ton of lines
******* [[http://blogs.mathworks.com/pick/2008/08/15/colors-for-your-multi-line-plots/#comment-12842][varycolor.m]]: arbitrary # of colors but not so easy to distinguish
******* [[http://bsp.pdx.edu/Software/][ColorSpiral.m]]: colormap good on color screen AND greyscale printout

        But doesn't look like you get that many distinguishable colors.  So,
        probably better for an image than for a line plot.

        [[http://colorbrewer2.org/][colorbrewer2.org]] has a similar idea.  Click "photocopy-able" to see
        them.

******* matlab scripts generated by a [[http://mail.scipy.org/pipermail/nipy-devel/2007-February/000770.html][Python script]] scraping [[http://colorbrewer2.org/][colorbrewer2.org]]

        but the link seems dead

******* [[http://webscripts.softpedia.com/script/Scientific-Engineering-Ruby/Visualization/Color-name-identification--fuzzycolor-53964.html][fuzzycolor]]: recognizes and gives names to colors in an image
******* color interpoplation
********* [[https://vis4.net/blog/posts/avoid-equidistant-hsv-colors/][Perceptually uniform color interpolation]]: why you can't just interp HSV
********* [[http://peterkovesi.com/projects/colourmaps/ColourmapTheory/index.html][Good Colour Maps: How to Design Them]] (has matlab)
******* My Matlab version of R's [[plotrix smoothColors]]
********* rgbmap.m: I combined Matlab Central functions into this function
********* notes on the matlab equivalent function

          The Matlab Central equiv. of this useful function might be: [[http://www.mathworks.com/matlabcentral/fileexchange/46874-rgbmap-color-maps][rgbmap color maps]]
          (requires Matlab Central [[http://www.mathworks.com/matlabcentral/fileexchange/46872-rgb-color-values-from-xkcd][RGB color values from XKCD]]))

*********** code dump from the function looks simple, just need a name2rgb converter

            library(plotrix) ## emptyspace, smoothColors
            > smoothColors
            function (..., alpha = NA)
            {
            args <- list(...)
            r <- g <- b <- NULL
            while (length(args) > 0) {
            if (!is.character(args[[1]]))
            stop("Usage: smoothColors(\"color name\",[n|\"color name\"],...,\"color name\")")
            arglen <- length(args)
            if (arglen > 1) {
            if (is.numeric(args[[2]])) {
            lastarg <- 2
            while (is.numeric(args[[lastarg]])) {
            lastarg <- lastarg + 1
            if (lastarg > arglen)
            stop("bad argument list")
            }
            from <- col2rgb(args[[1]])
            too <- col2rgb(args[[lastarg]])
            n <- args[[2]] + 2
            r <- c(r, seq(from[1, ], too[1, ], length = n))
            i <- length(r)
            r <- r[-i]
            g <- c(g, seq(from[2, ], too[2, ], length = n))
            g <- g[-i]
            b <- c(b, seq(from[3, ], too[3, ], length = n))
            b <- b[-i]
            args <- args[-(1:(lastarg - 1))]
            }
            else {
            cc <- col2rgb(args[[1]])
            r <- c(r, cc[1, ])
            g <- c(g, cc[2, ])
            b <- c(b, cc[3, ])
            args <- args[-1]
            }
            }
            else {
            cc <- col2rgb(args[[1]])
            r <- c(r, cc[1, ])
            g <- c(g, cc[2, ])
            b <- c(b, cc[3, ])
            args <- args[-1]
            }
            }
            if (is.na(alpha))
            rgb(r, g, b, maxColorValue = 255)
            else rgb(r, g, b, alpha = alpha, maxColorValue = 255)
            }
            <environment: namespace:plotrix>

*********** Matlab Central [[http://www.mathworks.com/matlabcentral/fileexchange/24497-rgb-triple-of-color-name--version-2][RGB triple of color name, version 2]] can do the name2rgb thing
*********** Matlab Central [[http://www.mathworks.com/matlabcentral/fileexchange/46872-rgb-color-values-from-xkcd][RGB color values from XKCD]] also might work
******* also see [[R color picking]]
***** transparency (alpha)
******* [[http://de.mathworks.com/help/matlab/ref/alpha.html][transparent scatter plot]] using alpha
******* [[http://www.mathworks.com/matlabcentral/answers/103074-how-can-i-set-the-transparency-of-line-objects-in-matlab-7-14-r2012a][transparent lines]] using patches (lines ignore alpha)
***** high precision data cursor
      For when it doesn't display enough digits to figure out where a point is:

      - enable data cursor mode by clicking on the plot window cursor icon
      - Click on the plot somewhere
      - Right click on data cursor,
      - Edit text update function
      - edit the num2str() code for the desired amount of precision
      - save and close
      - I think this setting lasts only for that plot, must reload the update
        function for the next plot

      Note: can also right click and export the cursor position to the workspace.

      Note: The [[http://www.mathworks.de/help/techdoc/ref/datacursormode.html%3Bjsessionid%3D8b13155f9c78d67794a49ee44ec9][matlab help]] shows other neat things you can do w/ this function,
      like make the line you clicked on fatter.
***** legends
******* horizontal legends
        legend(ph1,’Location’,’NorthOutside’,’Orientation’,’horizontal’);
******* multicolumn legends
        columnlegend.m (in scottlib but from MathWorks)
******* automatic, compact legend name generation

        a code-shortening convenince

        nDim = 10;
        data = randn(100, nDim);

        figure;
        plot(data);

        legend(cellstr(num2str((1:size(data,2))')))
******* [[http://www.mathworks.com/matlabcentral/fileexchange/29248][gridLegend]] !
********* uses clickableLegend if in path
******* [[http://www.mathworks.com/matlabcentral/fileexchange/21799][clickableLegend]]
******* one legend, multiple plots
********* top or bottom subplot gets legend via line handles

          I believe this works w/ both gridLegend and clickableLegend.
          Downside is that one plot can get either crowded w/ a big internal
          legend or shrunk w/ an outside one.

          Matlab support says there's no overall legend support, but suggests
          this [[http://www.mathworks.de/support/solutions/en/data/1-1BSAH/index.html?product%3DML&solution%3D1-1BSAH][workaround]]:

          subplot(2,1,1)
          h1 = plot(1:10,rand(1,10),'y')
          subplot(2,1,2)
          h2 = plot(1:10,1:10,'r')
          legend([h2,h1],{'rand(1,10)','1:10'})
********* leave a blank subplot and place legend manually

          Commenter [[http://www.mathworks.com/matlabcentral/answers/195-how-do-i-make-one-legend-on-a-figure-with-multiple-subplots][says]] (I guess you must twiddle w/ a,b,c,d below):

          subplot(4,3,kdx);
          plotmystuff(); % uses subplots 4-12 and leaves 1-3 empty
          legend1 = legend(gca,'show');
          % set the legend where I really want it.
          set(legend1,'Position',[a b c d]);

          I typically run it one time and then use "File->Generate Code" to
          give me the actual coordinates I was satisfied with.

********* top subplot gets extra lines, legend and gets shrunk

          *[[http://www.mathworks.com/matlabcentral/answers/6881-legend-in-subplot][Example]]*

          figure
          subplot(211)
          plot(1:10)
          hold on
          hi = plot(sin(1:10),'mx-');
          legend('one','two','Location','NorthOutside')
          set(hi,'Visible','Off')
          subplot(212)
          plot(sin(1:10),'mx-');

          *In other words*:

          - plot everything in top plot
          - add a legend
          - hide the lines belonging to the other subplots
          - clickableLegend won't work, although gridLegend might
******* including only some lines in a legend
        from [[https://www.mathworks.com/matlabcentral/answers/406-how-do-i-skip-items-in-a-legend][here]]:
********* put line handles in legend() command

          h1 = plot(rand(1,10));      % Blue line
          hold on;
          h2 = plot(rand(1,10),'r');  % Red line
          h3 = plot(rand(1,10),'g');  % Green line
          legend([h1 h3],{'hello','world'});  % Only the blue and green lines appear
          %   in the legend
********* [[http://www.mathworks.com/help/releases/R2015b/matlab/creating_plots/controlling-legends.html?searchHighlight=icondisplaystyle][use IconDisplayStyle]]
******* legend order
        e.g. flip reverse legend order to match stackplot

        legend(h(end:-1:1),legStr(end:-1:1),'Location','BestOutside')

***** shading areas under line plot lines using area
      From [[http://stackoverflow.com/questions/6245626/matlab-filling-in-the-area-between-two-sets-of-data-lines-in-one-figure][here]]:

      Use a function like this:

      fill_between_lines = @(X,Y1,Y2,C) fill( [X fliplr(X)],  [Y1 fliplr(Y2)], C );

      and if want overlapping lines to blend decrease their tranparency

      set(h2,'FaceAlpha',0.5);

      where h2 is a line handle for the shade (the result of calling
      fill_between_lines())

***** text automatically placed like legend(...,'Location','Best')
      From [[https://www.mathworks.com/matlabcentral/answers/98082-how-can-i-automatically-specify-a-best-location-property-for-the-text-function][here]]:

      _Use this code:_

      plot(1:10);
      insertTextBest('Hello');

      function insertTextBest(string)
      % Function to insert a text string to best location in the current figure.
      % Note that you can not use this function if you want legend in your figure
      % as well. Modify suitably if you want legend too.

      % The idea is to temporarily insert a legend in best location, get the
      % location of it, delete the legend, and then use that location to insert
      % the legend
      if(ischar(string))
      h=legend('abc','Location','best');
      if(isempty(h))
      close(gcf);
      error('No figure detected');    end
      pos=get(h,'Position');
      delete(h)
      text(pos(1)+pos(3),pos(2)+pos(4),string,'units','normalized')
      else
      error('Input should be string!');
      end
      end
***** [[http://www.mathworks.com/matlabcentral/fileexchange/4936][plt]]: alternative to plot.  Better when have many, many lines?
***** drawing a map
******* [[http://www.eos.ubc.ca/~rich/map.html][M_MAP]]
******* border data: [[http://www.naturalearthdata.com/][Natural Earth]]
***** extracting a plot from a subplot

      Use ~/lib/matlab/scottlib/unsubplot.m
***** save figure to match page width or fill page (or powerpoint slide)

      See [[https://www.mathworks.com/help/matlab/creating_plots/save-figure-at-specific-size-and-resolution.html][Save Figure at Specific Size and Resolution]]

***** plot font sizes
******* Whole plot 

        set(gca,'FontSize',14); 

        *OR*
        
        set(findall(gcf,'-property','FontSize'),'FontSize',12) ; for existing text

        *OR*

        set(0, 'DefaultAxesFontSize', 30) ; only for text created after this command
           
******* Axis Labels

        h=xlabel('mylabel') %or h=get(gca,'xlabel')
        set(h, 'FontSize', 30) 
        set(h,'FontWeight','bold') %bold font

        *OR*

        plot((1:10).^2)
        xlabel('Population','FontSize',12,'FontWeight','bold','Color','r')

******* Tick labels (remove them and replace):

        h = plot(g,'NodeLabel',[])
        for i=1:length
        text(h.XData(i)+0.1,h.YData(i),num2str(i),'fontsize',16);
        end

******* Just title

        hTitle = title('This is sin(x) vs x');
        set(hTitle,'FontSize',30)

******* Programatically after figure resizing
        From: [[https://www.mathworks.com/matlabcentral/answers/203564-proportional-text-font-size-or-editing-font-size-when-figure-resize-occurs][Proportional text font size, or editing font size when figure resize occurs? ...]]

        fun = @newfig;
        figure('ResizeFcn' , fun);

        function newfig(src , event)
        % Your Code
        end
        

        % maybe useful
        get(0 , 'ScreenSize')         % Gives the default screen size in pixels
        get(0 , 'ScreenPixelsPerInch')  % Gives the default Resolution
        set(0 , 'Units' , 'Inch') % set to inches

******* Separately for x and y axes        
        From: [[https://www.mathworks.com/matlabcentral/answers/293473-setting-font-size-separately-for-x-y-axes][Setting font size separately for x&y axes - MATLAB Answers - MATLAB Central]]

        x = 1:10;
        y = rand(1, 10);

        figure(1)
        plot(x, y)
        xt = get(gca, 'XTick');
        set(gca, 'XTickLabel','')                                           % Turn Off X-Labels
        xts = regexp(sprintf('%.1f ', xt), ' ','split');
        fntsz = 18;                                                         % Font Size
        text(xt, -(1/(10*fntsz))*diff(ylim)*ones(size(xt)), xts(1:end-1), 'FontSize', fntsz, 'HorizontalAlignment','center', 'VerticalAlignment','top')


******* Polar axes and plots

        t = 0:.01:2*pi;
        ax = polaraxes;
        polarplot(ax, t, sin(2*t).*cos(2*t), '--r');
        ax.FontSize = 18;

******* Contour plot labels

        Use Matlab's ~clabel~ command

******* Graph edge and node labels

        s = [1 1 1 2 2 3 3 4 5 5 6 7];
        t = [2 4 8 3 7 4 6 5 6 8 7 8];
        weights = [10 10 1 10 1 10 1 1 12 12 12 12];
        names = {'A' 'B' 'C' 'D' 'E' 'F' 'G' 'H'};
        G = graph(s,t,weights,names);
        figure(1)
        h = plot(G,'EdgeLabel',G.Edges.Weight);
        nl = h.NodeLabel;
        h.NodeLabel = '';
        xd = get(h, 'XData');
        yd = get(h, 'YData');
        text(xd, yd, nl, 'FontSize',20, 'FontWeight','bold', 'HorizontalAlignment','left', 'VerticalAlignment','middle')

*** matlab-ruby
    
    from: http://rubyforge.org/projects/matlab-ruby/
    docs: http://matlab-ruby.rubyforge.org/matlab-ruby/

    but there's an installation bug, which I've reported on rubyforge
    
*** input parameter parsing
***** Matlab [[http://blogs.mathworks.com/loren/2009/05/05/nice-way-to-set-function-defaults/%3Fs_cid%3DMLD0709naBL&s_v1%3D1-A23VP9_1-6MDK3W][article]] on several methods, including one builtin
***** use to fortify or replace [[file:~/lib/matlab/scottlib/chkArgs.m][chkArgs.m]]?
*** Matlab Compiler

    mcc -m -v -R -nojit -R -nojvm -I srcdir progNm

    set MOS=glnxa64
    set MLIB=amd64
    set MATLABROOT=/home/sotterson/matlab
    set JREL=jre1.6.0

    setenv LD_LIBRARY_PATH `$NPATHY -Y LD_LIBRARY_PATH -A ${MATLABROOT}/sys/os/${MOS}:${MATLABROOT}/bin/${MOS}:${MATLABROOT}/sys/java/jre/${MOS}/${JREL}/lib/${MLIB}/native_threads:${MATLABROOT}/sys/java/jre/${MOS}/${JREL}/lib/${MLIB}/server:${MATLABROOT}/sys/java/jre/${MOS}/${JREL}/lib/${MLIB}:${MATLABROOT}/bin/${MOS}`

    [[http://www.itc.virginia.edu/research/talks/matlab_c_c%2B%2B_compiler_suite_2.1.pdf][Matlab User's Guide (UVA copy)]]

    Packaging and deploying: use [[http://www.mathworks.com/access/helpdesk/help/toolbox/compiler/index.html%3F/access/helpdesk/help/toolbox/compiler/deploytool.html&http://www.google.com/search%3Fq%3Dmatlab%2Bcompiler%2Bdeployment%2Btool&ie%3Dutf-8&oe%3Dutf-8&aq%3Dt&rls%3Dorg.mozilla:en-US:official&client%3Dfirefox-a][deploytool]]
    (there's a tickbox to disable java at runtime, if you want to do that)

*** [[http://www.mathworks.com/matlabcentral/fileexchange/8663][Matlab MySQL Database Connector]]
***** docs (and original distribution?)
      http://mmf.utoronto.ca/resrchres/mysql/
      http://www.mathworks.com/matlabcentral/fileexchange/12027
***** compiling
      I put it here: [[file:~/lib/matlab/mysql]]
******* OS X
        From the comments here: [[http://www.mathworks.com/matlabcentral/fileexchange/8663][Matlab MySQL Database Connector]]

        mex -v -maci -I/usr/local/mysql/include -L/Applications/MATLAB_R2008a/bin/maci -lmysqlclient_r -L/usr/local/mysql/lib -lpthread mysql.cpp

******* Linux

        mex -v -I/usr/include/mysql -L/usr/lib64/mysql -lmysqlclient mysql.cpp
*** license manager

    At DTU:

    /appl/matlabr2008b/etc/lmstat -a

    shows what licenses are checked out

*** also see: [[Matlab and R]]
*** version control
***** Windows 64 bit doesn't work w/ SVN
******* Matlab support's suggested fix

        Date: 30 Aug 2011 04:30:47 -0400
        From: Martijn Aben <support@mathworks.nl>
        Reply-To: support@mathworks.nl
        Subject: Re: Matlab won't recognize my 64 bit SVN
        To: scott.otterson@iwes.fraunhofer.de

        Dear Scott Otterson,

        I am writing in reference to your Service Request # 1-FCNXSZ regarding 'Matlab won't recognize my 64 bit SVN'.

        As is noted in our documentation:

        http://www.mathworks.com/help/techdoc/matlab_env/brbmdzd.html

        MATLAB on Windows platform only supports source control systems that conform to the Microsoft Common Source Control standard, Version 1.1. TortoiseSVN is does not conform to this standard. However, third party SCC compatible wrappers for SVN do exist; visit the following page on our website for some suggestions:

        http://www.mathworks.com/support/solutions/en/data/1-3TABI8/?solution=1-3TABI8

        Please note that for 64-bit MATLAB, you will need a 64-bit compatible wrapper.

        Please preserve the THREAD ID below in any further correspondence on this query. This will allow our systems to automatically assign your reply to the appropriate Service Request. If you have a new technical support question, please submit a new request here:

        http://www.mathworks.com/support/service_requests/contact_support.do

        Sincerely,

        Martijn Aben
        Technical Support Engineer

        MathWorks
        Kvk: Eindhoven 2904645
        http://www.mathworks.com

        Benefit from 'My Service Requests' for your future support requests:
        http://www.mathworks.com/myservicerequests

        Self-Service:
        http://www.mathworks.com/support

        File Exchange and Newsgroup Access:
        http://www.mathworks.com/matlabcentral/

        [THREAD ID: 1-FCNXSZ]

******* The steps I took, which didn't work

        SO: Included hacks so SVN works w/ 64 bit Matlab.

        Required for the matlab hack, here:

        http://www.mathworks.com/matlabcentral/fileexchange/11596-subversion-interface-for-matlab

        Steps:

        1. Replaced the verctrl.m and verctrl.m and verctrl.mexw64 with code from
        here:

        http://www.mathworks.com/matlabcentral/fileexchange/11596-subversion-interface-for-matlab

        2. Hacked the hack (fixed svn path), put here:

           ~/lib/matlab/contrib/

        Tried to install MS compilers to could compile but it failed:

        3. installed the two compiler packages, as instructed here:

           http://www.mathworks.de/support/compilers/R2011a/win64.html

           (I also tried to install the SQL stuff, as long as I was at it.  But it
           didn't work, for some unexplained reason.)

        4. compiled in matlab:

           mex customverctrl.m

           But I got this error:

           >> mex customverctrl.m
           customverctrl.m : fatal error LNK1107: invalid or corrupt file: cannot read at 0x1415

           C:\PROGRA~1\MATLAB\R2011A\BIN\MEX.PL: Error: Link of 'customverctrl.mexw64' failed.

           =??? Error using ==> mex at 208
           Unable to complete successfully.

        5. so I just copied customverctrl.m over the top of the old .m and moved
           the old compiled version out of the way.

        BUT this still wouldn't allow me to use SVN -- there was no "custom"
        version control option like there was supposed to be.

        So, I gave up and reverted to the original files.
*** Database toolbox
    IWES: [[Matlab database toolbox installation]]
*** startup location when pinned to taskbar (Windows 7)

    Right click on the icon in the taskbar to get the jump list and then
    right click on the executable file there and select properties?  From
    there, can edit Start In.

*** flush stdout:   fseek(1,0,-1);
*** inheritance
***** must use superclass /handle/, not name

      Email from Malte:

      Hi Scott,
      it works if you put "< handle" in the super class!

      classdef OracleConnect < handle
      %UNTITLED2 Summary of this class goes here
      %   Detailed explanation goes here

      properties
      s;
      end

      methods
      function obj = OracleConnect()
      'Base class constructur'
      obj.s.DataReturnFormat = 'cellarray';
      obj.s.ErrorHandling = 'store';
      obj.s.NullNumberRead = 'NaN';
      obj.s.NullNumberWrite = 'NaN';
      obj.s.NullStringRead = 'null';
      obj.s.NullStringWrite = 'null';
      obj.s.UseRegistryForSources = 'yes';
      obj.s.TempDirForRegistryOutput = '';
      end

      function obj = GetData(obj)
      'getting data'
      %             conn = database('ISET2',Login,Passwd,'oracle.jdbc.driver.OracleDriver','jdbc:oracle:thin:@10.123.46.61:1521:');
      %             e = exec(conn,SQL_Statement);
      %             e = fetch(e);
      e.SQLQuery;
      %             close(e)
      %             close(conn);
      %             Result = e;
      end
      end

      end
*** [[http://undocumentedmatlab.com/][undocumentedmatlab.com]]: undocumented matlab features/bugs

*** [[http://www.mathworks.com/matlabcentral/fileexchange/31272-datahash][DataHash]]: Could use to make RunRouter run #'s in matlab
    - matlab's isequal() function can also compare structures but I guess
      it's slower
    - DataHash/isequal() tested [[file:~/lib/matlab/scottlib/test/DataHash_test.m][here]]

    _My comments_

    See JanSimon's comment in this [[http://www.mathworks.com/matlabcentral/answers/3314-hash-function-for-matlab-struct][thread]].  Commenter Francois Rongère uses
    it exactly the same way as I used hashes in RunRouter.  *Warning*: in the
    comments it says something disturbing:

    The shown function replies the same hash for "struct('a', 1, 'b', 2)"
    and "struct('a', 2, 'b', 1)"! Using BITXOR does not consider the
    order of data.

    I didn't check to see if this was true for the code that was fially
    submitted on matlab file exchange.

    *Also*: how does it handle the case when different stucts have different
    members?  Does it crash or does it make different hashes for them?

*** [[http://www.mathworks.com/matlabcentral/fileexchange/17291-fdep-a-pedestrian-function-dependencies-finder][fdep]]: finds all the functions needed to run a script (use for RunRouter version?)
*** Parallel Distributed Toolbox
***** TODO how to disconnect my IWES laptop and then reconnect to my running job?
******* looks like you should save some object first:
******* http://www.mathworks.com/help/toolbox/distcomp/bqur7ev-2.html#bqur7ev-8
***** distributed servers at other labs that look usable
******* http://www.hpc.maths.unsw.edu.au/tensor/matlab
******* http://www.pik-potsdam.de/members/linstead/guides/matlab-on-the-cluster
*** <<Matlab density plot functions>>
***** Matlab [[http://www.mathworks.de/matlabcentral/fx_files/27702/3/Example_FanChart..png][FanChart]]
***** <<Matlab high density scatter plots>>
******* [[http://www.mathworks.com/matlabcentral/fileexchange/48157-artemyk-scatter-patches][scatter_patches.m]] works but can be quite slow
******* [[http://www.mathworks.com/matlabcentral/fileexchange/23238-cloudplot][cloudPlot.m]] (can set alpha but can't see individual points b/c binned)
******* [[http://www.mathworks.com/matlabcentral/fileexchange/8577-scatplot][scatplot.m]]
******* also: [[R high density scatter plots]]
***** see also: [[R density plot functions]]
*** automatically adding semicolons to line ends to quiet them

    In emacs: M-x matlab-mode-vf-quiesce-buffer

*** indices of all matrix elements @ max value

    3D example:

    [r,c,h]=ind2sub(size(z), find(z==max(z(:))))

*** Indexing a matrix with pairs of row and column index vectors (or N-dim...)
    From: [[https://stackoverflow.com/questions/33760043/assign-new-matrix-values-based-on-row-and-column-index-vectors][Matlab - assign new matrix values based on row and column index]]

    *Conclusion:* best way is usually the clunky: ~sub2ind(size(A),rows,cols)~

    Have: 
    A = zeros(3, 2)

    Want:
    A =

    1 0
    0 1
    1 0

    Indices:
    rows = [1 2 3];
    cols = [1 2 1];

    _Doesn't work_

    A(rows,cols) = 1;

    _Works_

    *1. loop* (slow)

    for i = 1:length(rows)
    A(rows(i), cols(i)) = 1;
    end

    *2. sub2ind (faster)*

    A(sub2ind(size(A),rows,cols))=1
    % also
    b = [1,2,3];
    A(sub2ind(size(A),rows,cols))=b

    *3. index math ("20% faster" than sub2ind)*

    idx = rows + (cols - 1) * size(A, 1);
    A(idx) = 1 % or b

    /For N-dim arrays see [[http://tipstrickshowtos.blogspot.de/2010/02/fast-replacement-for-sub2ind.html][here]]/

    *4. sparse* (is this fast or convenient?)

    A=full(sparse(rows,cols,1,3,2)); % assigning b above

*** trap a warning
    From [[http://www.mathworks.com/matlabcentral/newsreader/view_thread/158768][here]] and [[http://blogs.mathworks.com/loren/2006/10/18/controlling-warning-messages-and-state/][here]]:

    % turn the warning into an error
    % can find the ID by triggering the warning with bad code and looking at:
    %  swn = warning; % an array of warning
    %  warningIDtoCatch = swn(k).identifier (k is the right k for your warning)
    %
    s = warning('error',warningIDtoCatch);
    try
    % your questionable code
    catch exception
    % respond to the warning
    end
    warning(s); % restore the warning state

*** [[http://stackoverflow.com/questions/12951453/in-matlab-when-is-it-optimal-to-use-bsxfun][bsxfun(): when and why]]
*** unit testing
***** Mathworks [[http://blogs.mathworks.com/loren/2013/03/14/using-the-matlab-unit-testing-infrastructure-for-grading-assignments/][blog post]] on testing in 2013a, w/ code examples
***** Matlab [[http://www.mathworks.com/help/matlab/matlab-unit-test-framework.html][Unit Testing Framework]]
*** cleaning matlab pathdef

    _Problem_: using matlab to recursively include IWES matlab trees will end
    up including a bunch of 'tag' and '.svn' directories.  Need to get rid
    fo them, especially the 'tag's

    _Solution_: run matlab path loader and then save to a pathdef file (on
    linux, it will go to ~/.matlab/pathdef.m

    Then:

    grep -v /tag pathdef.m  | grep -v /.svn > tmp.txt
    <check tmp.txt>
    mv tmp.txt pathdef.m

* R Language
*** <<Matlab and R>>
***** [[http://www.math.umaine.edu/~hiebeler/comp/matlabR.html][MATLAB R / R  Reference]]
***** [[http://mathesaurus.sourceforge.net/octave-r.html][R for MATLAB users]]
***** [[http://cran.r-project.org/doc/contrib/R-and-octave.txt][R For Octave Users]]
***** [[Matlab-like color pallets]]
***** [[matlab2POS]]: one way to convert Matlab datenums back and forth from R
***** [[http://cran.r-project.org/web/packages/foreign/foreign.pdf][foreign]] can read octave --text files, and octave can read matlab binary files
***** writing/reading matlab files and Matlab as a slave to R
******* [[http://cran.r-project.org/web/packages/R.matlab/R.matlab.pdf][R.matlab]] is cross-platform
********* to read compressed files, must manually install [[http://www.omegahat.org/Rcompression/][Rcompression]]
          But I gave up on this.  On windows, you must install zlib and
          bzip2 and have environment variables point at those libraries.  I
          tried to follow the instructions but didn't get it to work.  The
          author said to email him rather than trying to fixe the code.

          I was in a hurry and saved the matlab files in uncompressed
          format.

********* alternative: write uncompressed files in matlab

          save(outputfilename,'-V6',...)

********* TODO workarounds/bugs to report
*********** writeMat() requires foreign but it's required

            writeMat():
            For some reason, when I call it from matlab, it required the
            package 'foreign', which wasn't installed.  Should have been by
            install.packages()?

            Didn't require this when I called it from inside the R command
            shell

*********** doesn't say so but writeMat() can only write matrices and arrays
            not lists, datframes
***** matlab functions emulated in R
      [[http://cran.r-project.org/web/packages/matlab/matlab.pdf][Package 'matlab']]
***** calling Matlab from R
******* [[http://www.kitware.com/products/html/MATLABAndGNURIntegrationWithVTK.html][VTK]]
******* [[http://cran.r-project.org/web/packages/R.matlab/][R.Matlab]]
******* a couple others, I think...
***** calling R from Matlab

      *Conclusion*: No cross-platform solution.  Either Unix only or Windows
      only (Sept. 10, 2011).  Best method seems to be [[Rscript]] cmdline
      parsing.

******* [[Rscript]]: convenince utility for calling R from command line.
******* [[http://www.omegahat.org/RMatlab/][RMatlab]]: bidirectional, Unix only?
********* but last update is 2004
********* worked at least [[http://www.stanford.edu/~dgleich/notebook/2009/09/rmatlab_using_r_from_matlab.html][in 2008]]
********* was patched [[http://biowiki.crs4.it/biowiki/NicolaSoranzo#Patches_for_R_packages][here]] (in 2010, orig author dropped it? See [[http://www.stanford.edu/~dgleich/notebook/2009/09/rmatlab_using_r_from_matlab.html][comments]])
********* [[http://www.omegahat.org/RMatlab/README][seems to require Unix]] (also said to require Linux [[http://www.stanford.edu/~dgleich/notebook/2009/09/rmatlab_using_r_from_matlab.html][here]])
******* [[http://www.mathworks.com/matlabcentral/fileexchange/5051][MATLAB R-link]]: Windows only, great reviews til 2010, when see probs
******* [[http://www.mathworks.com/matlabcentral/fx_files/5051/1/content/Rdemo.html][Connecting Matlab to R]]: Windows only, demos are clear
******* [[http://cran.r-project.org/web/packages/rcom/rcom.pdf][Rcom Server]]: windows only?
        [[http://neurochannels.blogspot.com/2010/05/how-to-run-r-code-in-matlab.html][example]] of use
******* [[http://rcom.univie.ac.at/][statconn]]: Windows only? Also calls R from many windows progs, like Excel ([[http://rcom.csd.univie.ac.at/rcomwiki/doku.php?id%3Dwiki:r_d_com_rcom_and_and_other_software_systems][Matlab too]]?)
******* [[http://www.omegahat.org/RSJava/][RSJava]]: Java interface, [[http://rcom.csd.univie.ac.at/rcomwiki/doku.php?id%3Dwiki:how_to_install][Windows only]]
********* claimed good for calling R from Matlab (in Mathworks, somewhere)
********* example is [[http://rcom.csd.univie.ac.at/rcomwiki/doku.php?id%3Dwiki:r_d_com_rcom_and_and_other_software_systems][here]]
*** Perl and R
***** [[http://www.omegahat.org/RSPerl/][RSPerl]] can call perl from R and vice versa

      my installation:
      - download the tar file
      - R CMD INSTALL -c -l ~/lib/R/x86_64-unknown-linux-gnu/2.11 RSPerl_0.92-1.tar.gz
*** R for cygwin

    Use [[http://cygwinports.org/][cygwinports]] (For Linux packages not part of the cygwin
    distribution)

    cygstart -- C:\Users\scot\Desktop/setup.exe -K http://cygwinports.org/ports.gpg

    On Choose Installation Type page, select "Install from Internet".

    Add cygwinports to mirror list:

    - On Choose Download Site(s) page, select a distro mirror, then enter
      ftp://ftp.cygwinports.org/pub/cygwinports in the User URL field and
      press Add (making sure that both are highlighted).

    - Mirrors are available by instead entering
      http://downloads.sourceforge.net/cygwin-ports as the User URL.

    - Alternatively, you can use a sourceware mirror, but if you do, you
      must use one hosted on a different server than your selected distro
      mirror.

    Proceed with package selection and installation, making sure to install
    any indicated dependencies.

*** <<R for windows>>

***** problems finding Rscript.exe and Rgui.exe

      /As of ESS version 13.05 this was no longer necessary.  But maybe it's/
      /still needed for Rcmd.exe and matlab callR.m?/

      To fix problems with finding Rscript.exe and Rgui.exe, put the path the
      the current version of R in the windows path environment e.g.

      C:\ProgramFilesNoSpace\R-2.15.0\bin;C:\ProgramFilesNoSpace\R-2.15.0\bin\x64

      This also allows emacs ESS ([[R in emacs]]) to find Rterm

***** Windows-specific environment variables: [[file:howto.org::*R%20libs%20environment%20variables][R libs environment variables]]
*** Graphics
***** line colors, markers, etc
      see [[http://www.statmethods.net/advgraphs/parameters.html][Quick-R]]

***** titles, axes labels and limits

      Within plot() (from [[http://www.statmethods.net/advgraphs/axes.html][Quick-R]])

      plot(x, y, main="title", sub="subtitle",
      xlab="X-axis label", ylab="y-axix label",
      xlim=c(xmin, xmax), ylim=c(ymin, ymax))

      Avoid the 6% limit fudge factor with:

      xaxs="i"
      yaxs="i"

      Separate title() so can set [[http://www.statmethods.net/advgraphs/parameters.html][graphical parameters]]

      title(main="My Title", col.main="red",
      sub="My Sub-title", col.sub="blue",
      xlab="My X label", ylab="My Y label",
      col.lab="green", cex.lab=0.75)

      Axis labels w/ axis()

      plot(x,y,xaxt="n")    # no x labels
      plot(x,y,yaxt="n")    # no y labels
      plot(x,y,axes=FALSE)  # no x or labels

      axis(side, at=, labels=, pos=, lty=, col=, las=, tck=, ...)

      (see [[http://www.statmethods.net/advgraphs/axes.html][Quick-R]] for a description of the optionsa)

***** plot axis ticks
******* x or y ticks in certain units

        nTicks = 5
        tickUnits = 1e6

        npts=20
        x=(1:npts)*tickUnits
        y=x+mean(x)*rnorm(npts)

        yTickLabLims = range(round(y/tickUnits))

        yTickNums = seq(yTickLabLims[1],yTickLabLims[2],length.out=nTicks)

        plot(x,y,yaxt="n",ylab='Euros (millions)')

        axis(2,at=tickUnits*yTickNums,labels=sprintf('%g',yTickNums),ylab='Euros (millions)')

***** time axis on plot

      plot(x,y,xaxt="n")  # don't print x axis labels
      axis.POSIXct(1, at=some_posix_time_labels, format="%H") # hourly format
      (see strptime() for label formats)

***** plotting multiple time series
******* matplot(x,y) (but must have same sizes)
******* using [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/QRMlib/man/plotMultiTS.html][QRMlib]]: plotMultiTS

        *This works for same-y-axis plots (but sure is long)*

        library(QRMlib)

        data(DJ);
        Sdata <- window(DJ, from="1993-01-01", to="2000-12-31");
        #select only 4 stocks from 30-stock index:
        tsSelections <- c("GE","INTC","KO","JNJ");
        Sdata <- Sdata[,tsSelections];
        Zdata <- log(Sdata);
        rm(Sdata);
        #Plot all 4 columns on same graph: plotMultiTS(Zdata,reference.grid=TRUE);
        #plot only columns 2 and 3 on the graph:
        plotMultiTS(Zdata, colvec= c(2,3),reference.grid=TRUE, format="%Y-%m");

******* [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/tseries/man/seqplot.ts.html][seqplot.ts {tseries}]]
        The closest thing I've found to stackplot but somewhat ugly and not as flexible

        library(tseries)
        data(USeconomic)
        x <- ts.union(log(M1), log(GNP), rs, rl)
        m.ar <- ar(x, method = "ols", order.max = 5)
        y <- predict(m.ar, x, n.ahead = 200, se.fit = FALSE)
        seqplot.ts(x, y)

        dev.off()

        /extrapolation in this example doesn't look like on web page/

******* [[http://latticeextra.r-forge.r-project.org/man/horizonplot.html][latticeExtra]] horizonplot

        Horizon plots are vertically stacked but too freaky to understand.
        But the simple "before" approach given in the library description...

        *kinda works but bulky & neither all on same axis vertically stacked*

        library(latticeExtra)
        ## generate a random time series object with 12 columns
        set.seed(1)
        dat <- ts(matrix(cumsum(rnorm(200 * 12)), ncol = 12))
        colnames(dat) <- paste("series", LETTERS[1:12])

        ## show simple line plot first, for reference.
        xyplot(dat, scales = list(y = "same"))

******* [[http://www.r-bloggers.com/multiple-y-axis-in-a-r-plot/][Multiple Y-axis in an R plot]]
******* multivariate time series plots:
        from help(ts):
        z <- ts(matrix(rnorm(300), 100, 3), start=c(1961, 1), frequency=12)
        class(z) # it's an 'mts' 'ts'
        plot(z) # stacked, same X axis
        plot(z, plot.type="single", lty=1:3) # all on same Y axis

******* like Matlab plotyy(): [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/plotrix/man/twoord.plot.html][twoord.plot()]]
******* can add points() or lines() or ablines() laterj
***** labels for lots of points:
******* [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/maptools/man/pointLabel.html][pointLabel {maptools}]]: *use this for scatter plots*, allows text shrink
******* [[http://directlabels.r-forge.r-project.org/][directlabels]]: nice for lines instead of legends? For scatterplots w/ groups of points?
******* [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/plotrix/man/spread.labels.html][spread.labels()]]: can rotate them by 90 degrees (srt=90), /not great/
******* [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/Hmisc/man/labcurve.html][labcurve {HMisc}:]] but I don't understand how to use it
******* autoText() in ifultools package

        puts text in most empty spot on plot.  Not quite a point label...

***** text on plot (not labels)
      From [[http://www.statmethods.net/advgraphs/axes.html][Quick-R]]

      Automatic way to put boxed text in an empty spot

      plot(x,y)
      library(plotrix)
      es<-emptyspace(x,y)  # (x,y are coords of lines on plot)
      # use a transparent background so that any overplotted points are shown
      boxed.labels(es,labels='some text,bg="transparent",ypad=2,col='red')

      Manual text placement (not boxed)

      text(location, "text to place", pos, ...) # location=coords, for mouse, use locator()
      mtext("text to place", side, line=n, ...) # text in margin

***** <<R density plot functions>>
******* <<better scatter plots>>
********* [[http://www.statmethods.net/graphs/scatterplot.html][Quick-R scatterplot overview]]
********* <<R high density scatter plots>>
*********** [[https://rpubs.com/stephenmoore56/265589][RPubs - R Graphics - High-Density Scatterplots]]
*********** hexbin ([[http://www.statmethods.net/graphs/images/hexbin.jpg][picture]]) [good b/c gives counts and seems linear in counts]

            # High Density Scatterplot with Binning
            library(hexbin)
            x <- rnorm(1000)
            y <- rnorm(1000)
            bin<-hexbin(x, y, xbins=50)
            plot(bin, main="Hexagonal Binning")
*********** transparency
************* plot() using [[http://www.statmethods.net/graphs/scatterplot.html][color transparency]] (example [[http://www.statmethods.net/graphs/images/alphascatter.png][picture]])

              # High Density Scatterplot with Color Transparency
              pdf("c:/scatterplot.pdf") # don't have to save to pdf
              x <- rnorm(1000)
              y <- rnorm(1000)
              plot(x,y, main="PDF Scatterplot Example",col=rgb(0,100,0,50,maxColorValue=255), pch=16, cex=0.5)
              dev.off() # don't have to save to pdf

              Note: You can use the col2rgb( ) function to get the rbg values for R
              colors. For example, col2rgb("darkgreen") yeilds r=0, g=100, b=0. Then add
              the alpha transparency level as the 4th number in the color vector. A value
              of zero means fully transparent. See help(rgb) for more information.
************* qplot/ggplot2 transparency

              library(ggplot2)
              qplot(x,y, alpha=0.1)

*********** point jittering
************* [[http://cran.r-project.org/doc/contrib/Zhao_R_and_data_mining.pdf][using R's jitter]]
              plot(jitter(iris$Sepal.Length), jitter(iris$Sepal.Width
************* [[http://cran.r-project.org/web/packages/plotrix/][plotrix]]: [[cluster.overlap][cluster.overplot()]]: counts overlaps, makes a cluster of them

              xy.mat<-cbind(sample(1:10,200,TRUE),sample(1:10,200,TRUE))
              clusteredpoints<-cluster.overplot(xy.mat,col=rep(c("red","green"),each=100))
              plot(clusteredpoints,col=clusteredpoints$col,
              main="Cluster overplot test")

************* [[gplots]] space(): Space points in an x-y plot so they don’t overlap.

*********** both transparency and jitter: [[http://cran.r-project.org/web/packages/Rcell/vignettes/cplot.pdf][rCell example]]
*********** [[http://www.inside-r.org/r-doc/graphics/sunflowerplot][sunflower]] plot ([[http://1.bp.blogspot.com/-R94VkPiNMzQ/TZDVGrTAeLI/AAAAAAAACyw/mk9UyJ0XP8c/s1600/galton+sunflower.png][picture]], I think it is)
*********** also [[Matlab high density scatter plots]]
********* 3D scattter plots
*********** [[http://www.ats.ucla.edu/stat/r/gbe/scatter.htm][using plot() point symbols]] (simple)
*********** [[http://www.r-bloggers.com/quick-introduction-to-ggplot2/][qplot]] (ggplot2) examples
*********** [[http://www.statmethods.net/graphs/scatterplot.html][matrices of 2D scatter plots]]
*********** [[http://www.r-bloggers.com/getting-fancy-with-3-d-scatterplots/][labeled 3D]] scatter plots

******* [[http://cran.r-project.org/web/packages/beanplot/vignettes/beanplot.pdf][beanplots]]: nice for comparing categorical/discrete-conditional densities
******* distributions plots that overlap
********* [[http://www.statmethods.net/advgraphs/ggplot2.html][ggplot() alpha channel]] coloring for overlapping densities

          (Can be done w/ ggplot's qplot() too, [[http://www.statmethods.net/advgraphs/ggplot2.html][it seems]])

          # ggplot2 examples
          library(ggplot2)

          # create factors with value labels
          mtcars$gear <- factor(mtcars$gear,levels=c(3,4,5),
          labels=c("3gears","4gears","5gears"))
          mtcars$am <- factor(mtcars$am,levels=c(0,1),
          labels=c("Automatic","Manual"))
          mtcars$cyl <- factor(mtcars$cyl,levels=c(4,6,8),
          labels=c("4cyl","6cyl","8cyl"))

          # Kernel density plots for mpg
          # grouped by number of gears (indicated by color)
          qplot(mpg, data=mtcars, geom="density", fill=gear, alpha=I(.5),
          main="Distribution of Gas Milage", xlab="Miles Per Gallon",
          ylab="Density")

******* time series densities
********* R [[http://cran.r-project.org/web/packages/fanplot/index.html][fanplot]] (good, popular)
*********** says it is tested against Matlab FanChart,
*********** does scenarios
*********** pictures in [[http://www.r-bloggers.com/the-fanplot-package-for-r/][article]] look quite good
*********** also featured in [[http://www.r-bloggers.com/the-tsbugs-package-for-r/][tsbugs article]]
********* R [[http://cran.r-project.org/web/packages/denstrip/index.html][denstrip]] (densregion is made for time series forecasting)
********* R [[http://cran.r-project.org/web/packages/rainbow/index.html][rainbow]] (scenarios, some kinda shaded plot.  See [[http://journal.r-project.org/archive/2011-2/RJournal_2011-2_Lin~Shang.pdf][article]])
******* see also: [[Matlab density plot functions]]
***** legend
******* legend() is a builtin R command
        But colors /seem/ to have to be color names but I didn't figure this out

        legend(-0.1,1.04,
        legend=c("Africa","NAmerica","Asia",
        "Europe","Oceania","SAmerica"),
        pch=1:6,col=dark.col)

        library(plotrix) # emtpyspace
        es = emptyspace(u,p) # (u,p are coords of lines on plot)
        legend(es,legend=c("Africa","NAmerica","Asia",
        "Europe","Oceania","SAmerica"),
        pch=1:6,col=dark.col)

******* [[http://www.inside-r.org/packages/cran/plotrix/docs/legendg][plotirx legendg()]] (mabye better b/c can take smoothColors colors?)
******* where to put it: [[http://www.inside-r.org/packages/cran/plotrix/docs/emptyspace][emptyspace()]] {[[http://www.inside-r.org/packages/cran/plotrix/docs/emptyspace][plotrix]]}
        Doesn't work great b/c doesn't take legend box size into account.
        Overwrites data sometimes
        but does work OK for text box placement
******* [[http://rgm2.lab.nig.ac.jp/RGM2/R_man-2.9.0/library/Hmisc/man/labcurve.html][putKeyEmpty]]() in Hmisc

        Places the key in most empty space.

        # emptyspace not perfect but can find smaller locations
        library(plotrix) # emptyspace
        legLoc = emptyspace(u,p) # (u,p are coords of lines on plot)
        library(Hmisc)
        putKey(legLoc, labels=legStr, type=1,col=lineCols)

        # # (u,p are coords of lines on plot)
        library(Hmisc)
        putKeyEmpty(u,p, labels=legStr, type=1,col=lineCols)
        putKeyEmpty(u,p, labels=legStr, type=1,col=lineCols,empty.method='area')
        putKeyEmpty(u,p, labels=legStr, type=1,col=lineCols,empty.method='maxdim')

******* autoKey() in ifultools package

        Puts "key" (an empty box in the example given) in most empty space
        on plot.  Maybe "key" could be a legend

******* [[gplots]] smartLegend()
******* [[http://cran.r-project.org/web/packages/plotrix/][plotrix]]: color.legend() and scales
***** [[http://www.statmethods.net/graphs/creating.html][windows()]] makes a new plot window, like matlab figure()
***** staggered x axis string labels: [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/plotrix/man/staxlab.html][staxlab()]] (note: rotation is better?)
***** alpha channel plotting: [[http://www.rosuda.org/iplots/][iPlots]]
***** subplot()
******* splitplot() in ifultools package. *The best?*

        /More like matlab's supblot, allows you to go backwards/,
        /unlike R.utils subplot()/

        library(ifultools)
        ## establish a 2x2 plot grid and select the first
        ## for plotting
        old.plt <- splitplot(2,2,1)
        ## plot the data
        for (i in seq(4)){
        if (i > 1)
        splitplot(2,2,i)
        plot(rnorm(100)*i)
        mtext(paste("i=", i, sep=""), side=3, line=0.5)
        }
        ## return the original plot state of plt in par
        par(old.plt)

******* subplots() in [[http://cran.r-project.org/web/packages/R.utils/R.utils.pdf][R.utils]].  From help(subplots):

        library(R.utils)

        l=subplots(nrow=2, ncol=3)
        # layout.show(length(l)) # see where they are

        # plots are loaded by ordered plot commands
        plot(1:10,cos(1:10))
        plot(1:10,sin(1:10))
        plot(1:10,log(1:10))
        plot(1:10,cos(1:10)*log(1:10))
        plot(1:10,exp(1:10))
        plot(1:10,tanh(1:10))

        # one more plot than subplot dim product: starts over, erasing prev. plots
        plot(1:10,tanh(1:10))

        # can also go in column order:
        l=subplots(nrow=2, ncol=3, byrow=FALSE)
        layout.show(length(l))

******* R built-ins:  layout, split.screen, par

        *par(mfrow=), par(mfcol=), par(mfg=)* are simplist

        Example:
        par(mfrow = c(1,2)) # makes a 2 column plot pane
        (every plot command swaps plot frames, so is annoying)

        *From Hiebeler's [[http://cran.r-project.org/doc/contrib/Hiebeler-matlabR.pdf][Matlab R/R Reference]]*

        There are several ways to do this, e.g.
        using layout or split.screen, al-
        though they aren’t quite as friendly
        as Matlab ’s. E.g. if you let A =
        1 1 2
        1 1 3
        4 5 6
        , then

        *layout(A)* will divide the figure into 6 sub-figures: you can imagine the
        figure divide into a 3 × 3 matrix of smaller blocks; sub- figure 1 will
        take up the upper-left 2×2 portion, and sub-figures 2–6 will take up
        smaller portions, according to the positions of those numbers in the
        matrix A. Consecutive plotting com- mands will draw into successive sub-
        figures; there doesn’t seem to be a way to explicitly specify which
        sub-figure to draw into next.

        To use *split.screen*, you can do e.g. split.screen(c(2,1)) to split into a 2
        × 1 matrix of sub- figures (numbered 1 and 2). Then split.screen(c(1,3),2)
        splits sub- figure 2 into a 1× 3 matrix of smaller sub-figures (numbered 3,
        4, and 5).  screen(4) will then select sub-figure number 4, and subsequent
        plotting commands will draw into it.

        A third way to accomplish this is via the commands *par(mfrow=)* or
        *par(mfcol=)* to split the figure window, and *par(mfg=)* to select which
        sub-figure to draw into.  Note that the above methods are all incompatible
        with each other.

***** Interactive Plot GUIs
******* overviews
********* [[https://community.rstudio.com/t/best-package-for-interactive-graphs-in-shiny/1731/5][Best package for interactive graphs in Shiny - shiny - RStudio Community]]
********* [[https://www.r-bloggers.com/interactive-visualizations-with-r-a-minireview/][Interactive visualizations with R – a minireview | R-bloggers]]
******* <<Plotly>>: zooms, dynamic ticks, has ggplot2(), in many languages
********* plotly registration
          From: [[https://plot.ly/python/getting-started/][Getting Started with Plotly for Python | plotly]]

          o must get a plotly account (see gmail for mine)
          I've already done that [[https://plot.ly/settings/api#/][here]]

          o Run the following in Python (Spyder, Jypyter, ...)

          # these are my credentials
          import plotly
          plotly.tools.set_credentials_file(username='zenf',api_key="cO8tnS0WlWAreOZwmPzX")
          
********* is [[https://plot.ly/][implemented in]] R, python, [[Dash]], React, Java
********* [[https://plot.ly/api/][has APIs]] for python, matlab, R, and Java
********* <<Plotly Express>> (easier to use version of plotly)

          A beginners interface to plotly, like seaborn is to matplotlib.  Many plots can be done in oneliners, yet can still be modified for full plotly style control.

          conda install -c plotly plotly_express 

*********** Plot type Galleries
************* [[https://plot.ly/python/plotly-express/][Plotly Express]] 
************* [[https://medium.com/plotly/introducing-plotly-express-808df010143d][Introducing Plotly Express]]
*********** [[https://medium.com/plotly/introducing-plotly-express-808df010143d][Has]] built-in connections to:
************* [[Themes in Plotly]]
************* [[Static Image Export for Plotly]]
************* [[Plotly Figure Widgets]]
************* [[Jupyterlab Chart Editor]]
              
************* [[Dash]]
*********** Several input data types
************* [[https://medium.com/plotly/beyond-tidy-plotly-express-now-accepts-wide-form-and-mixed-form-data-bdc3e054f891][Beyond “tidy”: Plotly Express now accepts wide-form and mixed-form data]]
************* Used to require inputs in [[Tidy (Long) Tables]]
*********** [[https://plot.ly/python/plotly-express/#plotly-express][Has]] ColorBrewer color picking and others
********* [[R ggplot2]]
********* [[Python plotly]]
********* [[R plotly]]
********* plotly is [[https://stackoverflow.com/questions/35511111/plotly-python-totally-free?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa][confusingly free]], can be run offline
********* has Dash, which is the best Python version of R-Shiny, a recommended as a way to do dashboards (I read in several places)
********* <<Plotly Map Plotting>>
*********** many plotly map types: [[https://plot.ly/python/maps/][Plotly Python Open Source Graphing Library Maps]]
*********** [[https://plot.ly/python/choropleth-maps/][Python Choropleth Maps | Plotly]]
*********** Apparently need external GeoJSON maps for zip code maps
            [[https://community.plot.ly/t/choropleth-maps-at-zip-code-level/4882/6][Choropleth maps at zip code level - plotly.js - Plotly Forum]]
*********** [[https://github.com/OpenDataDE/State-zip-code-GeoJSON][OpenDataDE/State-zip-code-GeoJSON: Zip code boundaries, each State]]
*********** uses geopandas, or at least won't run without it, it seems
*********** plotly [[https://medium.com/@plotlygraphs/what-is-a-fips-code-county-level-charts-in-python-4eff383a4cf6][knows about FIPS codes]] (unique ID for every US county)
*********** also [[Map plotting in Python]]

********* <<Themes in Plotly>>

          [[https://medium.com/plotly/introducing-plotly-py-theming-b644109ac9c7][Plotly Themes]] let you quickly change the overall look of a graph.

********* <<Static Image Export for Plotly>>
          From: [[https://plot.ly/python/static-image-export/][Static Image Export | plotly]]
*********** Orca Plotly Figure Export
            See [[https://plot.ly/python/orca-management/][Orca Management | Plotly]]
          
********* <<Plotly Figure Widgets>>
          From: [[https://plot.ly/python/figurewidget/][Plotly FigureWidget Overview]]
********* [[grouped stacked bar plot in plotly]]
********* [[waterfall charts in plotly]]
********* vertical and horizontal lines and boxes in plotly
*********** [[https://plotly.com/python/horizontal-vertical-shapes/][Horizontal Vertical Shapes]]
********* [[altair]] is similar, maybe more concise?
******* <<Bokeh:>> interactive, in at least R and python
********* [[Python Bokeh]] 
********* [[R Bokey]]
******* <<R Bokey>>
********* [[http://hafen.github.io/rbokeh/][rbokeh]]
******* <<R plotly>>
********* [[https://github.com/ropensci/plotly][plotly: An interactive graphing library for R]]
******* [[http://cran.r-project.org/web/views/Graphics.html][advice]] on R graphics (see interactive graphics section)
******* [[http://cran.r-project.org/web/packages/zoom/][zoom]]: works on standard R graphs, simple mouse clicks, keyboard, SLOW

        Mouse:
        Right to zoom in, Middle or Hold Left + click right to zoom out
        Hold left mouse button to move

        Keyboard:
        Left/Right (h/l):           move left/right
        Up/Down (k/j)   :              move up/down
        + or i / - or o :               zoom in/out
        L/H             : zoom in/out (x-axis only)
        K/J             : zoom in/out (y-axis only)
        p               :             print to file
        r               :              reset limits
        s               :               show limits
        q on the graphic window to quit
******* [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/Hmisc/man/Overview.html][Hmisc]]

        Has a zoom function (for any graphic) but I can't figure it out
        except:

        zoom(fun=plot,x=1:100,y=cos(1:100),type='l')

        click mouse-3 to stop zooming.  zoom() is and "internal function" not
        supposed to be called by user so I think I'm missing something.

        see also: [[Hmisc: handy functions]]
******* [[http://code.google.com/p/latticist/][latticist]] cool but is specifically for creating marginal plots
        (not obvious how to plot a single time series w/ it; not clear how
        to zoom)

        I installed gWidgetstcltk, so I could try it w/o playwith.  It's
        pretty ugly but works, more or less

        I also installed DAAG so I could view the [[http://code.google.com/p/latticist/wiki/DemoFrogs][demos]]
******* [[http://cran.r-project.org/web/packages/iplots/index.html][iplots]] but have to use their special plot functions
******* IDPmisc: too annoying to use

        mentioned [[http://bm2.genes.nig.ac.jp/RGM2/pkg.php%3Fp%3DIDPmisc][here]]

        I downloaded it.  It zooms but doesn't unzoom.  Only let's you exit
        the plot, redraw it, and then re-zoom

        docs:  http://www.google.dk/url?sa=t&source=web&cd=2&ved=0CBUQFjAB&url=http%3A%2F%2Fcran.r-project.org%2Fweb%2Fpackages%2FIDPmisc%2FIDPmisc.pdf&ei=jSkqTLrOHY3vObyk3bID&usg=AFQjCNHuGH5q01SV6LPkor4-jXazRCYZDg

        It's really calling [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/IDPmisc/man/zoom.html][zoom]], which is also mentioned [[http://bm2.genes.nig.ac.jp/RGM2/pkg.php%3Fp%3DIDPmisc][here]]

******* [[http://cran.r-project.org/web/packages/aplpack/aplpack.pdf][aplpack]]
        has a slider.zoom.plot.ts function but it looks clumsy
******* [[http://cran.r-project.org/web/packages/RnavGraph/index.html][RnavGraph]]: some kinda tk graphics interface.
******* [[http://cran.r-project.org/web/packages/rgl/index.html][igl]] links somehow to plot() etc, but zoom only mentioned on 3D stuff
******* [[http://cran.r-project.org/web/packages/bpca/bpca.pdf][bpca]] overloads plot() w/ it's own plot func, which zooms
******* [[https://github.com/floybix/playwith][playwith]] I used to use it but it's SLOW and now unmaintained
********* was hard to get working in 2010
*********** DTU linux box
************* fixed on Linux when they upgraded Ubuntu: it gets confused about gtk2.0
*********** Windows 32 bit fixes (works on my x60 laptop)
************* fix missing libcairo-2.dll
              - it was already in the contrib package, Cairo_1.4.5.zip, [[http://cran.r-project.org/][here]]
                (Cairo/libs/libcairo-2.dll)
              - I installed the zip file using the Rgui, installing from zip file
              - it seems that it's just not pointing to it, somehow
              - fixed up some possible confusion w/ R_LIBS_USER and still had
                probs w/ libgtk
              - fix missing libgdk-win32*dll prob
                download gtk+ bundle to:
                e:/scotto/lib/gtk+-bundle_2.20/bin
                and put it in PATH
              - then it works!  is pretty nice!
***** [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/plotrix/man/staircase.plot.html][staircase.plot()]]: nice way to display where something was distributed, esp. losses?
***** stair plots
      [[http://www.statmethods.net/graphs/line.html][lines(*, type='s' or
      type='S')]]
***** maps
******* [[http://code.google.com/apis/maps/documentation/staticmaps/][google static maps]] api
        tutorial: http://cran.r-project.org/web/packages/RgoogleMaps/vignettes/RgoogleMaps-intro.pdf
        manual: http://bm2.genes.nig.ac.jp/RGM2/pkg.php?p=RgoogleMaps
******* [[http://cran.r-project.org/web/packages/mapdata/index.html][mapdata]]
********* high res world map, can be used in place of maps pkg "world"
******* [[http://bm2.genes.nig.ac.jp/RGM2/pkg.php?p%3Dmaps][maps package]]

        *Example*:

        library(maps); library(mapdata); library(playwith)
        playwith(map("worldHires",c("denmark","uk","belgium","netherlands",
        "germany","france","sweden","norway"),
        fill=TRUE,col='yellow',interior=FALSE))

********* includes very coarse map called "[[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/maps/man/world.html][world]]"
********* more map data in the mapdata package
******* [[http://cran.r-project.org/web/packages/sp/index.html][sp: classes and methods for spatial data]]

        Examples are [[http://r-spatial.sourceforge.net/gallery/][here]]

******* location format conversions

        *conclusion*: /use char2dms()/, which is a one liner

********* char2dms {[[http://cran.r-project.org/web/packages/sp/sp.pdf][sp]]} string --> DMS object, flexible format, as.numeric() for degrees
********* [[http://cran.r-project.org/web/packages/gmt/gmt.pdf][deg2num {gmt}]] string --> decimal degrees, format: D:M:S[SWEN]
***** <<R color picking>>
******* [[http://cran.r-project.org/web/packages/colorspace/index.html][colorspace]]: categorical, map, etc. color maps.
********* good advice here: [[http://cran.r-project.org/web/packages/colorspace/vignettes/hcl-colors.pdf][HCL-Based Color Palettes in R]]
********* choose_palette(): a palette picking GUI
******* [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/Hmisc/man/Overview.html][Hmisc]] show.col() [color numbers] and show.pch() [plot char numbers]
******* palette(): set color numbers

        palette('default') ## the standard
        show.col() ## from Hmisc
        w=2*pi*(1:10)/10
        matplot(cbind(cos(w),sin(w)),type='l')
        starts with color 1, not zero

        palette('default') used by matplot, etc. cycles between only 8
        colors; I think only colors 1:4 are good plot line colors (and
        maybe 7)

        palette(rainbow(99))
        show.col() ## from Hmisc
        matplot(cbind(cos(w),sin(w)),type='l')
        starts with color 1, not zero
        palette('default') ## make col 1 black again

        note: can mix color numbers and names eg.

        palette('default') ## make col 1 black again
        matplot(cbind(cos(w),sin(w)),type='l',col=c(1,'green'))

******* [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/RColorBrewer/man/ColorBrewer.html][RColorBrewer]] (better for maps.  See also: www.colorbrewer2.org)
******* [[http://hosho.ees.hokudai.ac.jp/~kubo/Rdoc/library/plotrix/html/smoothColors.html][smoothColors {plotrix}]] interps colors between multiple color name pairs
        <<plotrix smoothColors>>

        plot(1:10,main="Test opaque colors",type="n",axes=FALSE)
        box()
        rect(1:7,1:7,3:9,3:9,col=smoothColors("red",2,"green",2,"blue"))

******* [[http://www.inside-r.org/packages/cran/plotrix/docs/color.scale][color.scale {plotrix}]] maps numeric values onto colors
******* [[http://cran.r-project.org/web/packages/munsell/munsell.pdf][munsel]] (isn't this almost the same as HSV?)
******* col2hex() in [[gplots]]: convert color names to RGB strings
******* color.id in [[http://cran.r-project.org/web/packages/plotrix/][plotrix]]: given hex string get the color name!
******* colorpanel() in [[gplots]]: makes smoothly varying colorset
******* rich.colors() in [[gplots]]: make n well-orderd, perceptually equidistant colors
******* [[http://cran.r-project.org/web/packages/plotrix/][plotrix]]: color legend, scales, lines w/ scaled colors, etc.
******* [[http://www.r-bloggers.com/the-paul-tol-21-color-salute/][The Paul Tol 21-color salute]]: gradients, and gradients w/ one standout
******* [[http://www.r-bloggers.com/r-color-reference-sheet/][R Color Reference Sheet]]: named colors on pdf and
********* sheet: [[http://bc.bojanorama.pl/wp-content/uploads/2013/04/rcolorsheet-1-300x212.png][ColorBrewer and colorRamp]]
********* sheet: [[http://bc.bojanorama.pl/wp-content/uploads/2013/04/rcolorsheet.pdf][named colors]]
********* code

          library(RColorBrewer)
          library(colorRamps)


          pdf("rcolorsheet.pdf", paper="a4r", width=11.6, height=8.2, onefile=TRUE)

          ### page 1

          # grDevices::colors
          m <- matrix(1:660, 60, 11)
          kol <- colors()[m]
          op <- par(mar=c(.1, .1, 2, .1))
          image(1:11, 1:60, t(m), col=kol, axes=FALSE, ann=FALSE)
          txtcol <- ifelse( apply(col2rgb(kol), 2, mean) < 70, "white", "black")
          text( as.numeric(col(m)), as.numeric(row(m)), kol, cex=.8, col=txtcol)
          mtext("grDevices::colors", 3, cex=2)
          par(op)

          ### page 2
          layout(matrix(1:2, 1, 2))

          # RColorBrewer
          op <- par(mar=c(.1, 5, 2, .1))
          display.brewer.all()
          mtext("RColorBrewer", 3, cex=2)
          par(op)

          # ramps
          N <- 100 # ramp length
          funnames <- c("grDevices::rainbow", "grDevices::heat.colors",
          "grDevices::terrain.colors", "grDevices::topo.colors",
          "grDevices::cm.colors", "colorRamps::blue2red",
          "colorRamps::blue2green", "colorRamps::green2red",
          "colorRamps::blue2yellow", "colorRamps::cyan2yellow",
          "colorRamps::magenta2green", "colorRamps::matlab.like",
          "colorRamps::matlab.like2", "colorRamps::primary.colors",
          "colorRamps::ygobb")
          spl <- strsplit(funnames, "::")
          pkgs <- sapply(spl, "[", 1)
          funs <- sapply(spl, "[", 2)
          kolmat <- sapply(funs, do.call, list(N))
          mat <- matrix( seq(1, length(kolmat)), nrow(kolmat), ncol(kolmat))
          op <- par(mar=c(.1, .1, 2, .1))
          image(seq(1, nrow(mat)), seq(1, ncol(mat)), mat, col=kolmat,
          axes=FALSE, ann=FALSE)
          text( nrow(mat)/2, seq(1, ncol(mat)), funnames)
          mtext("Color ramps", 3, cex=2)
          par(op)

          dev.off()

******* <<colorRamps package>>

******* [[http://www.inside-r.org/r-doc/grDevices/colorRampPalette][colorRamp {grDevices}]]

        Makes functions that interpolate between given colors to create new
        color palettes and color ramps.

******* Matlab-like color pallets (matlab.like) in [[colorRamps package]]
        <<Matlab-like color pallets>>
******* also see [[Matlab color picking]]
***** lines color depends on value: [[http://rgm2.lab.nig.ac.jp/RGM2/func.php?rd_id%3Dplotrix:clplot][clplot {plotrix}]]
***** printing/saving a plot
******* transparency vs. file format
********* formats that have transparency
*********** bitmap (because it's a screenshot)
*********** [[http://office.microsoft.com/en-us/help/choosing-the-best-graphic-format-for-the-job-HA001056305.aspx][gif, png]]
*********** [[http://www.mathworks.com/help/matlab/creating_plots/choosing-a-graphics-format.html][24 bit tiff and jpeg]]
********* [[http://office.microsoft.com/en-us/help/choosing-the-best-graphic-format-for-the-job-HA001056305.aspx][emf doesn't have transparency]] (this is [[http://www.mathworks.com/help/matlab/creating_plots/choosing-a-graphics-format.html#f3-103417][because it's a vector format]])
******* <<Saving to emf or pdf from R>>

        Saving to emf works best for powerpoint (but doesn't handle transparency)
        savePlot("tmp.emf",type='emf')
        (or just right click on the plot window and save as emf)

        Pdf's are not so nice for powerpoint but good for latex
        dev.print(device=pdf,file=prntOutFNm)

        Also: [[Powerpoint and R]]

******* <<Powerpoint and R>>
********* saving directly to powerpoint

          This was a great time saver for matlab; still don't know how in R.

*********** [[http://cran.r-project.org/web/packages/R2PPT/index.html][R2PPT]] seems perfect but I can't get it to work

            It installs w/o dependent packages, some of which don't build on
            Windows 7, for R 3.02.  One or the other of the two below are required:

************* [[http://www.omegahat.org/RDCOMClient/][RDCOMClient]]
************* [[http://crantastic.org/packages/rcom][rcom]]
*********** Guys [[http://mcfromnz.wordpress.com/2013/09/03/ggplot-powerpoint-wall-head-solution/#comments][asks]] how for Mac.  Seems smart. Maybe he'll get an answer
********* [[Saving to emf or pdf from R]]
***** bar plots
******* grouped bar plot w/ staggered/angled x-axis labels
        - staggered only: barp{plotrix}
        - staggered or angled: built-in barplot()/staxlab{plorix}

        plot w/o x axis labels, get tick positions in return value and use
        staxlab() to either stagger or angle them.

******* nested bar plots: [[http://rgm2.lab.nig.ac.jp/RGM2/func.php?rd_id%3Dplotrix:barNest][barNest {plotrix}]]
******* histogram with log counts

        # example of histogram w/ logarithmic counts

        npts=1000
        x = rnorm(npts)

        H = hist(x,plot=FALSE) # get counts

        # barplot() uses colnames for x axis bar labels
        y = t(matrix(H$counts))
        colnames(y) = H$mids

        barplot(y, log = "y", xlab='x', ylab='count(x)')

***** venn() in [[gplots]]: venn diagram w/ up to 5 members
***** hierarchical graphs
******* [[http://www.r-bloggers.com/plugging-hierarchical-data-from-r-into-d3/][topic graphs]]
***** <<gplots>>: many nice plotting functions, including color picking
******* [[http://cran.r-project.org/web/packages/gplots/][gplots]]
******* was on [[Top 100 R packages]]
***** [[http://cran.r-project.org/web/packages/gtools/gtools.pdf][gtools]]: gtools some nice programming tools, including something kind of like stackplot
      <<gtools>>
***** [[http://cran.r-project.org/web/packages/plotrix/][plotrix]]: many plot types, has legend and color picking stuff
      <<plotrix>>
***** <<R ggplot2>>
******* [[https://mandymejia.wordpress.com/2013/11/13/10-reasons-to-switch-to-ggplot-7/][10 reasons to switch to ggplot – Mandy Mejia]]
******* [[ggplot2]]: extremely popular
******* [[Plotly]]: interactive graphs, works with ggplot2
******* [[Python ggplot2]]
*** <<Rscript>>: convenience utility for calling R funcs from cmdline
    See [[http://www.inside-r.org/r-doc/utils/Rscript][Rscript]]

    Could use "R CMD BATCH --args arg1 arg2 foo.R" but Rscript is [[http://cran.r-project.org/doc/manuals/R-intro.html#Scripting-with-R][easier]].

    Can also use R similar to #!/bin/sh for running sh (a shebang).  In
    a unix-like script file can use

    !#/some_path/Rscript to run R commands in a script.

***** [[http://blog.revolutionanalytics.com/2009/01/using-r-as-a-scripting-language-with-rscript.html][example]] of use
***** comes w/ barebones R in utils pkgs
***** Rscript easier than R.exe: [[http://cran.r-project.org/doc/manuals/R-intro.html#Scripting-with-R][Scripting with R]] (R docs)
***** Running R from command line: [[http://cran.r-project.org/doc/manuals/R-intro.html#Invoking-R-from-the-command-line][Invoking R from the command line]] (R docs)
***** [[http://cran.r-project.org/doc/manuals/R-intro.html#Invoking-R-under-Windows][Invoking R under Windows]] (no mention of Rscript?)
***** [[http://stackoverflow.com/questions/3412911/r-exe-rcmd-exe-rscript-exe-and-rterm-exe/3415135#3415135][Comparison]] of R.exe, Rcmd.exe, Rscript.exe and Rterm.exe
***** Command line parsing functions to use with Rscript

      *Conclusion*:  use commandArgs() for one or two simple args and use
      getopt() for most everything else (might want to hack getop to
      handle defaults)

******* [[http://www.stat.ucl.ac.be/ISdidactique/Rhelp/library/R.basic/html/commandArgs.html][commandArgs()]] builtin can extract args, like this
        args <- commandArgs(TRUE)
        full script is:

        args <- commandArgs(TRUE)
        ...
        q(status=<exit status code>)

******* cmdline parsing pkgs: [[https://r-forge.r-project.org/R/?group_id%3D486][argparse, getopt, and optparse]]
********* [[http://www.inside-r.org/packages/cran/getopt/docs/getopt.package][getopt]]: short and simple but doesn't do default values
********* [[http://cran.at.r-project.org/web/packages/optparse/index.html][optparse]]: python inspired, is kind of [[http://cran.at.r-project.org/web/packages/optparse/vignettes/optparse.pdf][verbose]]
********* argparse: not in CRAN yet, Python lib inspiration also [[http://docs.python.org/dev/library/argparse.html][looks verbose]]
          comparison of Python libs: [[http://argparse.googlecode.com/svn/trunk/doc/argparse-vs-optparse.html][argparse vs. optparse]]
*** [[http://www.r-bloggers.com/abbreviations-of-r-commands-explained-250-r-abbreviations/][R command abbreviations explained]]
*** Installing R libraries (packages)

    install.packages("dtw");

    help recommends that you first run

    update.packages()

***** <<R packages setup>>
******* proxy (needed at IWES)

        So that R uses whatever proxy is used by IE.  Then will work in and
        out of IWES, if IE has the proxy set correctly.

        In windows, as advised [[http://cran.r-project.org/bin/windows/rw-FAQ.html#The-Internet-download-functions-fail_002e][here]], edit the R desktop shortcut so that
        the target has /--internet2/ at the end, and outside of the quotes
        e.g.

        "C:\Program Files\R\R-2.13.1\bin\x64\Rgui.exe" --internet2

******* Undoing proxy

        When off of IWES net, I couldn't install packages b/c R thought I
        was still on a proxy, even though the IE proxy was turned off. This
        was because I had set the environment variable http_proxy, and
        this overrode the IE setting.

        To fix, delete the environment variable:

        HTTP_proxy 10.13.13.5:3128

        (be sure to set again for wget or whatever it was that I originally
        had it set for)

******* R libs environment variables

        Both R_LIBS_USER and R_LIBS_SITE [[http://cran.r-project.org/doc/manuals/r-devel/R-admin.html][can specify multiple]] library paths,
        separated by colons (semicolons on Windows).

        *HOWEVER* it seems that R_LIBS_USER can be only one path (it's the
        folder where your own packages are installed when you do
        install.packages() and the system folders are unreadable (or just
        when R_LIBS_USER is present?).

        Can specify an R [[http://www.inside-r.org/r-doc/base/.libPaths][version number and machine architecture]] in these
        library paths. As suggested [[http://cran.r-project.org/bin/linux/debian/README][here]], put something like this:

        R_LIBS_USER="~/lib/R/%p/%v;~/lib/R" (Unix)

        OR

        R_LIBS_USER="~/lib/R/%p/%v:~/lib/R" (Unix)

        into

        ~/.Renviron

        then make the directory pointed by R_LIBS_USER, e.g.

        mkdir ~/lib/R/x86_64-unknown-linux-gnu/2.12

        _For windows_, an environment variable works (and _maybe does in Linux?_)
        in the control panel interface:

        R_LIBS_USER %HOME%\lib\R\%p\%v

        Can see what dir to make by starting R w/ the new ~/.Renviron or new
        R_LIBS_USER env var, and then, within R, running:

        Sys.getenv("R_LIBS_USER")

        (R can be pointing to not the version you want but you can fix this
        by [[controlling which R version is run]]

        After the mkdir, restart R so that it will notice the new directory.

        Then packages can be installed inside of R, for example

        install.packages("dtw");

        With the above, I'll need to install every package for each
        architecture, while running R on each machine type e.g. Solaris AND
        Linux on DTU machines.

        install.packages() installs in the first item of the colon separated
        list in R_LIBS_USER; cran stuff will go there automatically.  The
        ~/lib/R entry is for my own packages, that don't have compiled stuff in
        them, and are thus, not architecture (and hopefully, R) dependent.

        *R_LIBS Shell Environment Variable*

        [[http://gking.harvard.edu/zelig/docs/Installing_Zelig2.html][Supposedly]], you can also use the "R_LIBS" shell environment variable to
        set the library path, eg.

        export R_LIBS="$HOME/Library/R/library"

        You can see it being used in the R code [[http://svn.r-project.org/R/trunk/src/library/utils/R/packages2.R][here]] but I think this is
        windows.  Also, I can't tell if this code is called if the *--no-environ*
        is invoked when R is called (a problem for the unmodified Rsge package
        (see below).

***** <<controlling which R version is run>>

      from [[http://stackoverflow.com/questions/12574738/how-can-i-specify-the-r-version-opened-by-ess-session-in-emacs][here]]:

      Can also customize: Inferior R Program Name, but then you have to
      point to a specific path (I did this because I couldn't figure out a
      more automatic, surefire method.  But this will break as soon as I
      upgrade R.  Right now it's pointed to:

      C:/Program Files/R/R-3.0.2/bin/x64/Rterm.exe

***** installing packages not available on CRAN
******* supposed to be easy to [[http://www.r-bloggers.com/building-a-package-in-rstudio-is-actually-very-easy/][build them in RStudio]]
***** also see [[Upgrading R]]
***** also see [[*My basic R packages][My basic R packages]]
*** set working directory to script dir

    library(here)
    here()

*** uncategorized but cool

    Correlelogram
    TuneR.R has a spectrogram function: tuneR/R/periodogram.R
    http://cran.r-project.org/web/packages/tuneR/index.html
    look @ ~/lib/matlab/scottlib/myxcorr.m
    xcpairs.cpp (attached)

    makes spectrogram
    http://stat.ethz.ch/R-manual/R-devel/library/stats/html/spec.pgram.html

    Parallel computing
    http://cran.r-project.org/web/views/HighPerformanceComputing.html
    http://sites.google.com/site/thomashoffmannproject/software/batch
    http://cran.r-project.org/web/packages/Rsge/index.html
    http://www.rforge.net/doc/packages/multicore/multicore.html

    Bayesian Network Structure learning
    http://bm2.genes.nig.ac.jp/RGM2/pkg.php?p=bnlearn

    Bayesian change point detection (looks for regions w/ same mean)
    http://bm2.genes.nig.ac.jp/RGM2/R_current/library/bcp/man/bcp.html

    R/C++ integration:
    http://cran.r-project.org/web/packages/Rcpp/index.html
    http://www.r-bloggers.com/seamless-r-extensions-using-rcpp-and-rinside-2/
    http://www.r-bloggers.com/rinside-release-0-2-2/

    Profiling
    http://bm2.genes.nig.ac.jp/RGM2/R_current/library/profr/man/plot-profr-4g.html
    http://cran.r-project.org/web/packages/proftools/index.html

    long multi- time series plots
    http://addictedtor.free.fr/graphiques/graphcode.php?graph=160

    better bar plot: barplot2
    http://addictedtor.free.fr/graphiques/graphcode.php?graph=54

    correlation matrices

    large correlation matrix graph (ellipses)
    http://addictedtor.free.fr/graphiques/RGraphGallery.php?graph=149
    correlation matrix graph (w/ marginal scatter plots and significances as numbers.  I might like this better)
    http://addictedtor.free.fr/graphiques/graphcode.php?graph=137
    also cool:
    http://addictedtor.free.fr/graphiques/graphcode.php?graph=148

    wind rose
    contour wind rose
    http://addictedtor.free.fr/graphiques/RGraphGallery.php?graph=123
    circular density estimator
    http://addictedtor.free.fr/graphiques/graphcode.php?graph=121
    simple wind rose
    http://addictedtor.free.fr/graphiques/RGraphGallery.php?graph=97
    accum. data for wind rose (bin.wind.records() in plotrix, oz.windrose draws
    it)
    http://rgm2.lab.nig.ac.jp/RGM2/func.php?rd_id=plotrix:bin.wind.records

    color names
    http://addictedtor.free.fr/graphiques/graphcode.php?graph=155

*** list files in a directory: [[http://www.stat.ucl.ac.be/ISdidactique/Rhelp/library/base/html/list.files.html][dir() or list.files()]]

*** data I/O
***** reading Excel data
******* [[http://cran.r-project.org/web/packages/gdata/gdata.pdf][read.xls {gdata}]]

        calls a xls2csv Perl script that might cause problems, according to
        the docs.

*** drop(): drops singleton dims, like Matlab's squeeze()
*** useful packages
***** <<Top 100 R packages>>: see this [[http://www.r-statistics.com/2013/06/top-100-r-packages-for-2013-jan-may][list of popular top 100 R packages]]
***** [[http://www.stat.ucl.ac.be/ISdidactique/Rhelp/library/combinat/html/00Index.html][combinat]]: combinatorics
***** [[http://code.google.com/p/sqldf/][sqldf]]: R language SQL connector
***** [[http://had.co.nz/ggplot2/][ggplot2]] : better plotting
      was on [[Top 100 R packages]]
***** [[http://gking.harvard.edu/zelig/][zelig]]: combined regression stuff.  Maybe quicker?
***** <<Hmisc: handy functions>>

      Cs(): Kinda like perl's qw
      combine(): is like perl or ruby's hash merge
      csv.get(): csv read w/ column name fixing to make the valid R names
      (like my readHdrFile)
      escapeRegex(): Escapes any characters that would have special meaning in a reqular expression.
      getZip(): Allows downloading and reading of a zip file containing one file
      impute(), transcan(): does imputation (but is [[http://gking.harvard.edu/amelia/][Amelia II]] better?)
      [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/Hmisc/man/labcurve.html][labcurve():]] line plot labeling, line specifying, legend, and drawing
      [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/Hmisc/man/list.tree.html][list.tree()]]: slightly prettier struct dump than R's str()
      minor.tic(): adds plot minor tick marks
      mtitle(): group plot title, a better version of Matlab's suptitle()
      partition(): splits vector, etc. into sets w/ defined # members
      (could use for train/dev/test split)
      plsmo(): smoothed plots of many kinds
      ps.slide(): fix plot to make a good pdf or ps slide (like my matlab func)
      rcorr.cens(), rcorr() rcorrp.cens(): corr. matrices w/ good NA handling
      redun(): a kind of feature selection, like minMax MI
      show.pch(): shows color and font options for tables and plots
      sys(): similar to my cmdecho(), or maybe a starting point for it
      xYplot(): legends w/ line thickness instead of color and tons else
      xy.group(): like rangeStat.m
      zoom()???

      see also: [[R funcs useful for R prnvar()]]

      I was able to install it.  Note that update may try to update the
      version installed in a Unix root-protected area but I think this
      problem goes away if I install Hmisc in my own library dir.

      [[http://sekhon.berkeley.edu/library/Hmisc/html/Overview.html][To make Hmisc load silently]]:
      issue options(Hverbose=FALSE) before library(Hmisc).
***** [[http://rgm2.lab.nig.ac.jp/RGM2/functions.php?show%3Dall&query%3Dpackage:plotrix][plotrix]]: nice plotting functions
***** [[http://bm2.genes.nig.ac.jp/RGM2/pkg.php?p%3Dplyr][plyr]]: tools for splitting, applying and combining data
*** <<Upgrading R>>
***** [[http://cran.r-project.org/bin/windows/base/rw-FAQ.html#How-do-I-install-R-for-Windows_003f][official upgrading advice]]
***** [[http://www.r-statistics.com/2011/04/how-to-upgrade-r-on-windows-7/][Upgrading R on Windows]] (this didn't seem to work, at least not for 2.15-->3.1)
***** Get a list of user-installed packages (useful for upgrading R version)

      Starting w/ info from [[http://www.ats.ucla.edu/stat/r/faq/packages.htm][here]]:

      names(is.na(installed.packages()[,'Package']))

***** My basic R packages

      On 17.05.2013...

      *To update new R installation, start downloading these*, and let the dependency tracker find the rest

      _In quotes for installing in R (which is always problematic on Windows)_

      cbind("ggplot2","plyr","reshape2","R.matlab", "RColorBrewer", "colorspace","signal","dichromat", "memoise", "irlba", "SparseM", "stringr","Amelia","R.utils","specc","kernel","Hmisc","lintr")

      _No commas for installing in Rstudio:_

      ggplot2,plyr,reshape2,R.matlab, RColorBrewer, colorspace,signal,dichromat, memoise, irlba, SparseM, stringr,Amelia,R.utils,specc,kernel,Hmisc,lintr

      _*Full list* (but downloading a few of them will get the rest)_

      "gWidgetsRGtk2"
      "stringr"
      "R.oo"
      "SparseM"
      "digest"
      "gridBase"
      "memoise"
      "pracma"
      "scales"
      R.methodsS3"
      "RGtk2"
      "dichromat"
      "labeling"
      "cairoDevice"
      "gWidgets"
      "gtable"
      "munsell"
      "proto"
      "signal"
      "R.oo"
      "digest"
      "gridBase"
      "memoise"
      "pracma"
      "scales"
      "R.matlab"
      "RColorBrewer"
      "colorspace"
      "gWidgetsRGtk2"
      "reshape"

*** <<Feature selection in R>>
***** quick [[http://www.statmethods.net/stats/regression.html][overview]]
***** [[http://cran.r-project.org/web/packages/leaps/leaps.pdf][leaps]]: _exhaustive_ comparison of all models: do BIC or whatever afterwards
      example of use is [[http://www.statmethods.net/stats/regression.html][here]]
      use of plot() and of subsets() plot in cars library is recommended
      (subsets() appears to hang until you to place the legend with the mousse)
***** [[http://cran.r-project.org/web/packages/minet/minet.pdf][mrnet {minet}]]: max re. min red. mut. info. feat sel (as in Peng...)
***** [[http://cran.r-project.org/web/packages/caret/vignettes/caretSelection.pdf][caret]]
***** [[http://cran.r-project.org/doc/contrib/Faraway-PRA.pdf][Anova]]
***** [[http://rtutorialseries.blogspot.com/2010/01/r-tutorial-series-basic-hierarchical.html][hierarchical tutorial (maybe too simple)]]
***** redun() {[[http://cran.r-project.org/web/packages/Hmisc/Hmisc.pdf][Hmisc]]}: kind of like mRMR featsel but w/ curve fitting instead of MI
***** [[http://cran.r-project.org/web/packages/infotheo/index.html][infotheo]] (don't featsel but author's thesis about info theory featsel)
***** [[http://cran.r-project.org/web/packages/FeaLect/vignettes/FeaLect_feature_scorer.pdf][FeaLect]]: random subsets w/ LASSO (maybe helps w/ LASSO unreliability?)
***** stepwise
******* stepwise {stats}: Select a formula-based model by AIC
******* [[http://cran.r-project.org/web/packages/MASS/MASS.pdf][stepAIC]] {MASS}
******* [[http://cran.r-project.org/web/packages/bootStepAIC/bootStepAIC.pdf][bootStepAIC]]: pkg to bootstrap stepAIC
*** sampling / partitioning
***** [[http://www.ats.ucla.edu/stat/r/library/bootstrap.htm][sample()]] builtin
***** [[http://www.statmethods.net/management/subset.html][subset]] builtin
***** library [[http://www.statmethods.net/advstats/bootstrapping.html][bootstrap]]
***** [[http://www.ats.ucla.edu/stat/r/library/bootstrap.htm][builtin R bootstrap functions]]
***** library [[http://cran.r-project.org/web/packages/urn/urn.pdf][urn]] (discontinued)
******* Generate repeated samples of the same list of objects without replacement.
******* [[http://cran.r-project.org/web/packages/partitions/vignettes/scrabble.pdf][code snippet]] used to enumerate all possible combos
*** rewriting my useful Matlab, Perl and Ruby funcs in R
***** rangeStat.m
      see: Hmisc:xy.group()
***** <<R functions like my Matlab stackplot()>>

      I wrote my own, but here are some other building blocks.

******* [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/tseries/man/seqplot.ts.html][seqplot.ts {tseries}]]
        The closest thing I've found to stackplot but somewhat ugly and not
        as flexible

******* stackPlot() in ifultools package
******* [[gtools]]: some nice programming tools, including something kind of like stackplot
******* overplot() in [[gplots]]: many Y's on same X axis; colored Y axis
******* also [[stackplot() in python]]
***** dimMultiPlot.m: n2mfrow()
***** funcfilt
      whatever sliding window function you want
******* wapply() in [[gplots]]
******* running() in [[gtools]]
***** cmdecho()

      start w/ Hmisc:sys()
      R cmd: flush.console()

***** <<R funcs useful for R prnvar()>>

      I wrote my own prnvar()

******* funcs already in base R
        - str()
        - ... (symbol for variable # of args to function) (p. 108 of book)
        - args <- as.list(match.call()) (p. 108 of book)
          or: args <- list(...)
          for(a in args) <do something>  (p. 109 of book)
        - sapply() summary on every input arg?
        - substitute()
          from help(substitute):  printing labels based on variable nms in caller
          myplot <- function(x, y)
          plot(x, y, xlab=deparse(substitute(x)),
          ylab=deparse(substitute(y)))

          flush.console()
        - sys.call (the calling string, but substitute s/ eliminate the
          need to parse this.  But maybe it doesn't work if in a different package?)
******* funcs in Hmisc:
        [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/Hmisc/man/list.tree.html][list.tree()]]
        [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/Hmisc/man/prnz.html][prnz()]]
        [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/Hmisc/man/print.char.list.html][print.char.list()]]
        [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/Hmisc/man/print.char.matrix.html][print.char.matrix]]()
        [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/Hmisc/man/string.bounding.box.html][string.bounding.box]]()
        [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/Hmisc/man/string.break.line.html][string.break.line]]() (for prntbl if insert newlines?)
        stringDims()

******* [[prnvar for python]]

***** prntbl
******* [[http://www.stat.ucl.ac.be/ISdidactique/Rhelp/library/clim.pact/html/lower.case.html][lower.case()]]
******* [[http://rosettacode.org/wiki/Determine_if_a_string_is_numeric#R][isnumeric]]
        isnumeric <- function(s) !is.na(as.numeric(s))
******* format() # can fix # of digits, is R builtin
***** seg2frm/frm2seg
******* rle() / inverse.rle() (R builtin)
******* intervals w/ uniform 1 step increments
        [[http://cran.r-project.org/web/packages/R.utils/R.utils.pdf][R.utils]] functions: seqToIntervals and intervalsToSeq

        (could have used this for unpacking ENFOR's addObsWPPT() output)

***** chkArgs()

      a starting point may be Options() in [[http://cran.r-project.org/web/packages/R.utils/R.utils.pdf][R.utils]].

***** <<RunRouter>>
******* [[http://cran.r-project.org/web/packages/digest/index.html][digest]] for data versions (hashes complex objects, which could be settings, files, etc.)
******* /space is where to write tmp objects ([[DTU linux cluster]])
******* maybe use mapReduce? ([[R cluster computing]])
******* package "batch" ([[R cluster computing]])
******* R [[http://cran.r-project.org/web/packages/proto/vignettes/proto.pdf][proto]] package was designed to store both algorithms /and settings/
******* [[Data Versioning]]
*** map function (like in Perl or ruby)
    something like perl map, or a flexible version of R's apply
***** [[http://cran.r-project.org/web/packages/foreach/][foreach]]
*** Missing Data
***** Missing data section, [[http://cran.r-project.org/web/views/Multivariate.html][CRAN Task View: Multivariate Statistics]]: many imputation methods
***** See "missing values imputation" in [[http://www.r-bloggers.com/r-for-stats-updated/][this]] table
***** [[http://www.multiple-imputation.com/][www.multiple-imputation.com]]
***** papers
******* [[file:energy.bib::Graham09missDatRealWorld][Graham 2009: Missing]] (categories of missingness, but not well written)
******* [[file:energy.bib::Horton07adoMissDatComp][Horton et al. 2007: Much Ado About Nothing]] (R package review: Amelia II liked)
******* [[file:energy.bib::Honaker10missValTseries][Honaker & King 2010: What Do Missing]] (latest from Amelia II authors)
******* [[file:energy.bib::Stuart09missDatLargeDat][Stuart et al. 2009: Multiple Imputation With]] (large data set and mice lib)
******* [[file:energy.bib::DePasquale07randSubMissFeat][DePasquale & Polikar 2007: Random Feature Subset]]
******* [[file:energy.bib::Kalteh09imputMissPrecip][Kalteh & Hjorth 2009: Imputation]]
******* [[file:energy.bib::Osborne08realtimeGausProc][Osborne et al. 2008: Towards Real Time]]
******* [[file:energy.bib::Piepho05permTestCorrDist][Piepho 2005: Permutation]]
******* [[file:energy.bib::Wagstaff04clustMissNoImp][Wagstaff 2004: Clustering Missing Values]]
******* [[file:energy.bib::Wang06compGausProcNeuralForecast][Wang et al. 2006: Comparing Gaussian Processes]]
***** R packages for missing data
      <<R packages for missing data>>

******* [[http://gking.harvard.edu/amelia/][Amelia II]] missing data
        commenter(s?) [[http://www.drewconway.com/zia/?p%3D1614][here]] prefer mi or MICE (mi is first choice for one guy)
******* [[http://cran.r-project.org/web/packages/FastImputation/index.html][FastImputation]]
********* the [[http://haptonstahl.org/srh/][author's web page]]
********* unlike Amelia, onlt trains on complete data (doesn't use EM)
*********** just trains on complete data, losing the rest (which will suck)
*********** can see this by looking at the code in TrainFastImputation.R
******* [[http://bm2.genes.nig.ac.jp/RGM2/pkg.php?p%3Dmi][mi]]
******* [[http://bm2.genes.nig.ac.jp/RGM2/pkg.php?p%3Dmice][mice]]
        - Mice for large data sets: [[file:energy.bib::Stuart09missDatLargeDat][Stuart et al. 2009: Multiple Imputation With]]
        - Author's website: [[http://www.multiple-imputation.com/][www.multiple-imputation.com]]
******* [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/Hmisc/man/transcan.html][transcan {Hmisc}]], along with impute() and transace()
******* [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/Hmisc/man/aregImpute.html][aregImpute {Hmisc}]]: multiple imputation
******* [[http://cran.r-project.org/web/packages/mitools/index.html][mitools]]: multiple imputation
******* [[http://cran.r-project.org/web/packages/mvnmle/index.html][mvnmle]]
******* [[http://cran.r-project.org/web/packages/mix/index.html][mix:]] interesting b/c handles mixed continuous and categorical
******* [[http://rss.acs.unt.edu/Rdoc/library/pcaMethods/html/bpca.html][bpca {pcaMethods}]]: Bayesian PCA Missing Value Estimator
*** simple vector lagging

    Here are a few:
    http://bm2.genes.nig.ac.jp/RGM2/R_current/library/Hmisc/man/Lag.html
    http://bm2.genes.nig.ac.jp/RGM2/R_current/library/stats/html/lag.html
    [[http://bm2.genes.nig.ac.jp/RGM2/R_current/library/fBasics/man/tslag.html][tslag {fBasics}:]] straight lag duplication

*** flatten a list

    *unlist()*

    [[(Rosetta%20Code%20example][Rosetta Code example]]:

    x <- list(list(1), 2, list(list(3, 4), 5), list(list(list())), list(list(list(6))), 7, 8, list())

    unlist(x)

    *paste()*

    paste(c('a','b','c'), collapse=' ')

*** indices of min/max

    which.min or which.max

    for N dimensional matrix, X:

    idx = ind2sub(dim(X),which.min(X))

*** index of sorted/min/max values

***** vector min/max/sort

      From [[http://cran.r-project.org/doc/contrib/Hiebeler-matlabR.pdf][here]].  If need stabiity, use  "sh" (from [[http://www.inside-r.org/r-doc/base/sort][here]]).
      tmp=sort(v,index.return=TRUE);
      values=tmp$x;
      srtIdx=tmp$ix

      For max/min:

      which.max()/which.min() return the index

***** matrix sort

      rm(list=ls())
      source('c:/Users/Scott/scotto_x60t/scotto/lib/R/sutil.R') ## fix!
      A = c(1, 3, 4, 3, 9, -1, 4, 2, 3, 3, 2, 0)
      dim(A)=c(3,4)

      srt = sort(A,index.return=TRUE) # ascending sort

      A[srt$ix[1]] # gets the right number, but how to get the indices?

      sMix = ind2sub(dim(A),srt$ix[1])

      valI=1; # index within matrix indices sorted by val

      A[sMix[valI,1],sMix[valI,2]]

      if(A[srt$ix[valI]] != A[sMix[valI,1],sMix[valI,2]]) {
      abort('mismatched sorted value')
      }

      cat('indexing works\n')

*** repmat (like in matlab) (I made my own, put it in sutil.R)
*** time series
***** time series libraries

      Conclusion: Use [[http://cran.r-project.org/web/packages/xts/vignettes/xts.pdf][xts]] time series class ([[http://cran.r-project.org/web/packages/xts/vignettes/xts.pdf][xts vignette]])?
      (haven't tried lubridate yet)

******* [[http://cran.r-project.org/doc/Rnews/Rnews_2004-1.pdf][Date and Time Classes in R]], p. 29-32 (good table on p. 32)
******* [[http://cran.r-project.org/web/views/TimeSeries.html][CRAN time series task view]]
******* [[http://cran.rakanu.com/doc/contrib/Ricci-refcard-ts.pdf][R functions for time series analysis]]
******* [[http://www.r-statistics.com/2012/03/do-more-with-dates-and-times-in-r-with-lubridate-1-1-0/][Do more with dates and times in R with lubridate 1.1.0]] (does time zones)
***** [[http://procomun.wordpress.com/2010/11/02/how-to-simulate-wind-speed-time-series-with-r/][How to simulate a wind speed time series with R]] (Markov/Weibull)
***** [[https://github.com/millerlp/Misc_R_scripts/commit/3141d2a044ac7f39e6f85a10f1b44469953492e0][matlab2POS]]: converts to/from matlab datenum (explanation is [[http://lukemiller.org/index.php/2011/02/converting-matlab-and-r-date-and-time-values/][here]])
      <<matlab2POS>>

      I checked this into ~/lib/R/ on Nov 5, 2013

*** high memory
    packages: bigmemory (CRAN), ff (CRAN), BufferedMatrix (BioConductor)

*** interpolation
***** approxfun() is something like matlab linterp()
*** Integrating C/C++
***** Rcpp/RInside/Rsugar...
******* C++ code included in R as a string, very fancy
******* <<Rcpp Google Tech Talk>>: [[http://dirk.eddelbuettel.com/bio/presentations.html][Dirk Eddelbuettel's slides]]

        "Integrating R with C++: \\ Rcpp, RInside and RProtoBuf (with
        Romain Francois)"

*** printing numeric precsion
    Control by using generic print() function e.g.

    print(someDataFrameOrVectorOrWhatever,digits=4)

*** Objects
***** Lexical Scoping
******* simple way to hack an object in
******* some prefer it to S3 or S4
******* See: [[Rcpp Google Tech Talk]], slide 63
***** Reference classes
******* /?ReferenceClasses/ in R for documentation
******* nicer than S3 or S4, more powerful than lexical scoping
******* a way to directly use C++ objects in R
******* Google explanation in [[Rcpp Google Tech Talk]]
***** S3/S4
******* S3: simple, maybe dangerous (see [[Rcpp Google Tech Talk]])
******* S4: verbose (see [[Rcpp Google Tech Talk]]), not prefered by Google, I think
*** images / contours/ 3D plots
***** [[http://cran.r-project.org/doc/manuals/R-intro.pdf][built-ins]] (require regularly spaced points)

      _Orientation_: z[1,1] is placed in lower left hand image corner.  The
      row indices run along the x axis and the columns run along the y
      axis -- in the image, matrix columns are /rows/

      _Example_:

      nrows=3; ncols=2
      z = matrix(c(2,3,3,4,4,5),nrows,ncols,byrow=TRUE)

      > z
      [,1] [,2]
      [1,]    2    3
      [2,]    3    4
      [3,]    4    5

      image(1:nrows,1:ncols,z)

******* image()
******* countour()
******* persp()
***** [[http://cran.r-project.org/web/packages/fields/fields.pdf][fields]] spatial data package
***** [[http://cran.r-project.org/web/packages/akima/akima.pdf][akima]] linear/cubic spline interpolation
*** printing source of a function
***** often can see the source by just typing the function name
***** see "Accessing the Sources" by Uwe Ligges, [[http://www.r-project.org/doc/Rnews/Rnews_2006-4.pdf][in Rnews_2006-4]]
***** can then download the package and then grep for a uniquely ID'ing string in the package's R directory
*** set random number seed: set.seed(1)
*** <<R cluster computing>>
***** [[http://cran.r-project.org/web/views/HighPerformanceComputing.html][CRAN Task View: High-Performance and Parallel Computing with R]]
***** [[http://cran.r-project.org/web/packages/multicore/index.html][multicore]]
***** [[http://cran.r-project.org/web/packages/mapReduce/index.html][mapReduce]] (alternative to RunRouter?)
***** [[http://cran.r-project.org/web/packages/Rsge/index.html][Rsge]] (use)
******* [[http://cran.r-project.org/web/packages/Rsge/Rsge.pdf][Rsge.pdf]]
******* fixing the "no package" problem for packages I've installed in my home dir

        _The solution_ is to edit the bash script that calls qsub.
        In [[file:~/lib/R/x86_64-unknown-linux-gnu/2.11/Rsge/RunSgeJob::fi][Rsge/RunSgeJob]], change the line:
        "$RSGE_R" --vanilla <<EOF
        to:
        "$RSGE_R" --no-save --no-restore --no-site-file <<EOF

        _The error_:

        Your job-array 132525.1-1:1 ("RunSgeJob") has been submitted Job 132525 exited with exit code 0.
        All jobs completed
        Error in library(package.name, character.only = TRUE) :
        there is no package called 'plyr'

        I think this is happening in the bash script called by qsub
        ([[file:~/Desktop/Rsge/inst/RunSgeJob::library%20package%20name%20character%20only%20TRUE][~/Desktop/Rsge/inst/RunSgeJob]]), at the point where it (inside an R
        script) does this:

        library(package.name, character.only=TRUE)

        package.name comes from the list of packages in the sge.parLapply()
        call e.g.

        nMiss = sge.parLapply(c(1),errFrcstTrn,D,ttSpec,njobs=1,join.method=c,
        function.savelist=c('getFrcstErrs','frcstEval','errFrcstTrn','errFrcstTst'),
        packages=c('Amelia','playwith','care','plyr'),
        global.savelist='myLibPathsGlobal',debug=TRUE)

        The actual qsub call occurs in [[file:~/Desktop/Rsge/R/sge.parApply.R::result%20system%20paste%20qsub%20qsub%20user%20opt%20qsub%20options%20qsub%20blocking%20length%20rowSet%20script%202%201%20sep%20intern%20TRUE][~/Desktop/Rsge/R/sge.parApply.R]]
        (sge.parParApply function).  It looks something like this:

        "qsub -S /bin/bash -cwd -sync y -t 1-2 /home/scot/lib/R/x86_64-unknown-linux-gnu/2.11/Rsge/RunSgeJob /home/scot/proj/dongSpatTemp/Rsge_data7c83e458 2>&1"

        I did this by calling getOption() like is done [[file:~/Desktop/Rsge/R/sge.parApply.R::qsub%20getOption%20sge%20qsub][here]] and making up a
        fake value for the variable "rowSet"

        _The proximal cause_ is that R doesn't seem to know about any packages other
        than what are in the default path; it's missing my local library in
        [[file:~/lib/R/x86_64-unknown-linux-gnu/2.11]].  In the
        library(package.name...) function, I can only put a name in the
        packages list (not a package path): this is why it can't find my
        local packages.

        /How to force R to look at my library?/  Ideally, I could just set an
        environment variable on the qsub line, telling R to look at my
        local library, by setting the [[file:~/Desktop/Rsge/R/sge.parApply.R::qsub%20user%20opt%20getOption%20sge%20user%20options][sge.user.options]] option.
        /But this won't work/ becuase of the --vanilla thing mentioned below...

        _The primary cause_ is that R is started with --vanilla in RunSgeJob
        [[file:~/Desktop/Rsge/inst/RunSgeJob::RSGE_R%20vanilla%20EOF][here]].  This causes R to run with

        --no-save --no-restore --no-site-file --no-init-file --no-environ

        and --no-init-file prevents R from paying attention to my
        ~/.Renviron file (from the "R --help").  I tried editing RunSgeJob,
        replacing the line:

        "$RSGE_R" --vanilla <<EOF

        with

        "$RSGE_R" --no-save --no-restore --no-site-file --no-environ <<EOF

        but still got the error.  Then I tried

        "$RSGE_R" --no-save <<EOF

        and it worked! (must have --no-save if not --vanilla or something else I forgot)
        and got much further, but it died on package ciaroDevice, probably
        from the playwith package.

        failed:
        "$RSGE_R" --no-save --no-restore --no-site-file --no-environ <<EOF

        passed:
        "$RSGE_R" --no-save --no-restore --no-site-file <<EOF

        /use this since it's the most like the original --vanilla/

        _The conclusion_: it seems like the --no-environ flag caused the failure

******* desirable changes to Rsge
********* keep local installed packages (see fixes above)
********* logs not erased @ end
********* log is written to qsub -e dir (see attempted fix [[file:~/proj/dongSpatTemp/frcstSeqErr.R::options%20sge%20user%20options%20paste%20getOption%20sge%20user%20options%20e%20datDirRsge][here]])
********* log stores hostname, start and stop times
********* kick off many functions, not just one sge.parLapply() at a time
*********** reimplement RunRouter call tree?
********* don't copy global environment for each parLapply() job
*********** can do [[file:~/Desktop/Rsge/ENVIRONMENTS::sge%20options%20sge%20save%20global%20FALSE][this]] but must preserve local library paths
********* log/dat files come from sge.parLapply() function (like RR stepNm)
***** [[http://cran.r-project.org/web/packages/batch/index.html][batch]] (use if disinter RunRouter)
******* [[http://cran.r-project.org/web/packages/batch/batch.pdf][batch.pdf]]
***** also see [[DTU linux cluster]]
*** capture console output to a string array
***** R's built-in sink()
***** [[gtools]] package capture() and and sprint()
*** save command history (like Matlab diary)

    savehistory(file=".Rhistory")

    (from [[http://mathesaurus.sourceforge.net/octave-r.html][R for MATLAB users]])

*** [[http://www.inside-r.org/pretty-r/tool][Pretty R syntax highlighter]]
*** Set operations

    from ?intersect:

    union(x, y)
    intersect(x, y)
    setdiff(x, y)
    setequal(x, y)

    is.element(el, set)

    [[http://www.statmethods.net/management/subset.html][Excluding variables]] using %in% :

    # TRUE for v1,v2,v3
    myvars <- names(mydata) %in% c("v1", "v2", "v3")

    # get data that's not v1, v2, v3
    newdata <- mydata[!myvars]

    # for numbers:
    x = 1:10
    selx = c(3,7)
    set1 <- x %in% selx
    set2 = x[-selx]

    *also see*: venn() in [[gplots]]: venn diagram w/ up to 5 members

*** Forecasting
***** [[http://cran.r-project.org/web/packages/forecast/forecast.pdf][forecast]]: point forecast methods and plots
***** [[http://cran.r-project.org/web/packages/strucchange/][strucchange]]: online changes in linear models.  good for regime detection?
***** [[http://cran.r-project.org/web/packages/kernlab/][kernlab]]: quantile regression and a bunch of kernel estimators, clustering
      (spectral, could use for Eva's thesis), gaussian processes, etc.
***** [[http://cran.r-project.org/web/packages/relimp/][relimp]]: linear/generalized linear input importance.  could be featsel, could use
      for picking based on some kinda measure of empirical quantile width (how
      make it conditional, though)?

***** [[http://www.inside-r.org/packages/cran/gbm/docs/gbm][gbm]]: boosted quantile regression
***** [[http://cran.r-project.org/web/packages/OutlierDC/OutlierDC.pdf][OutlierDC]]: outliers detected using quantile regression
***** see: [[density plot functions]]
*** [[http://mazamascience.com/WorkingWithData/?p%3D912][tryCatch]], trapping errors and warnings
*** debugging

***** [[http://code.google.com/p/ess-tracebug/][ess-tracebug]] library a little similar to C debugger (*try it*)
***** library(debug)

      options:
      - browser() put it in your code
        - like matlab's keyboard
        - to get out of it, type: c and the 0 (for top stack frame)
      - debug(functionName) then call the function
        will stop in the function
        but can't do breakpoints
      - trace()
        didn't figure it out, but it's in:  [[http://www.google.dk/url%3Fsa%3Dt&source%3Dweb&cd%3D4&ved%3D0CCYQFjAD&url%3Dhttp%3A%2F%2Fwww.math.ncu.edu.tw%2F~chenwc%2FR_note%2Freference%2Fdebug%2FRdebug.pdf&ei%3DhVArTKcbjps4pcyEswM&usg%3DAFQjCNGMGGDc9FupMSY0aEKV7wMR_sqvqA][Basics of Debugging R Interactive Debugging in R]]
        can use it to set conditional breakpoints:
        http://webcache.googleusercontent.com/search?q=cache:8mqeTjfXmNAJ:www.stats.uwo.ca/faculty/murdoch/software/debuggingR/debug.shtml+Debugging+in+R+using+debug%28%29,+browser%28%29+and+trace%28%29&cd=1&hl=en&ct=clnk&gl=dk&client=firefox-a

      - mtrace() let's you set breakpoints
        can do breakpoints this way (see R's help(debug))

        library(debug)
        mtrace(funcName)
        funcName(normal calling args)
        code window is supposed to show up

        return key to single step
        bp() and other stuff to set breakpoints
        go() to continue (and stop wherever)

***** [[http://www.revolutionanalytics.com/][Revolution R]] comes w/ graphical debugger
******* has parallization built-in (multicore and cluster)
******* free academic dist:  I downloaded RH5 64 bit vers
******* but DTU is ubuntu, and also install required root
******* stopped
***** [[http://www.google.dk/url%3Fsa%3Dt&source%3Dweb&cd%3D4&ved%3D0CCYQFjAD&url%3Dhttp%3A%2F%2Fwww.math.ncu.edu.tw%2F~chenwc%2FR_note%2Freference%2Fdebug%2FRdebug.pdf&ei%3DhVArTKcbjps4pcyEswM&usg%3DAFQjCNGMGGDc9FupMSY0aEKV7wMR_sqvqA][Basics of Debugging R Interactive Debugging in R]]
***** [[http://webcache.googleusercontent.com/search%3Fq%3Dcache:wa7n5HAm_14J:www.stats.uwo.ca/faculty/murdoch/software/debuggingR/%2BDebugging%2Bin%2BR&cd%3D1&hl%3Den&ct%3Dclnk&gl%3Ddk&client%3Dfirefox-a][Debugging in R]]
***** stop on error
      (from [[http://www.stats.uwo.ca/faculty/murdoch/software/debuggingR/pmd.shtml][here]])

      after error, type

      traceback()

      to see stack frame.  To /inspect/ the environments in the stack frame,
      type:

      options(error=recover)

      /before/ calling the function causing the error.  When it stops, you
      can pick the frame you want and look at the variable values.
***** stop on warn

      ACTUALLY, THIS DOESN'T WORK

      [[http://www.r-bloggers.com/tracking-down-errors-in-r/][Turn warnings into an errors]] so will stop

      options(warn = 2)
      debug(function with  the bug)
      run function with bug

*** <<R for Python users>>
***** [[http://swcarpentry.github.io/2014-04-14-pycon-r/][R for Python Programmers (Software Carpentry)]]
*** [[Python for R users]]
* <<Perl>>
*** [[http://docstore.mik.ua/orelly/perl4/prog/ch19_02.htm][environment variables]]

    windows (folders are semicolon separated):

    PERL5LIB %HOME%\lib\perl;%HOME%\lib\perl\scottlib

    In addition, for windows Perl environment variables, see [[Windows Perl]]

*** installing CPAN modules
***** using ActiveState PPM
******* try ppm (installed by active state) to see if pkg is in the AS repository
******* [[http://johnbokma.com/perl/installing-dbd-mysql-active-state.html][installing modules not in ActiveState repository]], still using ppm

        Example:

        C:\>ppm install http://theoryx5.uwinnipeg.ca/ppms/DBD-mysql.ppd

        /But/ ppm requires a *.ppd file so this won't work for the usual
        *.tar.gz files from CPAN.

***** Using Build.PL files

      I don't know how common these are but Lingua-DE-Wortschatz had them

      perl Build.PL
      perl Build
      perl Build test
      perl Build install

***** into local library, using CPAN
      (from howto/perl.local.install)

      Installing perl modules in my home directory instead of in system lib

      Set up environment:

      setenv MYPERL_DIR c:/Users/sotterson/home/lib/perl
      setenv LOCPERL_DIR $MYPERL_DIR/lib

      add to PERL5LIB:
      $LOCPERL_DIR/5.8.0\:$LOCPERL_DIR/site_perl

      Do automatic CPAN install

      perl -MCPAN -e shell

      reroute to local perl dir (doesn't work on MACOS)

      o conf makepl_arg "LIB=~/lib/perl \
      INSTALLMAN1DIR=~/lib/perl/man/man1 \
      INSTALLMAN3DIR=~/lib/perl/man/man3"

      o conf init

      o conf commit ???

      install File::Touch  (for example)

      -- MANUAL ---------------------------------------------------------------

      Get cpan tarball from the cpan link with the module and version name from
      this page:

      http://search.cpan.org/~fsoriano/Tree-Nary-1.3/lib/Tree/Nary.pm

      click on the "Tree-Nary-1.3" near the top of the page.

      untar the library tarball
      cd to the untarred directoryb
      (some require running perl Build.pl first e.g. Lingua-DE-Wortschatz)
      perl Makefile.PL PREFIX=$HOME/lib/perl
      make build
      make test
      make install

*** [[Perl%20screenscraping][Perl screenscraping]]
*** [[http://perltraining.com.au/tips/2005-06-29.html][ordered hashes]]

    The ones that sounded most appropriate for German parsing are below.  I
    used Tie::IxHash because I didn't need multilevel tying and thought I
    might get bugs due to references probs in Tie::IxHash::Easy (which
    sounds great if you're /not/ messing with references).

***** [[http://search.cpan.org/~chorny/Tie-IxHash-1.22/lib/Tie/IxHash.pm][Tie::IxHash]]: single level hash
      use is more clearly explained [[http://perltraining.com.au/tips/2005-06-29.html][here]].

***** [[http://search.cpan.org/~pinyan/Tie-IxHash-Easy-0.01/lib/Tie/IxHash/Easy.pm][Tie::IxHash::Easy]]: multilevel
******* $h{key1}{key2}... is ordered by both key1 and key (Tie::IxHash is only 1 level)
******* but
********* inheritance can be broken
********* probs w/ refs (see BUGS on AutoTie [[http://search.cpan.org/~pinyan/Tie-Autotie-0.03/lib/Tie/Autotie.pm][cpan page]])
*** try/catch

    I went for Try::Tiny for the simplicity.  If I want more, I might try
    ouch.

***** eval(): the traditional perl try/catch
******* used to have problems w/ other stuff overwriting error messages
******* behavior [[http://blog.twoshortplanks.com/2011/06/06/unexceptional-exceptions-in-perl-5-14/][in perl 5.14]]
******* 5.14 seems to fix eval() -- but still must use eval(), I think.
***** [[http://search.cpan.org/dist/Ouch-0.0401/lib/Ouch.pm][ouch]]
******* [[http://blogs.perl.org/users/jt_smith/2011/04/ouch---exceptions-that-dont-hurt.html][review]] (ouch updated since, w/ new names, text error codes)
******* has interface w/ TryTiny but then why is ouch needed?
******* thing over Try::Tiny is that it has a throw()?
***** [[http://search.cpan.org/dist/Try-Tiny-0.11/lib/Try/Tiny.pm][Try::Tiny]]
*** [[Markdown]]
*** [[http://search.cpan.org/~kilinrax/HTML-Strip-1.04/Strip.pm][HTML::Strip]] - Perl extension for stripping HTML markup from text

    Doesn't parse HTML, just uses regexps.
    Maybe this is good enough?

    Will always encode unicode (I think) if HTML::Entities is installed.  I
    may not want that.

*** sorting
***** [[http://www.tek-tips.com/faqs.cfm?fid%3D5095][custom sort routines]] oddities
      Custom sort subroutines are not normal subroutines! They have some special
      rules:

      (1)  Sort subroutines do not accept arguments like normal
      subroutines.

      (2)  Two values being compared are automatically
      passed-by-reference into the sort subroutine as
      $a and $b. Don't try to change their values or
      override them.

      (3)  A sort subroutine can only return one of three
      values: -1 , 0,  or 1.

      (4)  Don't call sort routines recursively. The compiler
      will be angry with you.

***** [[http://www.misc-perl-info.com/perl-sort.html][sorting arrays within another array]]

      # define an array of arrays
      my @AOA = ([25, 49, 33, 200], [145, 32], [11, 121, 78]);

      # sort and print the @AOA array
      foreach my $item1 (@AOA){
      foreach my $item2 (sort {$b <=> $a} @{$item1}){
      print "$item2 ";
      }
      print "\n";
      }

*** <<Perl Colors>>
    * [[http://search.cpan.org/~sherzodr/Color-Rgb-1.4/Rgb.pm][Color::Rgb]] - Simple rgb.txt parsing class: does rgb hex --> rgb dec
***** [[http://search.cpan.org/~janert/Graphics-ColorUtils-0.17/lib/Graphics/ColorUtils.pm][Graphics::ColorUtils]] - color space transformations, name lookups
      <<Graphics::ColorUtils>>

      Can produce a hex RGB string, ready to plug into html.  Handy!

*** UTF-8
***** convince perl to use utf-8 with horrific hack
      This horrific hack seems to make UTF-8 work.
      It's a [[https://github.com/kraih/mojo/wiki/Utf-8-manipulation][convention]] !

      use utf8;
      my $name = "おおつか　たろう"; # a convention to make utf-8 work?

***** [[http://docs.activestate.com/activeperl/5.8/lib/pods/perlunicode.html#forcing_unicode_in_perl__or_unforcing_unicode_in_perl_][force string to be utf-8]] w/ function

      Forcing Unicode in Perl (Or Unforcing Unicode in Perl)

      Sometimes (see When Unicode Does Not Happen) there are situations where you
      simply need to force Perl to believe that a byte string is UTF-8, or vice
      versa. The low-level calls utf8::upgrade($bytestring) and
      utf8::downgrade($utf8string) are the answers.

      Do not use them without careful thought, though: Perl may easily get very
      confused, angry, or even crash, if you suddenly change the 'nature' of
      s
      calar like that. Especially careful you have to be if you use the
      utf8::upgrade(): any random byte string is not valid UTF-8.

*** also see [[Windows Perl]]
* <<Python>>
*** Learning Python (tools)
***** <<Python for R users>>
******* TRY [[https://www.r-bloggers.com/how-to-make-python-easier-for-the-r-user-revoscalepy/][How to make Python easier for the R user: revoscalepy | R-bloggers]]
******* [[R for Python users]]
***** <<Python for Matlab users>>
******* [[https://github.com/Technologicat/python-3-scicomp-intro][python-3-scicomp-intro: Lecture notes: Informal introd...]]
********* Nice pdf: [[https://github.com/Technologicat/python-3-scicomp-intro/blob/master/python_scicomp_notes.pdf][Informal introduction to Python 3 for scientific computing]]
********* slides
********* code
******* [[https://www.youtube.com/watch?v=YkCegjtoHFQ][Webinar: Python for MATLAB Users, What You Need to Know]] (video)
******* [[https://www.google.de/url?sa=t&rct=j&q=&esrc=s&source=web&cd=4&ved=0ahUKEwjw_LDhjf3ZAhVJjywKHd0EBTQQFghSMAM&url=http%253A%252F%252Fresearchcomputing.github.io%252Fmeetup_fall_2014%252Fpdfs%252Ffall2014_meetup13_python_matlab.pdf&usg=AOvVaw1seZcfMW2H3w09b_iNzFjC][Python for Matlab Users]] (slides)
******* [[http://bastibe.de/2013-01-20-a-python-primer-for-matlab-users.html][A Python Primer for Matlab Users]]
******* [[http://stsievert.com/blog/2015/09/01/matlab-to-python/][Stepping from Matlab to Python]]
******* [[https://docs.scipy.org/doc/numpy-dev/user/numpy-for-matlab-users.html][NumPy for Matlab users — NumPy v1.13.dev0 Manual]]
***** [[http://pythontutor.com/visualize.html#mode=edit][pythontutor.com]]: evals your code, with diagrams, helps clear up confusion with names, references, assignments
***** TRY [[https://www.youtube.com/watch?v=DEwgZNC-KyE][Preparing for a Python Interview: 10 Things You Should Know]]
***** TRY [[https://www.sololearn.com/Play/Python][SoloLearn: Learn to code for FREE!]] (has gamified python tutorials)
***** TRY [[https://pythonprogramming.net/][Python Programming Tutorials]] (do after Sololearn, Stephan V's favorite)
***** [[https://www.sololearn.com/Profile/9085670][SoloLearn]]: Tutorials for Python and others.  Stephan Vogt recommended it.
***** plotly tutorial in [[Python plotly]]
***** [[https://www.amazon.de/Hands-Machine-Learning-Scikit-Learn-TensorFlow/dp/1491962291][Hands-On Machine Learning with Scikit-Learn and TensorFlow: Concepts, Tools]]: I have it on Kindle 
***** [[https://jakevdp.github.io/PythonDataScienceHandbook/][Python Data Science Handbook | Python Data Science Handbook]]
      Source code: [[https://github.com/jakevdp/PythonDataScienceHandbook][GitHub - jakevdp/PythonDataScienceHandbook]]
*** Tips for Python
***** slices in Python
      From: [[https://stackoverflow.com/a/509295/2591097][list - Understanding Python's slice notation - Stack Overflow]]

      a[start:end] # items start through end-1
      a[start:]    # items start through the rest of the array
      a[:end]      # items from the beginning through end-1
      a[:]         # a copy of the whole array

      There is also the step value, which can be used with any of the above:

      a[start:end:step] # start through not past end, by step

      The key point to remember is that the :end value represents the first value that is not in the selected slice. So, the difference beween end and start is the number of elements selected (if step is 1, the default).

      The other feature is that start or end may be a negative number, which means it counts from the end of the array instead of the beginning. So:

      a[-1]    # last item in the array
      a[-2:]   # last two items in the array
      a[:-2]   # everything except the last two items

      Similarly, step may be a negative number:

      a[::-1]    # all items in the array, reversed
      a[1::-1]   # the first two items, reversed
      a[:-3:-1]  # the last two items, reversed
      a[-3::-1]  # everything except the last two items, reversed

      Python is kind to the programmer if there are fewer items than you ask for. For example, if you ask for a[:-2] and a only contains one element, you get an empty list instead of an error. Sometimes you would prefer the error, so you have to be aware that this may happen.

***** adding a dimension to a numpy array eg. (10,) --> (10,1)
******* np.newaxis
        From [[https://stackoverflow.com/questions/17394882/add-dimensions-to-a-numpy-array][python - Add dimensions to a Numpy Array - Stack Overflow]]

        import numpy as np
        movie = np.concatenate((img1[:,np.newaxis], img2[:,np.newaxis]), axis=3)

        # or
        image = image[..., np.newaxis].
******* np.expand_dims()
        From: [[https://docs.scipy.org/doc/numpy/reference/generated/numpy.expand_dims.html][numpy.expand_dims — NumPy v1.17 Manual]]

        x = np.array([1,2])
        x.shape # is (2,)
        y = np.expand_dims(x, axis=0)
        y.shape # is (1,2)

******* sutil.as2Darray()
        From: my sutil.py

********* also does lists, etc.
********* could be modified to use one of the other tricks above
***** getting a full dimensioned column from a 2D numpy array

      Problem:  If X an nXm 2D array, then X[:,k].shape is not (n,1) but instead (n,).  This makes X[:,k] fail in all kinds of functions, for example, plt.scatter().

      Solution:  ???

*** <<Data Quality Checks (Python)>>
***** [[https://benjaminberhault.com//post/2018/10/27/data-profiling-in-python.html][Data profiling in Python]] (package and other advice)
******* pretty slick: I should just run this when I get new data
******* [[https://towardsdatascience.com/7-advanced-tricks-in-pandas-for-data-science-41a71632b5d9][7 advanced pandas tricks for data science (trick #2)]]
***** pandas builtins

      df.info()
      df.describe()
      df.isnull().sum()
      df.isnull().any()

      # nulls in each col
      null_columns=df.columns[df.isnull().any()]
      df[null_columns].isnull().sum()

      # are there any nulls anywhere?
      df.isnull().any().any()

***** Relatedness of variables
******* Hierarchical clustering dendrogram relatedness
        From: [[https://benjaminberhault.com//post/2018/10/27/data-profiling-in-python.html][Data profiling in Python]]

%matplotlib notebook
import matplotlib.pyplot as plt
from scipy.cluster import hierarchy as hc

corr = 1 - df.corr() 
corr_condensed = hc.distance.squareform(corr) # convert to condensed
z = hc.linkage(corr_condensed, method='average')
dendrogram = hc.dendrogram(z, labels=corr.columns)

******* PCA relatedness
        From: [[https://benjaminberhault.com//post/2018/10/27/data-profiling-in-python.html][Data profiling in Python]]

%matplotlib notebook
import numpy as np
import matplotlib.pyplot as plt
from sklearn import datasets
from sklearn.decomposition import PCA
import pandas as pd
from sklearn.preprocessing import StandardScaler
          
iris = datasets.load_iris()
X = iris.data
y = iris.target
X = iris.data
y = iris.target
#In general a good idea is to scale the data
scaler = StandardScaler()
scaler.fit(X)
X=scaler.transform(X)    
          
pca = PCA()
x_new = pca.fit_transform(X)
          
def myplot(score,coeff,labels=None):
    xs = score[:,0]
    ys = score[:,1]
    n = coeff.shape[0]
    scalex = 1.0/(xs.max() - xs.min())
    scaley = 1.0/(ys.max() - ys.min())
    plt.scatter(xs * scalex,ys * scaley, c = y)
    for i in range(n):
        plt.arrow(0, 0, coeff[i,0], coeff[i,1],color = 'r',alpha = 0.5)
        if labels is None:
            plt.text(coeff[i,0]* 1.15, coeff[i,1] * 1.15, "Var"+str(i+1), color = 'g', ha = 'center', va = 'center')
        else:
            plt.text(coeff[i,0]* 1.15, coeff[i,1] * 1.15, labels[i], color = 'g', ha = 'center', va = 'center')
plt.xlim(-1,1)
plt.ylim(-1,1)
plt.xlabel("PC{}".format(1))
plt.ylabel("PC{}".format(2))
plt.grid()
          
#Call the function. Use only the 2 PCs.
myplot(x_new[:,0:2],np.transpose(pca.components_[0:2, :]))
plt.show()

******* Panel scatter plots

        From somewhere...

***** Python missing data summarizing
******* [[https://github.com/ResidentMario/missingno][missingno: Missing data visualization module for Python.]]
********* counts missing stuff in dataframe and displays
********* can make a several kinds of missingness graph

***** [[pandas time index to a different time zone]]
*** <<Jupyterlab>>
***** Starting it: jupyter lab
***** autoreload library functions
      From: [[https://medium.com/@rrfd/cookiecutter-data-science-organize-your-projects-atom-and-jupyter-2be7862f487e][Cookiecutter Data Science — Organize your Projects — Atom and Jupyter]]

      %load_ext autoreload
      %autoreload 2

      The suffix 2 is used after autoreload, to reload all modules every time before executing the Python code typed. This will enable us to edit functions in Atom, debug them, and quickly import the code into our notebook, rather than having to write out a debug the function directly in Jupyter.

***** load python .py file into jupyterlab cell

      To load the python script "filename.py to a cell, [[https://stackoverflow.com/a/21034906/2591097][run this magic]] in a cell:

      %load filename.py

***** sending jupyterlab cell output to file instead of screen

      #+begin_src python

        import io
        # to capture both stdout and stderr
        # from contextlib import redirect_stdout, redirect_stderr
        # captures only stdout
        from contextlib import redirect_stdout

        def a_function(i,j):
            print(f"\t {i=}, {j=}")

        output = ""
        for i in range(10):
            print(f"start {i=}")

            for j in range(10):
                # gets both stdout and stderr
                # with io.StringIO() as buf, redirect_stdout(buf), redirect_stderr(buf):

                # gets only stdout
                with io.StringIO() as buf, redirect_stdout(buf):
                    a_function(i,j)
                    output += buf.getvalue()

        with open('filename.txt', 'a+') as f: # append
          f.write('result\n')
          
      #+end_src

***** Jupyterlab extensions 
******* listing/updating/uninstalling installed juypterlab extensions

        /Can also do it within Jupyterlab with extension manager/

        List all installed extensions

        jupyter labextension list

        For many, [[https://github.com/jupyterlab/jupyterlab/pull/4410][you can do]]:

        jupyter labextension update

        to update all

        jupyter labextension update --all

        but some extensions (jupyter_conda) failed b/c its maintainer hadn't yet updated its code on github.

        to uninstall

        jupyter labextension uninstall my-extension

        to disable

        jupyter labextension disable my-extension
******* jupyterlab extensions of note
********* Ones I'm using now

          *nodejs warning*: Anaconda3-2019.10-Windows-x86_64.exe

          gets messed up if you install its default nodejs.  Instead install the conda_forge version:

          conda install -c conda-forge nodejs  

*********** git compatible jupyter notebooks: [[jupytext extensions]]
*********** [[https://github.com/krassowski/jupyterlab-lsp][jupyterlab-lsp: Language Server Protocol integration]]

            Note _special updating instructions_ [[https://github.com/krassowski/jupyterlab-lsp][here]]

            _STILL TRUE?_ As of 2/12/2020, seems to require jupyterlab >=3.0 but this is incompatible with other stuff (jupytext is difficult and a higher priority).  So I'm not using this right now.

            Rename variable/function and a bunch of autocompletes.  

            Recommended here: [[https://towardsdatascience.com/3-must-have-jupyterlab-2-0-extensions-41024fe455cc][Must-have JupyterLab 2.0 extensions]]
            
            I like this one better than the automatic code formatters, has other useful functions too, like variable renaming.

            conda install -c conda-forge  jupyter-lsp

            conda install -c conda-forge nodejs
            # OR one of the following, as an administrator
            choco install nodejs            # Windows with Chocolatey
            sudo apt-get install nodejs     # Debian/Ubuntu
            sudo brew install nodejs        # MacOS with Homebrew
            sudo dnf install nodejs         # Fedora
            sudo yum install nodejs         # RHEL/CentOS

            jupyter labextension install @krassowski/jupyterlab-lsp

            conda install -c conda-forge python-language-server r-languageserver

*********** <<Jupytlerlab plotly extension>>:
       
            jupyter labextension install @jupyterlab/plotly-extension
            
            Is this still needed?
            conda install -c conda-forge jupyterlab-plotly-extension 

************* obsoleted plotly extension
              [[https://github.com/jupyterlab/jupyter-renderers/tree/master/packages/plotly-extension][jupyter-renderers/packages/plotly-extension]]

              Do this first before following web page instructions:

              conda install -c conda-forge nodejs
              pip install npm

*********** filters giant red errror msgs: [[https://github.com/deshaw/jupyterlab-skip-traceback][jupyterlab-skip-traceback]]

            jupyter labextension install jupyterlab-skip-traceback

*********** manages keyboard shortcuts[[https://github.com/jupyterlab/jupyterlab-shortcutui][ jupyterlab-shortcutui]]

            jupyter labextension install @jupyterlab/shortcutui
*********** [[https://github.com/NERSC/jupyterlab-recents][jupyterlab-recents: tracks recent files]]

            jupyter labextension install jupyterlab-recents
            
*********** <<jupypterlab_code_formatter>> (pep8...): [[https://github.com/ryantam626/jupyterlab_code_formatter][jupyterlab_code_formatter]]
            From Here: [[https://jupyterlab-code-formatter.readthedocs.io/en/latest/index.html][Welcome to Jupyterlab Code Formatter’s documentation!]]

************* Supports Black, YAPF, Autopep8, lsort
************* Doesn't automatically format: toobar button, right-menu keyboard shortcut
************* Could do google python format if use yapf formatter
************* Can configure formatting options
************* [[https://jupyterlab-code-formatter.readthedocs.io/en/latest/installation.html#installation-step-1-installing-the-plugin-itself][installation]]

              if you want black (can only install one?  DOcs are unclear)
              conda install -c conda-forge black 
              if you want autopep8
              conda install autopep8

              jupyter labextension install @ryantam626/jupyterlab_code_formatter
              conda install -c conda-forge jupyterlab_code_formatter
              jupyter serverextension enable --py jupyterlab_code_formatter

              Add this line to the user prefereces section of Jupyterlab
              Code Formatter (User Preferences side of pane):

              {
              "preferences": {
              "default_formatter": {
              "python": "autopep8",
              "R": "styler"
              }
              }
              }

              Add the below in the shortcuts part of the Keyboard Shortcuts "user prferences" window (RHS).  After that, when the cursor is in a call C-k C-m will format that cell

              {
              "command": "jupyterlab_code_formatter:autopep8",
              "keys": [
              "Ctrl K",
              "Ctrl M"
              ],
              "selector": ".jp-Notebook.jp-mod-editMode"
              }

              I don't know how to format a whole notebook w/ a shortcut but there is a toolboar button for it, so it seems like it could be configured to do that.
*********** jump to definition: [[https://github.com/krassowski/jupyterlab-go-to-definition][krassowski/jupyterlab-go-to-definition]]
            Goes to variable/function def w/

            alt+mouseClick

            or
            ctrl+alt+b

            and can be configured for others (see extension github page).

            Nice and works.

            Install:
            jupyter labextension install @krassowski/jupyterlab_go_to_definition

            To update already installed extension:

            jupyter labextension update @krassowski/jupyterlab_go_to_definition

*********** cells collapse, like in Matlab: [[https://github.com/aquirdTurtle/Collapsible_Headings][aquirdTurtle/Collapsible_Headings]]

            jupyter labextension install @aquirdturtle/collapsible_headings

*********** filetree file manager: [[https://github.com/youngthejames/jupyterlab_filetree][youngthejames/jupyterlab_filetree]]

            jupyter labextension install jupyterlab_filetree

*********** conda package manager, cloning, etc.: [[https://github.com/fcollonval/jupyter_conda][fcollonval/jupyter_conda]]

            Similar to anaconda navigator but seems faster, and (I think) is more capable.

            Works in basic Jupyter notebook too.

            To install in the classical notebook:

            conda install -c conda-forge jupyter_conda

            To install in the JupyterLab:

            conda install -c conda-forge jupyterlab jupyter_conda
            jupyter labextension install jupyterlab_toastify jupyterlab_conda

*********** drawio block diagram drawer: [[https://github.com/QuantStack/jupyterlab-drawio][QuantStack/jupyterlab-drawio]]

            Don't have to install anything other than the extension.  Runs in browser that Jupyter is running in.

            jupyter labextension install jupyterlab-drawio

*********** graphical interface to git: [[https://github.com/jupyterlab/jupyterlab-git][jupyterlab/jupyterlab-git]]

            pip install --upgrade jupyterlab-git
            jupyter lab build

*********** view .xlsx, CSV, etc.: [[https://github.com/quigleyj97/jupyterlab-spreadsheet#readme][quigleyj97/jupyterlab-spreadsheet]]

            jupyter labextension install jupyterlab-spreadsheet

*********** <<Jupyterlab Chart Editor>>

            [[https://github.com/plotly/jupyterlab-chart-editor][Apparently]] does things that are implemented in [[https://github.com/plotly/react-chart-editor][plotly/react-chart-editor]]

            jupyter labextension install jupyterlab-chart-editor

************* [[https://github.com/plotly/jupyterlab-chart-editor][GitHub - plotly/jupyterlab-chart-editor]]
************* [[https://www.youtube.com/watch?v=zR7G2tNVo1Q][Introducing the JupyterLab Chart Editor - YouTube]]
*********** jupyterlab-kite
            From: [[https://github.com/kiteco/jupyterlab-kite][jupyterlab-kite: Kite Autocomplete Extension for JupyterLab]]
            
            Does code completion and popup documentation.  Doesn't refactor like jupyterlab-lsp but does replace some of its other functions.  Also popups kind of gets in the way.

Maybe it will do until jupyterlab-lsp works again.

            1. Run the windows kite .exe installer from: 

               kite https://www.kite.com/download/

            2. I think you cIf you're using JupyterLab 3.0.x, simply run:

                 pip install "jupyterlab-kite>=2.0.2"

               But if you're using JupyterLab 2.2.x, run:

                 pip install "jupyter-kite<2.0.0"
                 jupyter labextension install "@kiteco/jupyterlab-kite"

*********** <<Jupyter matplotlib widgets>>
            From: [[https://github.com/matplotlib/jupyter-matplotlib][matplotlib/jupyter-matplotlib]]

            I HAVE ONLY GOTTEN THIS TO WORK ON ONE INSTALL.  AND PLOTLY WORKS.

            JUST FORGET IT?

            Zoom/pan matplotlib plots, data cursor, interactive
            controls for changing what's displayed.  Must put

              %matplotlib widget

            at the top of your notebook.

            *Install*

            First
            conda install -c conda-forge ipympl

            Notebook
            conda install -c conda-forge widgetsnbextension

            JupyterLab
            (if needed)
            conda install -c conda-forge nodejs  
            (needed)
            jupyter labextension install @jupyter-widgets/jupyterlab-manager
            jupyter labextension install jupyter-matplotlib

            After installing (using conda), put this in your notebook:

            %matplotlib widget
********* Should try
*********** REJECTED multilanguage code formatter: [[https://jupyter-contrib-nbextensions.readthedocs.io/en/latest/nbextensions/code_prettify/README_code_prettify.html][Code Prettifier jupyter_contrib_nbextensions]]

            If you click a button, it formats python, R, javascript if you click a button

            based on yapf, which I think came out worse than autopep8 or black in reviews.

            but I don't like clicking buttons

*********** REJECTED python black formatting in Jupyter: [[https://github.com/dnanhkhoa/nb_black][dnanhkhoa/nb_black]]

            I don't like black, though.  Consumes too much vertical space and is kind of ugly.

            Automatically black formats as you type.  Only works if you invoke it with a magic, so it's easy to not use it if its too annoying

            Put this in notebook:

            For Jupyter Lab
            %load_ext lab_black
        
            For Jupyter Notebook
            %load_ext nb_black

            Installation:  

            conda install -c conda-forge nb_black 

*********** TRY python flake8 (pep8) formatting in Jupyter: [[https://www.npmjs.com/package/jupyterlab-flake8][jupyterlab-flake8]]

            A realtime lint thing.  pep8 is kinda picky but I prefer seeing what it thinks the rules are.

            *EVALUATE*

************* Configuration

              conda install flake8
              jupyter labextension install jupyterlab-flake8

              need (*??*) a .flake8 file in notebook directory

************* Jupyterlab [[https://github.com/jupyterlab/jupyterlab/issues/5611][may have settled on]] [[jupypterlab_code_formatter]] but it's the kind where you push a button to reformat.  I kinda like the red squiggly line type of formatter sitnead.

*********** TRY [[https://github.com/pbugnion/jupyterlab-sql][pbugnion/jupyterlab-sql: SQL GUI for JupyterLab]]
*********** TRY [[https://github.com/IBM/jupyterlab-s3-browser][IBM/jupyterlab-s3-browser]] (for Amazon data, etc.)
*********** TRY [[https://github.com/timkpaine/jupyterlab_powerpoint][timkpaine/jupyterlab_powerpoint: Creating PowerPoints from jupyter]]
*********** TRY [[https://github.com/lckr/jupyterlab-variableInspector][lckr/jupyterlab-variableInspector: Variable Inspector extension]]
*********** TRY [[https://github.com/jupyterlab/jupyterlab-latex][jupyterlab/jupyterlab-latex: JupyterLab extension for live editing]]

            Displays a pdf that's updated as you edit latex.

*********** TRY variable value window: [[https://github.com/lckr/jupyterlab-variableInspector][lckr/jupyterlab-variableInspector]]
            
            For install have to clone a GitHub repository, etc. (Jan 2020).  Too messy.

*********** TRY [[https://github.com/jupyterlab/jupyterlab-git][GitHub - jupyterlab/jupyterlab-git: A Git extension for JupyterLab]]

            Somehow makes GIT diffing better.  I'm not sure what it actually checks in.  Is it really a /better notebook diff/?

            Recommended here: [[https://towardsdatascience.com/3-must-have-jupyterlab-2-0-extensions-41024fe455cc][3 Must-have JupyterLab 2.0 extensions]]
********* Tried but don't need
*********** python creating convenience: [[https://github.com/jtpio/jupyterlab-python-file][jtpio/jupyterlab-python-file]]
*********** non-git auto-versioning: [[https://github.com/timkpaine/jupyterlab_autoversion][timkpaine/jupyterlab_autoversion]]

            Has worked at times, but mostly, it doesn't.

            It does [[https://github.com/timkpaine/jupyterlab_autoversion/issues/1][make its own git repo]], though.

            pip install jupyterlab_autoversion
            jupyter labextension install jupyterlab_autoversion
            jupyter serverextension enable --py jupyterlab_autoversion
            *
*********** markdown spellchecker: [[https://github.com/ijmbarr/jupyterlab_spellchecker][GitHub - ijmbarr/jupyterlab_spellchecker]]

            jupyter labextension install @ijmbarr/jupyterlab_spellchecker

            I uninstalled it b/c I have a lot of variable names, etc. in markdown and there's no way to modify the spellchecker's dictionary.

******* Not working but maybe nice
********* rename, hover docs ...: [[https://github.com/krassowski/jupyterlab-lsp][krassowski/jupyterlab-lsp]]

          _Buggy_
          o error messages b/c wasn't locating the directory the script was in
          o flagging synax errors in some comments (but not most)
          o crashes

          pip install --pre jupyter-lsp
          jupyter labextension install @krassowski/jupyterlab-lsp

          conda install -c conda-forge python-language-server

          _For R support_, I think, add:
          pip install python-language-server[all]
          R -e 'install.packages("languageserver")'
          conda install -c conda-forge r-languageserver
      
********* paste image into markdown: [[https://github.com/Bamieh/jupyterlab-clipboard][Bamieh/jupyterlab-clipboard]]

          It's not compatible with jupyterlab version

          Bug report: [[https://github.com/Bamieh/jupyterlab-clipboard/issues/5][doesn't support latest version of jupyterlab]]

********* <<emacs bindings in cells>>: [[https://github.com/kpe/jupyterlab-emacskeys][kpe/jupyterlab-emacskeys]]

          conda install -c conda-forge nodejs
          jupyter labextension install jupyterlab-emacskeys

          Doesn't work.  Many emacs binding missing. I [[https://github.com/kpe/jupyterlab-emacskeys/issues/2][filed a bug]].

********* open file w/ part of name: [[https://github.com/parente/jupyterlab-quickopen][parente/jupyterlab-quickopen]]

          Seems to scan over entire GIT? repository?  Extremely slow to start, and almost stops Jupyterlab.

          pip install jupyterlab-quickopen
          jupyter labextension install @parente/jupyterlab-quickopen

          Start it by clicking the magnifying class icon on the LHS

********* run all button: [[https://github.com/jupyterlab/runall-extension][jupyterlab/runall-extension]]

          Would be useful but it's not in the standard jupyterlab repository i.e. /this doesn't work/:

          jupyter labextension install runall-extension

          Instead, you have to [[https://jupyterlab.readthedocs.io/en/stable/user/extensions.html][build it yourself]].

***** building jupyterlab extensions
      For after you've installed some new ones or updated.  jupyterlab will also do this when you start it.

      jupyter lab build
***** jupyter-widgets a.k.a. ipywidgets: [[https://github.com/jupyter-widgets/ipywidgets/blob/master/docs/source/examples/Index.ipynb][ipywidgets]]

      See the demo on the page in the headline

      I'm not sure if this is installed by default or not.

***** Jupyter/Jupyterlab graphics
******* [[Jupyter matplotlib widgets]]

***** search and replace

      Kind of missing in early JL version but...

******* [[https://github.com/jupyterlab/jupyterlab/issues/2017][Ctrl+Shift+R]] will do find & replace within cell

***** Interesting Jupyter wrappers or Jupyter-like things
******* [[https://atom.io/packages/hydrogen][hydrogen]] (runs in atom)
********* [[https://blog.nteract.io/hydrogen-interactive-computing-in-atom-89d291bcc4dd][Hydrogen: Interactive computing in Atom - nteract]]
******* [[https://github.com/nteract/nteract][nteract/nteract:  I think it's web based ]]
******* [[http://lighttable.com/][Light Table]] (inspired hydrogen and nteract, I think)
***** <<Emacs and Jupyter Notebooks>>
******* <<Emacs keybindings for Jupyter>>
********* text editor: settings -> "text editor keymaps" -> emacs
          This is only in JL's text editor -- not the cells.
********* [[emacs bindings in cells]]
******* [[Emacs Jupyter Notebook editing]]
***** Manually setting Jupyter key bindings
******* JL's [[https://jupyterlab.readthedocs.io/en/stable/user/interface.html][keyboard shortcut customization docs]]
******* cell expand/collapse and move ([[https://stackoverflow.com/questions/49280261/jupyter-lab-shortcuts][code]])

        {
        // One O to collapse selected outputs
        "notebook:collapse-selected-outputs": {
        "command": "notebook:hide-cell-outputs",
        "keys": [
        "O"
        ],
        "selector": ".jp-Notebook:focus"
        },    

        // Two O's to expand selected outputs
        "notebook:expand-selected-outputs": {
        "command": "notebook:show-cell-outputs",
        "keys": [
        "O", 
        "O"
        ],
        "selector": ".jp-Notebook:focus"
        },    

        "notebook:clear-all-outputs": {
        "command": "notebook:hide-all-cell-outputs",
        "keys": [
        "Ctrl L"
        ],
        "selector": ".jp-Notebook:focus"
        },

        "notebook:collapse-all-code": {
        "command": "notebook:hide-all-cell-code",
        "keys": [
        "Shift O"
        ],
        "selector": ".jp-Notebook:focus"
        }

        // Move cell up (originally "Ctrl ArrowUp" but this didn't work on Chrome)
        "notebook:move-cell-up": {
        "selector": ".jp-Notebook:focus",
        "command": "notebook:move-cell-up",
        "keys": [
        "P"
        ]
        },

        // Move cell down (originally "Ctrl ArrowDown" but didn't work on Chrome)
        "notebook:move-cell-down": {
        "selector": ".jp-Notebook:focus",
        "command": "notebook:move-cell-down",
        "keys": [
        "N"
        ]
        }
        }        
******* a (broken as of 5/19) keybinding extension: 
******* also [[Emacs keybindings for Jupyter]]
***** Jupyter prints all statements/variables on their own line
      From: [[https://www.dataquest.io/blog/jupyter-notebook-tips-tricks-shortcuts/][28 Jupyter Notebook Tips, Tricks, and Shortcuts for Data Science]]

      For a certain notebook, add these lines in a cell

      from IPython.core.interactiveshell import InteractiveShell
      InteractiveShell.ast_node_interactivity = "all"

      To make it default behavior for all notebooks, create a file ~/.ipython/profile_default/ipython_config.py with the lines below:

      c = get_config()

      # Run all nodes interactively
      c.InteractiveShell.ast_node_interactivity = "all"

      This will make matplotlib functions print all the time, which is annoying.  To make them shut up, see [[Silencing Matplotlib]].
        
***** higher resolution plots
      From: [[https://towardsdatascience.com/jupyter-notebook-essential-productivity-hacks-9b7d69073769][Jupyter Notebook Essential Productivity Hacks]]

      To improve plot sharpness, at least for matplotlib:

      %config InlineBackend.figure_format ='retina'

      OR

      import matplotlib_inline.backend_inline
      matplotlib_inline.backend_inline.set_matplotlib_formats('retina')

      In [[vscode]], eyeballing, the plots look the same with thest two methods

***** <<Versioning Jupyter Notebooks>>

      Conclusion: [[https://github.com/mwouts/jupytext][Jupytext]] is the "[[https://nextjournal.com/schmudde/how-to-version-control-jupyter][most complete version control solution]]" and to me, it seems quite workable, esp. if you paired notebooks.  Maybe config so .py files are in subdir (or not?)?  

      If want to version notebooks along with data, and do a RunRouter like thing, then the [[POC versioning Machine Learning pipeline]] looks pretty good.  Has DVC parameterization and Jupyter notebooks.  Worth looking into?

******* [[https://nextjournal.com/schmudde/how-to-version-control-jupyter][Manually (standard Jupyter) Clear Output]] before committing

        Always clear the output before committing:

        Cell → All Output → Clear → Save
******* [[https://nextjournal.com/schmudde/how-to-version-control-jupyter][nbconvert to HTML]]: frozen,  distributable and archivable like a printout

        jupyter nbconvert /jupyter-git/simple-nb.ipynb --output-dir="/results" --output="simple-nb.html"

        This is what Patrick Sudowe at TenneT swore by.  But the actual notebook isn't saved.

******* [[https://nextjournal.com/schmudde/how-to-version-control-jupyter][nbconvert to python]]: records the code cells, can be checked in, loses ntbk struct

        jupyter nbconvert /jupyter-git/simple-nb.ipynb --to="python"
        --output-dir="/results" --output="simple-nb-nbconvert"

******* [[https://nextjournal.com/schmudde/how-to-version-control-jupyter][nbdime]]: diffing and merging full notebooks (vs. git repository, has graphical functions)
        More or less the vers of git diff and git merge that you use when dealing with .ipynb files
        You don't process the notebooks in anyway, you just check them in.

        Has command line commands as well as a browser based visual diff

        *nbdiff*: command line merge

        o can make an output like commandline diff.  Not graphical, or emacs ediff, etc.
        o is smart about notebooks with data in them and non-meaningful changes in json structure.

        *nbmerg*: command line merge

        nbmerge simple-nbdime-base.ipynb simple-nbdime-local.ipynb simple-nbdime-remote.ipynb  --decisions

        o command-line merging like in a linux command line

******* [[https://nextjournal.com/schmudde/how-to-version-control-jupyter][ReviewNB]]: visual diff/merge but only when everything is in GitHub

******* <<jupytext>>: puts all formatting info in gitable .py file; .ipynb has data

        Jupytext is like [[pandoc]] for programming languages, with .ipynb as the intermediate language.

        After [[https://nextjournal.com/schmudde/how-to-version-control-jupyter][some config]], you can split Jupter notebook into:

        o .py file with commented out meta cell info in it.
        o notebook can be reconstructed from .py file alone
        o .py file runs by itself, as a .py file, too
        o default metaformat is ## but #%% is more compatible w/ spyder, etc.
        o default was in jupyter; it wasn't defaultable somewhere else I
        didn't understand
        o if edit .py file, a browser refresh brings it to the browser ntbk
        o .ipynb file containing data, graphs, etc.  
        o You don't have to it check in.
        o jupytext will get graphs etc. from if don't conflict w/ .py file

********* 2017 Tutorial [[https://github.com/mwouts/jupytext_pyparis_2018/blob/master/README.md][video]] and [[https://github.com/mwouts/jupytext][github page (w/ tutorial and install instructions)]].  
********* [[https://towardsdatascience.com/jupytext-1-0-highlights-a49dca9baa7b][There are]] <<jupytext extensions>> for both Jupyter & Jupyterlab
*********** [[https://github.com/mwouts/jupytext/tree/master/packages/labextension][jupytext/packages/labextension at master · mwouts/jupytext]]

            Install the python package & then the extension:
            
              conda install -c conda-forge jupytext
              # for JupyterLab 2.x
              jupyter labextension install jupyterlab-jupytext@1.2.2  
              # for jupyterlab 3
              s/b auto-installed when conda-forge jupytext package is installed
   
********* 2019 Medium article: [[https://towardsdatascience.com/jupytext-1-0-highlights-a49dca9baa7b][Jupytext 1.0 highlights - Towards Data Science]]
********* [[https://github.com/mwouts/jupytext/issues/298][instructions]] for enabling jupyterlab jupytext extension in bug report
********* jupytext author [[https://github.com/mwouts/jupytext/issues/62][considers]] an org mode converter (2018, not done in 2019)
********* simple install, as it's an [[https://anaconda.org/conda-forge/jupytext][anaconda package]]
********* is [[POC versioning Machine Learning pipeline]] python extracter better?
********* saves ipynb in a [[https://github.com/mwouts/jupytext/tree/master/demo][ton of different formats]] e.g. even pandoc
********* inactivating .ipynb cells in .py file and vice versa
          From the FAQ
          
          Mark a code cell with an "active": "ipynb" metadata or with an active-ipynb tag if you want it to be commented out in the paired script.

          Mark a raw cell with an "active": "py" metadata or with an active-py tag if you want it to be inactive in the notebook but active in the script.

********* <<papermill-jupytext plugin>> (an interface to [[papermill]])
          From: [[https://pypi.org/project/papermill-jupytext/][papermill-jupytext]]

          python/R/... script --> papermil-jupytext --> script_parameterized

          Seems to be a way to parameterize scripts that aren't in .ipynb (papermill doesn't do that now?).  

          I can possibly imagine this being useful...

********* installing jupytext on AWS
          From: [[https://forums.aws.amazon.com/message.jspa?messageID=899413]]

          start jupyterlab
          open a terminal from jupyterlab launcher
          
          in terminal type
 
          source activate JupyterSystemEnv
          pip install jupytext --upgrade
          echo c.NotebookApp.contents_manager_class="jupytext.TextFileContentsManager" >> ~/.jupyter/jupyter_notebook_config.py
          jupyter labextension install jupyterlab-jupytext
 
          Restart the Jupyter Server
          
******* <<Data versioning in Jupyter notebooks>>
********* [[https://github.com/peopledoc/mlvtools][mlvtools: Public repository for versioning machine learnin...]]
********* <<Simple Jupyter + DVC>>

          A [[https://dagshub.com/DAGsHub-Official/Jupyter-Notebook-DVC][Jupyter Notebook Example]] on DAGsHub, but don't need DAGsHub to run it.  The example is too limited, though.  
          
          _It's missing_
          o Versions based on parameter changes
          o Versions based on the python code in the notebook
          o The ability to run repro (can only run notebook again)
          o The ability to rerun the notebook, as it tries to make directories,
          etc. every time and errors out.
          o parallel processing: [[DVC data version control]] doesn't do that yet

          _Anyway, if it worked, the differences from Plain DVC are_
*********** Plain DVC: must partition stages into .py files w/ cmdline interface
*********** DVC+Jupyter: whole thing in a notebook, more like [[RunRouter]]
*********** DVC+Jupyter: has dvc commits in cells -- would work w/ plain DVC
*********** also [[POC versioning Machine Learning pipeline]]

********* <<POC versioning Machine Learning pipeline>> ([[https://github.com/peopledoc/mlv-tools-tutorial][GitHub]])
*********** Data x Code x Hyperparameters versioning
*********** Also version controls Jupyter notebooks (they're assumed, I think)
*********** last commit was on 5/24/19, when I visited [[https://github.com/peopledoc/mlv-tools-tutorial][GitHub]] on 8/20/19
*********** has its own jupyter notebook python extracter.  Is [[jupytext]] better?
*********** uses Git and [[DVC data version control]], and other stuff
*********** also [[Simple Jupyter + DVC]]
******* also [[Data Versioning]]
******* also [[Externally Calling Jupyter Notebooks]]
******* also [[Cookiecutter Data Science]]
***** <<Externally Calling Jupyter Notebooks>>

      How to call them from the command line or from a programming language as if they were functions.  This would make developing the notebooks in discrete chunks easy (just a notebook) and then you could call them later when making a system w/ minimal or no code changing.

******* <<papermill>>
        From: [[https://github.com/nteract/papermill][papermill GitHub]] and [[https://papermill.readthedocs.io/en/latest/][documentation]]

********* makes a new notebook w/ parameters inserted, like [[RunRouter]]
********* parameters on papermill command line, many formats
********* many languages, not just Python
********* can do this on remote clusters, many kinds
********* Good article: [[https://pythonawesome.com/a-tool-for-parameterizing-and-analyzing-jupyter-notebooks/][A tool for parameterizing and analyzing Jupyter Notebooks]]
********* also [[jupytext]]
********* also [[papermill-jupytext plugin]]
********* also [[Versioning Jupyter Notebooks]]
***** <<Jupyter notebooks as markdown, latex, etc....>>
******* <<Pandoc converts notebooks to markdown, latex, etc>>
        From: [[https://predictablynoisy.com/pandoc-jupyter-notebooks][Testing Pandoc and Jupyter Notebooks - Predictably Noisy]]

******* [[jupytext]] also does a lot of notebook format conversion, including to markdown

******* [[https://gist.github.com/jplsightm/c7df5cd2bc62dc84c5158a80cf0af6df][Convert a Pandas Dataframe to Markdown]]
***** <<Dashboarding with Jupyter Notebooks>>
      From: [[https://www.youtube.com/watch?v=VtchVpoSdoQ][Dashboarding with Jupyter Notebooks, Voila and Widgets | SciPy 2019]]
     
***** <<Powerpoint and Jupyterlab>>
******* TRY [[https://github.com/timkpaine/jupyterlab_powerpoint][timkpaine/jupyterlab_powerpoint: Creating PowerPoints from jupyter]]

***** also [[Spyder Jupyter Notebooks]]
***** also [[Python Dashboarding]]      
***** [[SoS]]: Jupyter DAG runner
***** [[d6t/d6tflow]] Jupyter data versioning and parallelization
*** TRY <<Cookiecutter Data Science>>: notebook/data/code struct for DS projects

    Project template describing how to organize code, Jupyter notebooks and data for maximum reproducibility.  Maybe I should try this.

***** [[https://drivendata.github.io/cookiecutter-data-science/?source=post_page-----2be7862f487e----------------------#getting-started][Home - Cookiecutter Data Science]]
***** [[https://cookiecutter.readthedocs.io/en/latest/installation.html][Installation — cookiecutter 1.6.0 documentation]]
***** also [[Python install and package management]]
***** also [[jupytext]]
***** also [[Emacs keybindings for Jupyter]]
***** also [[Data Versioning]]
*** Machine learning Python libs
***** [[http://scikit-learn.org/stable/][scikit-learn]]
******* guy's [[http://www.google-melange.com/gsoc/proposal/review/google/gsoc2013/nicolastr/12001][plan]] to add missing feature fill-in using matrix completion

*** Preventing globals in python functions

    Ways to avoid very mysterious bugs due to the guts of a function accidentally accessing a global variable.

***** use main()
      From: [[https://www.quora.com/How-do-you-use-a-main-function-in-Python][How to use a main function in Python]]

      def f(x):
      # function code
     
      def main():
      # call funcs only inside of main(): vars in main() will be local to main
     
      if __name__ == '__main__':
      main() # so script runs as normal

***** decorate function with @noglobal
      Idea is to make it so you can't read any variable that wasn't in the
      parameters or defined inside the function.

      o [[https://gist.github.com/ax3l/59d92c6e1edefcef85ac2540eb056da3][@noglobal]] was introduced by commentor Ax3l here: 
      [[https://stackoverflow.com/questions/31023060/disable-global-variable-lookup-in-python][Disable global variable lookup in Python - Stack Overflow]]

      o commentor bers [[https://stackoverflow.com/a/54249582/2591097][modified @noglobal]] 
      o so functions globals /defined above the function definition/ could be
      accessed inside the function.
      o useful when all imports and function definitions are at the top

***** note: globals inside func [[https://stackoverflow.com/questions/423379/using-global-variables-in-a-function][can't be written w/o global declaration]]

      ...but you can /read/ global variables w/o the global declaration, which is a bug magnet.

*** <<Python install and package management>>
***** <<python conda environments>>
      "conda environments" what anaconda makes e.g. the one for tensorflow

      List environments (on the command line)
      conda info -e

      Activating/deactivating (in conda)

      activate tensorflow
      deactivate tensorflow

      installing packages from list
      conda list --export          ; makes the list, given some environment
      conda install --file         ; installs them

      finding root anaconda environment (where perl.exe is installed):

      conda info -e | grep root | gawk '{print $3}'

      available versions of a package:

      conda search -f <package_name>

      versions of packages installed, apparently from conda, too
      
      pip list

******* <<documenting conda environment with environment.yml>>
        From: [[https://tdhopper.com/blog/2015/Nov/24/my-python-environment-workflow-with-conda/][My Python Environment Workflow with Conda - tdhopper.com]]

        The best way I've seen to check the whole anaconda environment into svn, git or whatever (as of Oct. 22, 2017).  I think the corresponding emacs package is also the nicest: [[conda.el reads environmentl.yml]]

********* The steps done when you start a project
          (could be from the command line, then after starting conda)

          from anacondal console

          conda env create
          (install whatever)
          conda env activate
          conda env export | grep -v "^prefix: " > environment.yml

          create  [[https://github.com/conda/conda-env][environment.yml]] 
          ... and at some time, you can check something in
          is read by [[https://github.com/conda/conda-env][conda env create]]
          ... a .env file sets up the environment when you visit the dir 
          ... (needs "autoenv" installed by something)

*********** keeping your local install path out of environment.yml
            From: [[https://stackoverflow.com/questions/41274007/anaconda-export-environment-file][python - Anaconda export Environment file - Stack Overflow]]

            conda env export | grep -v "^prefix: " > environment.yml
      
********* importing conda base environment from another machine

          o  export base from the source machine [[
          see:  documenting conda environment with environment.yml]]
  
          o update new machine's base environment to match old one

          conda env update -n base -f base_old_environment.yml

          I think the above works for making the base of one machine match another.

          However, folklore somewhere said that you can't import an environment of the same name as one that already exists on the new machine e.g. "base" so you have to give it a new name.  If you want to import to the name on the new machine, you can delete the old environment then rename the one you imported.
          
******* CPR workstation install

********* anaconda prompt taskbar icon settings

        Target: 
        %windir%\System32\cmd.exe "/K" C:\Anaconda\Scripts\activate.bat C:\Anaconda\envs\stdso

        Start in: 
        "C:\Users\Scott\OneDrive - Clean Power Research"

        Comment:
        Anaconda Prompt (stdso)

********* env vars

          Path:
          c:\users\Scott\Anaconda3
          c:\users\Scott\Anaconda3\scripts

********* [[create stdso environment]]
******* Also [[activating conda environments in emacs]]
******* updating all packages installed by anaconda
      
        In powershell, maybe in admin mode:
      
        conda update --all --alt-hint

******* Clone (export) conda environment from one machine to another

        /Warning/:  I had weird path and DLL problems after making a new environment using the conda --clone commands and then deleting the orginal. I also had problems with the conda commands that used environment.yml files to export to a new machine. Therefore, I used my list-based *conda_evn_regen.ipynb*.

        Make and environment.yml file on the source machine

        conda env export -no-builds > environment.yml       

        Assuming that the env you want to clone is currently active, where
        -no-builds [[https://stackoverflow.com/questions/55554431/conda-fails-to-create-environment-from-yml][partially solves]] machine-specifc incomatiblities.  

        Then clone it on some other machine

        conda env create -f environment.yml

        If there are still machine-specific problems, you can delete the
        troublesome lines in environment.yml

******* Clone (make exact copy of conda environment on same machine)

        conda create -n newEnv --clone sourceEnv

        where sourceEnv is the source being cloned and newEnv is the copy.

******* list envs: conda info --envs
******* list packages installed: conda list
******* install a certain version of a package

          conda install <pkg>=<version>
          
        e.g.
        
          conda install matplotlib=1.4.3
          
******* revert conda install
        From: [[http://blog.rtwilson.com/conda-revisions-letting-you-rollback-to-a-previous-version-of-your-environment/][Conda revisions: letting you ‘rollback’ to a previous version of your environ...]]

        _Get list of past conda install actions_
        i.e. revisions kth conda update marked with "(rev k)"

        conda list --revisions

        _Install conda environment revision k_

        conda install --revision k

        Then, if you run ~conda list --revisions~, you'll see a new
        revision, (rev N+1), where the latest previous revision number
        was N, and where (rev N+1) is the result of bringing you back to
        (rev k), and where (rev k) is also still shown.

******* remove env: conda remove --name myenv --all
******* anaconda prompt starting environment

        On Windows, pin a prompt to the task bar, right click on it and go to properties. Then edit the target to:

        %windir%\System32\cmd.exe "/K" C:\Users\Scott\AppData\Local\Continuum\anaconda3\Scripts\activate.bat C:\Users\Scott\AppData\Local\Continuum\anaconda3\envs\stdso

        If anaconda is installed in C:\Users\Scott\AppData\Local\Continuum\anaconda3
        and if the desired starting environment is stdso.

        You can also edit the "Start in:" text box to somewhere that will be convenient as a top level for Jupyter lab and git, for example:

        "%HOMEPATH%\OneDrive - Clean Power Research"

        The name of the icon is under the "General" tab of the properties window.

******* adding channels

        Add channel "new_channel" to the top of the channel list as highest priority:

        conda config --add channels new_channel
        or
        conda config --prepend channels new_channel

        Add new channel to the bottom of the channel list as lowest priority:

        conda config --append channels new_channel

******* clone conda env: write/read environment.yml
        From: [[https://datascience.stackexchange.com/questions/24093/how-to-clone-python-working-environment-on-another-machine][anaconda - How to clone Python working environment on another machine? - Data...]]

        export Anaconda environment:

        conda env export > environment.yml

        Recreate it on other machine:

        conda env create -f environment.yml

        Should have used virtual environments:

        conda create -n yourenvname python=x.x anaconda

        which you activate using:

        source activate yourenvname

******* emacs could be in a conda environment ([[Anaconda Emacs]])
***** pip vs. conda
      From: [[https://jakevdp.github.io/blog/2016/08/25/conda-myths-and-misconceptions/][Conda: Myths and Misconceptions | Pythonic Perambulations]]

      "pip installs python packages within any environment; conda installs any package within conda environments"

***** pip
******* how to see all installed pip packages 

      In a conda shell, or someplace that has a path to python
      pip list
      OR 
      help("modules") # inside interpreter shell

******* pip-tools: replace requirements.txt w/ get conda-style dep solver
        From: [[https://medium.com/@ramalhodevitor/abandon-requirements-txt-for-managing-dependencies-in-python-immediately-50b1c45b824a][Abandon requirements.txt for managing dependencies in Python...]]

        Useful for Q CELLS pip & requirments.txt & virtualenv environments?

        Seems almost as easy as conda.  Conda can also make a requirements.txt file, but pip-tools works directly with virtualenvs.
        
********* install [[https://github.com/jazzband/pip-tools][pip-tools]] in every virtualenv you use

          python3 -m venv venv
          source venv/bin/activate
          pip install pip-tools

********* create a requirement.in file for each

          List just the packages you want: it will figure out the rest.  If you want to specify version limits on some packages, it can do that too.

********* pip-compile: make requirements.txt using pip-compile

          pip-compile ./requirements.in

********* pip-compile: for upgrading packages

          pip-compile --upgrade-package <package name>
          
********* pip-sync: quickly change/sync/undo virtualenv w/ requirements.txt

Upgrade or uninstall any packages not contained on your requirements.txt file. Make it easier for your to explore a package and get rid of it really fast.          

***** <<pyenv and virtualenv>>
******* [[pyenv in emacs]]
***** also [[Cookiecutter Data Science]]
***** [[Compare running python version programmatically]]
***** Check for python package security vulnerabilities
******* Commercial, I think: Safety from [[https://pyup.io/#how-it-works][Python Dependency Management]] (pyup.io)
******* Free: [[https://snyk.io/vuln/search?q=tensorflow&type=any][Vulnerability DB | Snyk]]
***** <<Windows Python>>
      Needed at least for org-mode ox-clip

******* <<Install Windows Python with Anaconda>> (what I've been doing)

        *NOTE*: I had been doing [[Install python with Chocolatey]] but this started failing in late 2019.

        - if reinstalling, make sure to run ~/lib/python/conda_env_regen.ipynb first, so can easily reinstall duplicate past environments
        - download from here
        - after completion, make it writeable by non-admin
          - go to c:\ProgramData\Anaconda3
          - change this directory's permission so I have full permissions
            - file explorer, right click on anaconda3
            - properties --> security --> scroll to Users --> edit --> click on Full control
        - point PATH towards the /conda install/ (for emacs, among others)
          (Make sure this is /above/ msys2 path. Otherwise, the msys2
          python you get when installing diff, etc., will mess up emacs
          [[elpy]].
        - *Also make sure that it's above* %USERPROFILE%\AppData\Local\Microsoft\WindowsApps , which as of May 2019 suddenly holds a python.exe)
        - install everything necessary in the base environment first
        - <<create stdso environment>>
          - conda create -n stdso --clone base
********* Install from Windows .exe installer        

          Mostly following this [[https://machinelearningmastery.com/setup-python-environment-machine-learning-deep-learning-anaconda/][TensorFlow install advice]]

          The idea was to install everything with anaconda to avoid the "not compiled with AVX" warnings I got when I [[Install python with Chocolatey]]) but I still get them.

          _Download Anaconda_ from [[https://www.anaconda.com/download/][here]] 
          I picked 64 bit v3.6 ([[https://www.tensorflow.org/install/install_windows][v3.6 is OK for TensorFlow]] (Oct 21, 2017))
        
          _Install Anaconda_: 
          o click the buttons
          o _install for "Just for Me",_ not for "All Users."  Otherwise, to
          install packages, etc. [[https://github.com/conda/conda/issues/3652][you'll need either]] 1) admin priveleges 2) to
          change priveleges on the c:/ProgramData/Anaconda3 or 3) only use
          Anaconda Navigator 4) clone your anaconda environment.  
          All these are messy.

          So I installed "Just for Me."  
          In this case, python.exe is installed in %USERPROFILE%\Anaconda3 and %USERPROFILE%\Anaconda3\Scripts (C:\Users\scotto\Anaconda3 and C:\Users\scotto\Anaconda3\Scripts)

          _Start and Update Anaconda_ (from "anaconda prompt" on start menu)
        
          conda update conda
          conda update anaconda # downgrades stuff that update conda upgraded!

          o [[https://groups.google.com/a/continuum.io/forum/#!topic/anaconda/KnZQBU8kd9Q][anaconda prompt is recommended]]
          o could also add python stuff to windows PATH (not recommended)

          _Update everything_

          conda update --all
      
          _Add C:\Users\scotto\Anaconda3\Scripts to my Windows PATH_
          (not recommended (see above, but this allows emacs elpy to work)
      
          <<Anaconda Paths>> (so emacs elpy works.  See my [[https://github.com/jorgenschaefer/elpy/issues/1156][bug report]])
          I made an environment variable: %ANACONDA_HOME% == %USERENV%\Anaconda3
      
          and put both 
          %ANACONDA_HOME% 
          and
          %ANACONDA_HOME%\Scripts
          in my path.  

          Do [[My SP4 TensorFlow install]]

          restart anaconda console
          pip install kiras (this did not work...)

********* <<Uninstall Anaconda>>
          It didn't show up in the Windows 10 program list nor was there an install program found on the Windows start menu.  However, you can [[https://stackoverflow.com/questions/29337928/how-to-remove-anaconda-from-windows-completely][uninstall it by running this program]]:

          Uninstall-Anaconda.exe

          which is in the anaconda root dir: either c:/ProgramData/Anaconda3 or C:\Users\username\Anaconda3 (when installed "just for me").

******* my current (Nov. 2019) .emacs will crash if anaconda isn't there, and has an expected environment name (was 'stdso').  So make one when you get to a new machine.  See [[python conda environments]]
******* <<Install python with Chocolatey>>

        _Most recent attempt: worked for a while, then failed in late 2019_

        choco install anaconda

        Put base environment in path (so emacs, etc. will find it): 

        C:\Users\scott\Anaconda3\
        C:\Users\scott\Anaconda3\Scripts

        (Make sure this is /above/ msys2 path. Otherwise, the msys2
        python you get when installing diff, etc., will mess up emacs
        [[elpy]].  Also make sure that it's above %USERPROFILE%\AppData\Local\Microsoft\WindowsApps , which as of May 2019 suddenly holds a python.exe)

        _Comments from my first attempt_

        Problem with this was that I kept getting messages about this TensorFlow not being built for optimal performance on my SP4, was not compiled for some instruction set.   It did not sound like TensorFlow was going to fix this ever (some TF blog somewhere) so I decided to [[Install Windows Python with Anaconda]] instead, which seems to be recommended by a lot of people.

        I installed using [[Chocolatey]], which gave me Python 3.6.3, which [[https://www.tensorflow.org/install/install_windows][seems to be OK for TensorFlow]] (Oct 21, 2017).  Following instructions I did: 

        choco install -y python

        Add to path (similar [[https://ianchanning.wordpress.com/2016/03/25/jupyter-on-windows-with-chocolatey/][was suggested]] for when install Jupyter): 

        C:\Python36
        C:\Python36\Scripts

******* Install package only in pypi using conda
        From: [[https://stackoverflow.com/questions/29286624/how-to-install-pypi-packages-using-anacaonda-conda-command][How to install PyPi packages using anacaonda conda command...]]

        To install package "package":

        conda skeleton pypi package
        conda-build package

******* [[XGboost on Windows]]

***** <<XGboost on Windows>>
      Hard to find on Windows.  Almost everything is on linux.  But this seems to work:

      [[https://www.youtube.com/watch?v=lxDEkTuaz_k][How to install and use XGBOOST library in anaconda on Windows 10 ? - YouTube]]

      Results are not as good as show on this notebook website: Here:
      https://www.kaggle.com/metadist/work-like-a-pro-with-pipelines-and-feature-unions
      the log loss is shown as 0.5192380...  but using this xgboost install, I'm seeing 0.556257 (worse than the Bernoulli example)

      Anway, the instructions are:
      1. run: conda install -c anaconda py-xgboost  (from: [[https://anaconda.org/anaconda/py-xgboost][Py Xgboost :: Anaconda Cloud]])
      2. In python shell, test with: import xgboost as xgb

******* also [[Windows Python]]

***** Installing/debugging cloned github python packages within conda environment
      From [[https://stackoverflow.com/questions/46076754/use-package-from-github-in-conda-virtual-environment][here]] and [[https://www.youtube.com/watch?v=5hq0Edi2Ou8][here]]

      Taking the example of http://github.com/glm-tools/pyglmnet

******* Activate the conda environment
      
        Windows: 
        1. start a anaconda powershell prompt
        2. cd to the directory you want to clone to
        3. activate: for base, type "activate base"
        4. Run the commands below from inside the andaconda prompt

******* Install git in the virtual environment: (conda install git)

        conda install git

******* Clone the project. (git clone [URL])

        git clone http://github.com/glm-tools/pyglmnet

******* Install the package (has the effect of pointing a "python path" to your clone of this repo)
********* cd to package directory that contains setup.py.
********* run setup
*********** best way: [[Editing and debugging a python package installed from source]]
*********** 2nd best way: python setup.py install
******* To delete the package: pip uninstall pyglmnet
******* <<Editing and debugging a python package installed from source>>

        Using the example of pyglmnet
        
        Once package was installed, I didn't know how to debug/fix the code.
        
        So, first, you have have to /delete any installed package/: 

        pip uninstall pyglmnet

        Then you can edit the code wherever you have cloned the package and it will take immediate effect (you won't have to install it after every code change).  There are at least three ways to do this.

        <<Installing a cloned package so you can debug it>>
        (has the effect of pointing a "python path" to your clone of this repo)
        
        _The 1st is the best_:
      
        1. do an [[https://packaging.python.org/en/latest/guides/distributing-packages-using-setuptools/#working-in-development-mode][editable pipinstall]]: python -m pip install -e .

           - cd to project root directory and run: python -m pip install -e .
           - <<package root dir>> ?
             - [[https://py-pkgs.org/04-package-structure.html][is sometimes the directory above pkg's src dir]]
             - maybe infer after [[getting an installed package __init__.py file]] 
           - Your packages edits then  immediately affects your imports
           - No special python path code in scripts doing imports

        2. Hack paths to point to the cloned repository

           In any script that imports the package, insert code like this:

           import sys
           srcPath = "c:\\Users/Scott\\OneDrive - Clean Power Research\\WattPlanGrid\\mnsp\\sandbox\\pyglmnet"
           if srcPath not in sys.path:
           sys.path.append(srcPath)

           This would have to be before the statement which imports the package.

           This is ugly b/c you have to remember to delete the path hack code above.

        3. run [[https://stackoverflow.com/questions/19048732/python-setup-py-develop-vs-install][python setup.py develop]]

           Maybe this is the best way.

           But is it?  The [[https://pip.pypa.io/en/stable/cli/pip_install/][editable pipinstall]] says there are advantages to using pip, and a commenter [[https://stackoverflow.com/a/19048754/2591097][here]] says that he had problems w/ setup.py develop and so used pip install -e PATH

******* Making a python package
********* <<python package structure>>

*********** [[https://py-pkgs.org/04-package-structure.html][4. Package structure and distribution — Python Packages]]
*********** [[Root dir of installed (non-builitin) python package]]

******* also [[Forking a github project, debugging/fix it on local machine]] 
        
***** <<Root dir of installed (non-builitin) python package>>

      I believe that the "root dir" is the one that has setup.py in it, and is the place where you want to run
      
      
******* [[https://py-pkgs.org/04-package-structure.html][root dir is sometimes the directory above pkg's src dir]]: but not all pkgs have a src dir
******* <<getting an installed package __init__.py file>>

        I believe every package has an __init__.py file, and if the it's in a 'src' dir, then the [[package root dir]] probably a couple directories above it.  At least, you can figure it out manually and hardcode it relative to the __init__.py file, since that should be relatively constant for a given package, and shouldn't change across machines and install OS's.

********* Example: source cloned from githup: [[https://github.com/LauritzR/Principal-Feature-Analysis][Principal-Feature-Analysis]]:

        Assuming you've done: [[Installing a cloned package so you can debug it]]

        #+begin_src python

          import principal_feature_analysis
          import pathlib as pl
          rootDir = pl.Path(principal_feature_analysis.__file__).parent.parent.parent

          print(f"{rootDir=}")
          setupFNm = pl.Path(rootDir / 'setup.py')
          print(f"{setupFNm=}\n{setupFNm.is_file()=}")
        #+end_src

        Output:
        rootDir=WindowsPath('C:/Users/scott/OneDrive/share/repos/Principal-Feature-Analysis')
        setupFNm=WindowsPath('C:/Users/scott/OneDrive/share/repos/Principal-Feature-Analysis/setup.py')
        
        setupFNm.is_file()=True

********* Example: conda-forge pandas

          This one has no src dir, but at least you know where the package is.

        #+begin_src python
          import pandas
          import pathlib as pl

          initFNm = pandas.__file__
          rootDirNoSetup = pl.Path(pandas.__file__).parent

          print(f"{initFNm=}\n{rootDirNoSetup=}")
        #+end_src

        Output:
          initFNm='c:\\Users\\scott\\miniconda3\\lib\\site-packages\\pandas\\__init__.py'
          rootDirNoSetup=WindowsPath('c:/Users/scott/miniconda3/lib/site-packages/pandas')
        
******* also [[python package structure]]
*** [[Python in Emacs]]
*** <<Python Graphics>>
***** 2018 overview of Python graphics libraries

      Three parts:
      1. [[https://www.anaconda.com/blog/developer-blog/python-data-visualization-2018-why-so-many-libraries/][python-data-visualization-2018-why-so-many-libraries]]
      2. [[https://www.anaconda.com/blog/developer-blog/python-data-visualization-moving-toward-convergence/][python-data-visualization-moving-toward-convergence]]
      3. [[https://www.anaconda.com/blog/developer-blog/python-data-visualization-2018-where-do-we-go-from-here][python-data-visualization-2018-where-do-we-go-from-here]]

***** [[http://pythonplot.com/#intro][Python Plotting for Exploratory Analysis]] (shows same plots in different pkgs)
***** Data vizualization tools on Anaconda poll
 
      What do you use to visualize data?
      Bokeh
      d3
      ggplot (R)
      Holoviews
      Matplotlib
      Pandas plotting
      Plotly
      Seaborn
      Tableau

***** <<Interactive graphics in python>>
******* [[Interactive Matplotlib]]
******* <<Python plotly>>
********* Multilanguage [[Plotly]] can make [[Python ggplot2]] interactive
********* [[Python ggplot2]]: also popular in R, has interactive multilanguage ports ([[Plotly]])
********* python plotly offline:, [[https://github.com/SayaliSonawane/Plotly_Offline_Python][Plotly_Offline_Python Tutorial]]
********* initializing plotly
          From [[https://plot.ly/python/getting-started/#initialization-for-online-plotting][here]]

          Get an api key by logging into plotly acct. [[https://plot.ly/settings/api#/][here]]

          Then
          import plotly          plotly.tools.set_credentials_file(username='zenf', api_key='cO8tnS0WlWAreOZwmPzX')

********* <<plotly Python install>>
          From: [[https://plotly.com/python/getting-started/#jupyterlab-support][Getting Started with Plotly | Python | Plotly]]

          conda install -c plotly plotly=4.14.3
          conda install jupyterlab "ipywidgets>=7.5"
          
          jupyter labextension install jupyterlab-plotly@4.14.3

          For optional [[Plotly Figure Widgets]]:
          
          jupyter labextension install @jupyter-widgets/jupyterlab-manager plotlywidget@4.14.3

********* <<grouped stacked bar plot in plotly>>
          From: [[https://medium.com/@moritzkoerber/how-to-plot-a-grouped-stacked-bar-chart-in-plotly-df1685b83460][How to plot a grouped stacked bar chart in plotly]]
          #+begin_src python
            import pandas as pd

            df = pd.DataFrame(
                      dict(week=[1, 1, 2, 2, 3, 3] * 2,
                           layout=["classic", "classic", "modern", "modern"] * 3,
                           response=["conversion", "exit"] * 6,
                           cnt=[26, 23, 45, 34, 55, 44, 53, 27, 28, 25, 30, 34],
                          )
                      )

            import plotly.graph_objects as go

            fig = go.Figure()

            fig.update_layout(
                template="simple_white",
                xaxis=dict(title_text="Week"),
                yaxis=dict(title_text="Count"),
                barmode="stack",
            )

            colors = ["#2A66DE", "#FFC32B"]

            for r, c in zip(df.response.unique(), colors):
                plot_df = df[df.response == r]
                fig.add_trace(
                    go.Bar(x=[plot_df.week, plot_df.layout],
                           y=plot_df.cnt, name=r, marker_color=c),
                )

            fig
          #+end_src
********* <<waterfall charts in plotly>>
          From: [[https://plotly.com/python/waterfall-charts/][Waterfall Charts | Python | Plotly]]
          #+begin_src python
            import plotly.graph_objects as go

            fig = go.Figure(go.Waterfall(
                name = "20", orientation = "v",
                measure = ["relative", "relative", "total", "relative", "relative", "total"],
                x = ["Sales", "Consulting", "Net revenue", "Purchases", "Other expenses", "Profit before tax"],
                textposition = "outside",
                text = ["+60", "+80", "", "-40", "-20", "Total"],
                y = [60, 80, 0, -40, -20, 0],
                connector = {"line":{"color":"rgb(63, 63, 63)"}},
            ))

            fig.update_layout(
                    title = "Profit and loss statement 2018",
                    showlegend = True
            )

            fig.show()
          #+end_src
********* [[Plotly]]
********* [[R plotly]]
******* <<Python Bokeh>>
********* [[http://nbviewer.jupyter.org/github/bokeh/bokeh-notebooks/blob/master/quickstart/quickstart.ipynb][Bokeh Jupyter Notebook Viewer]] (examples)
********* [[R Bokey]]
******* Lux
        From: [[https://github.com/lux-org/lux][lux: Automatically visualize your pandas dataframe via a sin...]]

        Autogenerated plots, optionally with your sloppy intent direction.  Seems like this would be best for simpler problems.
        
******* [[http://www.pyqtgraph.org/documentation/index.html][pyqtgraph]]: ver interactive/fast for large data, not as publishable as ggplot
******* [[grouped stacked bar plot in plotly]]
***** <<Matplotlib>>
******* In Jupyter: insert %something, see nc5 demo
******* [[https://stackoverflow.com/questions/4700614/how-to-put-the-legend-out-of-the-plot/43439132#43439132][matplotlib legend placement]]
******* *Good*: [[https://dev.to/skotaro/artist-in-matplotlib---something-i-wanted-to-know-before-spending-tremendous-hours-on-googling-how-tos--31oo]["Artist" in Matplotlib - something I wanted to know...]]
******* <<Silencing Matplotlib>>

        Mostly, you can stop matplotlib prints after each matplotlib command that returns a value by putting a ';' at the end of the matplotlib function calls.  

        But this doesn't work if the last matplotlib call is inside of a ~for~ loop.  What works instead is to [[https://stackoverflow.com/questions/49218457/how-do-you-suppress-matplotlib-output-in-for-loop-in-jupyter-notebook][put this]] at the top of your jupyterlab notebook:

        from IPython.core.interactiveshell import InteractiveShell
        InteractiveShell.ast_node_interactivity = "last_expr"

******* <<Interactive Matplotlib>>
        Can zoom, pan, but not much else if outside of IConsole
********* Documentation: [[https://matplotlib.org/users/navigation_toolbar.html][matplotlib interactive navigation]]
********* [[https://stackoverflow.com/questions/36700083/in-spyder-plot-using-matplotlib-with-interactive-zoom-etc][In Spyder, plot using Matplotlib with interactive zoom, etc]]
          Two ways:
          1. type "%matplotlib qt" into Iconsole (doesn't work in code itself)
          2. Select from the menu Tools > Preferences, then IPython console in the list of categories on the left, then the tab Graphics at the top, and change the Graphics backend from Inline to e.g. Qt. For me though, the figures then always pop up in the background.
********* also [[Matplotlib]]
******* also [[Interactive graphics in python]]
***** pandas graphics in python
      Default support is a shell around matplotlib, but lately, it has added support for [[https://pandas.pydata.org/pandas-docs/stable/ecosystem.html?highlight=filter][other libraries]], some interactive.  These implement a [[https://plotly.com/python/pandas-backend/][subset of the default]] matlplotlib functionality, at least for plotly e.g. it doesn't do =suplots=True=.

******* plotly support in pandas
********* plotly installation for pandas plots
          From: https://plotly.com/python/getting-started/

          Article gives version nums, but no version nums worked fine on 9/30/20, python v3.7.7

          conda install plotly 
          conda install jupyterlab ipywidgets
          # Jupyter widgets extension
          jupyter labextension install @jupyter-widgets/jupyterlab-manager plotlywidget

          In addition, from here: https://binnisb.github.io/blog/datascience/2020/04/02/Plotly-in-lab.html

          # jupyterlab renderer support
          jupyter labextension install jupyterlab-plotly --no-build

          # FigureWidget support
          jupyter labextension install plotlywidget --no-build

          # Build extensions (must be done to activate extensions since --no-build is used above)
          jupyter lab build

********* using plotly backend in pandas
          From: https://plotly.com/python/pandas-backend/

          import pandas as pd
          pd.options.plotting.backend = "plotly"

          Then, for plot kind M, run as df.plot.M()

          kinds (methods): scatter, line, area, bar, barh, hist and box.

          plotly call to use kind M:
            df.plot(kind='M')  OR df.plot.M()
    
          hist and box can also be called a bit more compactly:
          
            df.hist()
            df.boxplot()

******* bokeh support in pandas
***** <<Python ggplot2>>

      At least two packages are [[R ggplot2]] ports.

******* ggpy ggplot (was ggplot, [[http://pltn.ca/plotnine-superior-python-ggplot/][now renamed]] to ggpy)
********* [[http://ggplot.yhathq.com/][ggplot home]]
********* [[https://github.com/yhat/ggpy][GitHub - yhat/ggpy: ggplot port for python]]
******* plotnine ggplot
********* [[http://pltn.ca/plotnine-superior-python-ggplot/][Plotnine is the best Python implementation of R's ggplot2]]
********* [[https://github.com/has2k1/plotnine][GitHub - has2k1/plotnine: A grammar of graphics for Python]]
******* Multilanguage [[plotly]] can make it interactive
******* [[R ggplot2]]
******* [[Python plotly]] (does ggplot2)
***** <<stackplot() in python>>
******* plotly/pandas "time series subplots" is close: [[https://plot.ly/pandas/time-series/#pandas-time-series-subplots][Pandas Time Series]]
******* pandas/series is closer: [[https://machinelearningmastery.com/time-series-data-visualization-with-python/][Time Series Data Visualization with Python]]
******* also [[R functions like my Matlab stackplot()]]
***** [[https://medium.com/analytics-vidhya/how-to-do-a-sankey-plot-in-python-5298869f5e8e][Process Flow Plots: How to do a Sankey Plot in Python]]
******* also: [[https://medium.com/analytics-vidhya/how-to-do-a-sankey-plot-in-python-5298869f5e8e][How to do a Sankey Plot in Python]]
***** multi-line plots in python
******* multi-time series with range slider (plotly)
        [[https://plot.ly/python/time-series/][Time Series With Rangeslider]]
******* ggplot with auto legend
        [[http://blog.yhat.com/posts/aggregating-and-plotting-time-series-in-python.html][ŷhat | Aggregating & plotting time series in python]]
        See "trends over time"
******* matlotlib with different time axes & annoying muliple plot() calls
        [[https://stackoverflow.com/questions/30868707/how-can-i-plot-two-different-spaced-time-series-on-one-same-plot-in-python][How can I plot two different spaced time series on one same plot in Python]]

***** zoomable python plots
***** Grafana
******* stair step time series in grafana w/ start/end time stamp marks

       They call this "Interpolation mode: Step before" and "Interpolation mode Step after"

       [[https://play.grafana.org/d/nP8rcffGk/4-new-features-in-v7-4?orgId=1][Examples]]
       
***** Data Exploration in Python
******* <<Mito: Spreadsheet makes python, plotly code>>
********* Could be handy for a new data set
********* From: [[https://jjdiamondreivich.medium.com/interactive-python-is-changing-data-science-e1e397ef6bbd][Interactive Python is Changing Data Science]]
***** <<Map plotting in Python>>
******* [[Choropleth]]: any map w/ shaded areas portraying spatially aggredated data
******* [[Plotly Map Plotting]]
******* folium / Leaflet.js
********* Folium [[https://medium.com/dataexplorations/map-this-comparing-choropleth-maps-in-folium-and-tableau-public-9c15f09f5e79][said to be easy to use]]
********* folium is active: [[https://github.com/python-visualization/folium/commits/master][last commit]] was 2 days ago (April 2019)
********* [[https://towardsdatascience.com/visualizing-data-at-the-zip-code-level-with-folium-d07ac983db20][Visualizing Data at the ZIP Code Level with Folium – Towards Data Science]]
********* [[https://python-visualization.github.io/folium/][folium documentation]] is sparse
********* [[https://dillonshook.com/leaflet-zip-code-map-part-1/][Leaflet Zip Code Map Part 1: Dillon Shook]] (looks nice, 2014 article)
******* <<geopandas>>
        From: [[http://geopandas.org/][Geopandas]]
        
        Can draw maps fast and ugly, fix them up later, do spatial calcs
        
********* [[http://darribas.org/gds15/content/labs/lab_03.html][lab_03: Mapping in Python with geopandas]]
********* is up to date: [[https://github.com/geopandas/geopandas/commits/master][last commit]] was today (4/16/19)
********* reads shape files, GeoJSON, others
********* can do [[http://darribas.org/gds15/content/labs/lab_03.html][interactive/zoomable]] maps
********* can [[https://developers.arcgis.com/python/api-reference/arcgis.geometry.html#to-geo-coordinate-string][to_geo_coordinate_string()]] func [[undo ArcGIS Pro Mercator projection shape files]]?


******* Matplotlib map plotting
********* [[https://www.christianpeccei.com/zipmap/][Drawing ZIP Code Boundaries]]
********* [[http://www.jtrive.com/visualizing-population-density-by-zip-code-with-basemap.html][Visualizing Population Density by Zip Code with basemap - The Pleasure of Fin...]]
******* [[https://medium.com/dataexplorations/map-this-comparing-choropleth-maps-in-folium-and-tableau-public-9c15f09f5e79][Map this… Comparing choropleth maps in Folium and Tableau Public]]
******* Where to get map shapes and spatial data
********* formats: [[http://apprentice.craic.com/tutorials/28][Shapefiles, GeoJSON and KML]]
********* [[https://pypi.org/project/uszipcode/][uszipcode · PyPI]] (current demo data, size, "border polygon")
********* [[https://github.com/OpenDataDE/State-zip-code-GeoJSON][OpenDataDE/State-zip-code-GeoJSON: Zip code boundaries, each State]]
********* [[https://github.com/OpenDataDE][Open Data Delaware · GitHub]] (more than just DE, e.g. has zip GeoJSONS for all US states)
********* [[https://github.com/jgoodall/us-maps][GitHub - jgoodall/us-maps: GeoJSON and TopoJSON map files]]
          Counties, zips, ZCTA, Census, States, others
********* [[https://rdrr.io/cran/tigris/man/zctas.html][zctas: Download a Zip Code Tabulation Area (ZCTA) shapefile into R in tigris:...]]
********* [[https://www.census.gov/mp/www/geo/tiger.html][TIGER/Line Files]]
********* address/zip check: [[https://smartystreets.com/docs/cloud/us-zipcode-api][ZIP Code API - SmartyStreets]]
******* (DEAD) Vincent and Pandas
********* [[https://github.com/wrobstory/vincent][Died in 2016]]
********* [[http://wrobstory.github.io/2013/10/mapping-data-python.html][Mapping Data in Python with Pandas and Vincent | wrobstory.github.io]]
******* <<undo ArcGIS Pro Mercator projection shape files>>

        From Dakota, on 5/27/22:
        Hey Scott, figured out whats going on here, apparently ARCGIS uses some weird Web Mercator projection coordinate system for their default coordinates

********* This tool will convert to lat,long, which I gess is wgs84.  [[https://products.aspose.app/gis/en/transformation/mercator-to-wgs84][MERCATOR to WGS84 - online and free]]
********* does [[geopandas]] have something for this too?
***** <<lux>>
      From: [[https://github.com/lux-org/lux][lux: Python API for Intelligent Visual Data Discovery]]

      Suggests plots for you, has sort of "question you want answered by the plot" language, and plots it makes can be translated to matplotlib, and other frameworks, for further refinement.
      
***** waterfall plots
******* matplotlib:
https://kristinelpetrosyan.medium.com/how-to-choose-the-perfect-graph-for-your-dataframe-1665ee469f8b
******* waterfall charts library (but I can’t figure out how to make the lines)
https://medium.com/geekculture/creating-a-waterfall-chart-in-python-dc7bcddecb45
******* plotly (has the lines):
 https://plotly.com/python/waterfall-charts/
******* seaborn (I couldn’t figure out the lines):
https://medium.com/geekculture/creating-a-waterfall-chart-in-python-dc7bcddecb45

***** [[Graphviz in Python]]
***** [[Plotly]]
*** [[Powerpoint and Python]]
*** Paths in python
***** <<pathlib>>
******* pathlib seems to be the most modern, is nice in windows, etc.
******* <<making directories with pathlib>>

_make directory only_

import pathlib
outModelsDir = pathlib.Path('tmp')
pathlib.Path(outModelsDir).mkdir(parents=True, exist_ok=True)

_make directory and path to a file_

import pathlib
file_name = pathlib.Path("./tmp/mymodel.pkl")
file_name.parent.mkdir(parents=True, exist_ok=True)

*** temporary files/dirs in python
***** tempfile: python builtin for temp files and dirs
      From: [[https://docs.python.org/3/library/tempfile.html][tempfile — Generate temporary files and directories]]

      import tempfile

      with tempfile.TemporaryFile() as fp:
        fp.write(b'Hello world!')
        fp.seek(0)
        fp.read()

      with tempfile.TemporaryDirectory() as tmpdirname:
        print('created temporary directory', tmpdirname)

      # tempfile.NamedTemporaryFile() Has problems on Windows:
      # a partial solution is sutils.tempFNm_context()

      # there are many other funcs I didn't look at...
      
*** Python configuration files

How to store global settings e.g. URLs, passwords and constants without hardcoding in source and checking them into git.  Multi-language would also be nice...

***** <<python-dotenv>>
      From: [[https://betterprogramming.pub/getting-rid-of-hardcoded-python-variables-with-the-dotenv-module-d0aff8ce0c80][Python Dotenv Module | by Nicholas Obert | Better Programming]]

      This stores configs in a dot file.  Syntax looks like bash.
      
***** I also read about something that was superior to JSON and XML.  Where?  

*** <<Python Dashboarding>>
***** [[Dashboarding with Jupyter Notebooks]]
***** <<Dash>>
******* [[https://dash.plot.ly/][Dash User Guide and Documentation - Dash by Plotly]]
******* Connects to [[Plotly]] and [[Plotly Express]]
*** Operational Python

    Python in operations, data versions, model persistence, etc.  DO I NEED THIS SECTION?

***** [[Python Streaming]]
***** [[Tests in Python]]
***** [[sklearn model persistence]]

*** <<Python Streaming>>
***** <<Installing Pyspark in a docker>>
******* Better: [[https://medium.com/@suci/running-pyspark-on-jupyter-notebook-with-docker-602b18ac4494][Running PySpark on Jupyter Notebook with Docker – Medium]]
******* [[https://stackoverflow.com/questions/33109989/how-to-install-pyspark-spark-for-learning-purpose-on-a-laptop-with-limited-res][How to install pyspark & spark for learning purpose on a laptop with...]]
******* Sparkling Water Deployment

        https://www.youtube.com/watch?v=jpzi0-1mKyA

******* [[Docker Containers]]
*** TRY Python debugging
***** set a breakpoint by adding a line of code

      import pdb; pdb.set_trace() # Pause execution here with the debugger active.

***** TRY python code checkers
******* [[https://www.pylint.org/][Pylint]]
******* TRY pyre (has [[vscode]] extension too)

        Intro: [[https://python.plainenglish.io/using-facebooks-pyre-to-infer-types-in-python-automatically-718d028fe57d][Using Facebook’s Pyre to Automatically Infer Types in Python]]
********* <<pyre vscode extension>>
          <<[[vscode]]>> extension: [[https://marketplace.visualstudio.com/items?itemName=fb-pyre-check.pyre-[[vscode]]][pyre-[[vscode]] - Visual Studio Marketplace]]
        
******* [[https://github.com/davidfraser/pyan][pyan]] 
******* [[https://github.com/megies/pyflakes][Pyflakes]]
***** debuggers
******* <<Cyberbrain>>
        From: [[https://medium.com/analytics-vidhya/cyberbrain-python-debugging-redefined-1db4c47a4d32][Cyberbrain: Python debugging, redefine]]: variable dependency graphs & more
        
        Runs in [[vscode]] only for now.  Can install within built-in VSC marketplace, or like so:

        pip install cyberbrain
        code --install-extension laike9m.cyberbrain
        
***** <<prnvar for python>>
******* I wrote my own, in sutils.py
******* <<icecream>>
        Similar to prnvar(): [[https://github.com/gruns/icecream][icecream: Never use print() to debug again.]]
********* see my comments: [[file:~/OneDrive - Clean Power Research/Research/lib/python/sandbox/icecream/icecream_play.ipynb][icecream_play.ipynb]]
********* very nice: has links to loki logging: [[https://pypi.org/project/python-logging-loki/][python-logging-loki · PyPI]]
********* fancier: [[snoop]]
******* <<snoop>>
        A prnvar() and [[icecream]] superset that uses icecream internally, I think.  pp() is like prnvar().

        Also has a much fancier function decorator and a connection to a graphical printer that I don't quite understand ([[https://github.com/alexmojaki/birdseye][birdseye]]), which has [[https://birdseye.readthedocs.io/en/latest/integrations.html][VSC, Jupyterlab and PyCharm integrations]].
        
        snoop: [[https://medium.com/geekculture/snoop-on-your-python-eaa2f157743a][Snoop on Your Python. Like IceCream on Steroids — You’ll never…  ]]
        
******* [[R funcs useful for R prnvar()]]
*** String Processing (Python)
***** parse: Perl-like named string chunk extraction
      From: [[https://stackoverflow.com/questions/44292000/extract-a-name-substring-from-a-filename-and-store-it-in-a-variable-in-python][Extract a name substring from a filename and store it in a variable]]

      Kind of the opposite of f-strings:

        str = "esarchive--Mona-AB-Test226-8037affd-06d1.tar"
        from parse import parse
        pattern = 'esarchive--{Name}-AB-{otherstuff}.tar'
        result = parse(pattern, str)

     Installation:
     
        conda install -c conda-forge parse 

*** How to write Python documentation
***** [[https://www.python.org/dev/peps/pep-0257/][PEP 257 -- Docstring Conventions]]: the overarching standard
***** [[https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt][numpy/HOWTO_DOCUMENT]]: spyder displays this standard
*** Python coding standards
***** <<Python PEP8>>

      It seems like there's no escaping the [[https://www.python.org/dev/peps/pep-0008/][PEP 8 Style Guide for Python Code]], so most IDEs have a way of automatically formatting your code to that standard.  

      Emacs, and others, do it by calling [[Autopep8]] which you have to install first from pip or conda.

      One escape from PEP8: <<Preventing PEP8 from flagging a non-top-of-file import>>

        PEP8 / Autopep8 have problem with imports: if you have to insert
        a path into the python path.  This solution is the directive:

        # noqa: E402

        It looks like this:

        sys.path.append(r"..\lib\python")  # won't work on linux
        import sutil as su  # noqa: E402

*** Symbolic computation: [[http://www.sympy.org/de/index.html][SymPy]]
*** <<Tests in Python>>
***** guy [[https://www.youtube.com/watch?v=k55d3ZUF3ZQ][says]] to use pytest pkg, not built-in unittest.  For sure, it's shorter.
*** Speeding up Python
***** <<Speeding up Pandas>>
******* <<Pandas Parallelization>>
********* <<modin>>: parallelization

          Parallelizes most commonly used pandas functions (most common is read_csv()) across cores, apparently knows about your job control (?).

*********** [[https://modin.readthedocs.io/en/latest/][MODIN readthdocs.io]]
*********** [[https://towardsdatascience.com/get-faster-pandas-with-modin-even-on-your-laptops-b527a2eeda74][Get faster pandas with Modin, even on your laptops]]
********* <<Hand-coded Pandas Parallel Apply>>
*********** [[https://medium.com/@30mb1/6-ways-to-significantly-speed-up-pandas-with-a-couple-lines-of-code-part-1-2c2dfb0de230][6 ways to significantly speed up Pandas with a couple lines of code. P1]]
*********** [[Pandarallel]] is probably better
********* <<Pandarallel>> (probably better than that)
*********** [[https://medium.com/@30mb1/6-ways-to-significantly-speed-up-pandas-with-a-couple-lines-of-code-part-1-2c2dfb0de230][6 ways to significantly speed up Pandas with a couple lines of code. P1]]
*********** Probably [[https://medium.com/@30mb1/6-ways-to-significantly-speed-up-pandas-with-a-couple-lines-of-code-part-1-2c2dfb0de230][better]] than [[Hand-coded Pandas Parallel Apply]]

******* <<Numba: JIT compiler>>
********* [[https://medium.com/@30mb1/6-ways-to-significantly-speed-up-pandas-with-a-couple-lines-of-code-part-1-2c2dfb0de230][6 ways to significantly speed up Pandas with a couple lines of code. P1]]
******* [[https://towardsdatascience.com/heres-how-to-make-pandas-iteration-150x-faster-20ccb5477128][Use itertuples() instead of iterrows()]]: faster b/c tuples are immutable?
***** <<Parallelization in Python>>
******* <<Parallelizing Python with fork>>
        From: [[https://towardsdatascience.com/heres-how-you-can-get-a-2-6x-speed-up-on-your-data-pre-processing-with-python-847887e63be5][Here’s how you can get a 2–6x speed-up on your data pre-processing with Python]]

        Also does: import concurrent.futures ([[Parallelizing Python across cores and machines]])
******* <<Parallelizing Python across cores and machines>>
        From: [[https://accu.org/index.php/journals/2342][ACCU :: Multiprocessing and Clusters in Python]]
        *Using* 
        import concurrent.futures (uses forks, apparently: [[Parallelizing Python with fork]])
        import mpi4py.futures
        import multiprocessing

        (works for arbitrary code you write yourself)
******* <<Parallelization by process vs. threads in Python>>
********* <<Can't parallelize Python in threads>>
          From: [[https://accu.org/index.php/journals/2342][ACCU :: Multiprocessing and Clusters in Python]]
********* TODO fill this in e.g. GIL, 
******* [[Pandas Parallelization]]
******* <<Python Parallelization Libraries>>
        Overview: [[https://www.infoworld.com/article/3542595/6-python-libraries-for-parallel-processing.html][6 Python libraries for parallel processing | InfoWorld]]
        Jupyterlab TestNotebooks: ..../Research/lib/python/sandbox/parallel/*

        *Conclusion*: joblib seems best choice for effort/performance/deadline
          o easiest
          o'loki' does some kind of process(?) (core multiproc. fails on Win) w/o thread (GIL probs?)
          o works on all platforms and is already scikit learn default
          o easily runs on [[Sagemaker]]
          o BUT I HAVEN'T GOTTEN IT TO WORK W/ KERAS QR MODELS

********* <<Ray>>
          From: [[https://www.infoworld.com/article/3542595/6-python-libraries-for-parallel-processing.html][6 Python libraries for parallel processing | InfoWorld]]
*********** multinode [[https://github.com/werner-duvaud/muzero-general/issues/4][doesn't work on windows]] 
*********** but [[https://github.com/ray-project/ray/issues/6900][WSL problems are maybe fixed]]
*********** [[https://github.com/ray-project/ray/releases][single node Windows might work]] ("experimental" in 
************* [[https://docs.ray.io/en/latest/installation.html#windows-dependencies][must install newest visual C++]]
************* windows [[https://docs.ray.io/en/latest/installation.html][install instructions]]
*************** instructions
                pip install -U ray

                Rrecommended but above had already installed it:
                pip install -U ray

*************** error messages
ERROR: tensorflow 2.1.0 has requirement scipy==1.4.1; python_version >= "3", but you'll have scipy 1.5.0 which is incompatible.
ERROR: tensorflow 2.1.0 has requirement tensorboard<2.2.0,>=2.1.0, but you'll have tensorboard 2.2.1 which is incompatible.
*************** conda downgrades in attempt to deal w/ errror messages

                conda install scipy=1.4.1
                conda install tensorboard=2.1.0

                No complaints from conda when I ran this, only changed these specific packages, not any others.

************* [[https://github.com/ray-project/ray/issues/9114][ray-project/ray#9114 Known issues on Windows]]
*********** minimal syntax
*********** used for [[https://github.com/awslabs/amazon-sagemaker-examples/issues/1075][ML/RL on SageMaker]]
*********** can spec CPU/GPU numbers
*********** copying data is "kept to a minimum"
*********** can do cluster management
*********** can run on local hardware or cloud computing platform
*********** [[https://medium.com/distributed-computing-with-ray/easy-distributed-scikit-learn-training-with-ray-54ff8b643b33][works w/ scikit-learn]] 
*********** [[https://docs.ray.io/en/latest/using-ray-with-tensorflow.html][works w/ keras/tensorflow]] 
*********** [[https://docs.ray.io/en/master/using-ray-with-pytorch.html][works w/ pytorch]] 
*********** each machine runs it's own ray scheduler, so scheduled task probs can be handled @ machine level, not whole cluster
*********** [[https://zhangmpy.top/blog/2019/Multiporcessing-in-Python/][doesn't have to pickle]] (problem w/ Keras models)
*********** [[https://medium.com/distributed-computing-with-ray/how-to-scale-python-multiprocessing-to-a-cluster-with-one-line-of-code-d19f242f60ff][works on Amazon AWS]] (also see [[Amazon AWS/S3]])
********* Dask
          From: [[https://www.infoworld.com/article/3542595/6-python-libraries-for-parallel-processing.html][6 Python libraries for parallel processing | InfoWorld]]
*********** looks like ray
*********** does its own task scheduling but it's centralized, unlike ray's
*********** understands python data frameworks
*********** parallelizes data structures
*********** can schedule tasks @ cluster or [[https://docs.dask.org/en/latest/setup/single-distributed.html][single machine]] level
*********** actor model: sounds like a job that dask starts once on a machine, waits for other nodes to call it
*********** Windows: [[https://stackoverflow.com/questions/58460967/dask-multiprocessing-works-on-mac-but-not-on-windows][Dask has problems with multiprocessing]], but threads usable
************* Solution? Use: [[https://stackoverflow.com/questions/58723135/dask-multiprocessing][if __name__ == "__main__":]] block
************* [[https://docs.python.org/2/library/multiprocessing.html#windows][Why multiprocessing needs main block on Windows]]
*********** <<Dask can compute on graphs>>: [[https://docs.dask.org/en/latest/custom-graphs.html][Custom Graphs — Dask documentation]]
************* it's file based, very much like RunRouter was
*********** [[https://docs.dask.org/en/latest/diagnostics-distributed.html][Excellent Dask computation visualizations]]
*********** [[https://dask.org/][Dask: Scalable analytics in Python]]
*********** [[https://towardsdatascience.com/why-every-data-scientist-should-use-dask-81b2b850e15b][Why every Data Scientist should use Dask?]]
********* Dispy
          From: [[https://www.infoworld.com/article/3542595/6-python-libraries-for-parallel-processing.html][6 Python libraries for parallel processing | InfoWorld]]
*********** Linux/MacOS/Windows machines "work equally well"
*********** looks a little lik python's "multiprocessing" built-in
*********** precise job control, but a bit more work
*********** input/output file transfers handled as part of job distribution
********* Pandaral-lel
          From: [[https://www.infoworld.com/article/3542595/6-python-libraries-for-parallel-processing.html][6 Python libraries for parallel processing | InfoWorld]]
*********** only parallelizes pandas
*********** doesn't work on Windows, but does work on WSL, Liunx, MacOS
********* lpyparallel
          From: [[https://www.infoworld.com/article/3542595/6-python-libraries-for-parallel-processing.html][6 Python libraries for parallel processing | InfoWorld]]
*********** focus on parallelizing Jupyter notebooks
*********** works w/ map() or notebook maginc commands e.g. %px to parallelize a python statement, somehow
********* Joblib
          From: [[https://www.infoworld.com/article/3542595/6-python-libraries-for-parallel-processing.html][6 Python libraries for parallel processing | InfoWorld]]
*********** simple
*********** uses threads or processes
*********** disk cache saves function outputs, avoiding repeating work
*********** job suspend/resume is possible
*********** data shares w/ numpy.memmap
*********** mananging across multi-computers is hard
************* standard use is single host only
************* Joblib pipeline can do multi computers but might be more complex
           than other frameworks for this
*********** joblib on Sagemaker: [[https://medium.com/@rbmsingh/using-96-cores-on-aws-sagemaker-9524b71bb21d][Using 96 Cores on AWS SageMaker]]
*********** joblib + multiprocessing in Python
************* [[https://scikit-learn.org/stable/modules/generated/sklearn.utils.parallel_backend.html][Sckit-learn parallization default]] is [[joblib('loky')]]
************* v. good /basic/ tutorial: [[https://coderzcolumn.com/tutorials/python/joblib-parallel-processing-in-python#4.1][joblib - Parallel Processing in Python]]
************* simple joblib example code
              From: [[https://blog.dominodatalab.com/simple-parallelization/][Easy parallel loops in Python, R, Matlab and Octave]]

              from joblib import Parallel, delayed
              import multiprocessing
     
              # what are your inputs, and what operation do you want to 
              # perform on each input. For example...
              inputs = range(10) 
              def processInput(i):
                return i * i
 
              num_cores = multiprocessing.cpu_count()
     
              results = Parallel(n_jobs=num_cores)(delayed(processInput)(i) for i in inputs)

              # results is now [1, 4, 9 ... ]

************* <<joblib('loky')>>
*************** 'loky' is [[https://scikit-learn.org/stable/modules/generated/sklearn.utils.parallel_backend.html][single-host, process-based parallelism]] (skl default)
*************** process-based is good 
***************** [[Can't parallelize Python in threads]]
***************** [[Parallelization by process vs. threads in Python]]
*************** single-host is maybe bad: doesn't run on cluster
*************** example of bare joblib('loky')
                From: [[https://coderzcolumn.com/tutorials/python/joblib-parallel-processing-in-python#4.1][joblib - Parallel Processing in Python]]

                %%time

                with joblib.parallel_backend(backend="loky"):
                  parallel = Parallel(verbose=100)
                  print(parallel([delayed(slow_power)(i, 5) for i in range(10)]))

*********** [[Airflow and scikit-learn]]
******* [[Parallelization for SciPy]]
******* [[Hadoop]]
******* [[https://kubernetes.io/][Kubernetes]] (not just Python, more for containers)
******* [[d6t/d6tflow]] (data versioning and parallelization)
******* [[https://github.com/spotify/luigi][spotify/luigi is a Python module that helps you build complex...]] (dep run)
******* <<Airflow>>
********* [[https://airflow.apache.org/][Apache Airflow]] website
********* <<Airflow and scikit-learn>>
*********** [[https://devklaus.wordpress.com/2019/03/31/airflow-for-orchestrate-your-machine-learning-algorithms/][Airflow to orchestrate your machine learning algorithms]]
*********** also [[Scikit-learn]]
******* also [[Data Versioning]]
***** Func value caching: [[https://medium.com/better-programming/every-python-programmer-should-know-lru-cache-from-the-standard-library-8e6c20c6bc49][Every Python Programmer Should Know LRU_cache From the Standard Library]]
***** vectorizing more important than in Matlab ([[https://github.com/Technologicat/python-3-scicomp-intro/blob/master/python_scicomp_notes.pdf][Informal introduction to Python 3 for scientific computing]])
***** [[https://numba.pydata.org/][Numba]]: JIT makes for loops comparable to vectorization, like C/C++ [[https://hips.seas.harvard.edu/blog/2013/05/13/jit-compilation-in-matlab/][or Matlab]]
***** [[https://github.com/pydata/numexpr][numexpr]]: compiles numeric expressions, keeps in them in cache, does multithread
***** [[http://cython.readthedocs.io/en/latest/src/userguide/parallelism.html][Cython via OpenMP]]: compiles and calls the [[https://en.wikipedia.org/wiki/OpenMP][OpenMP job queuing system]]
******* [[Speeding up sklearn]]
*** <<Tidy (Long) Tables>> in Python

    The way Patrick Sudowe suggested that all SQL data s/b organized.  I guess it's the same for Python dataframes or whatever

***** [[http://www.jeannicholashould.com/tidy-data-in-python.html][Tidy Data in Python · Jean-Nicholas Hould]]
***** Is required for [[Plotly Express]]

*** <<Compare running python version programmatically>>

if sys.version_info >= (3,8,0):
    print("python version >= 3.8")
else:
    print("python version < 3.8")

*** <<Scikit-learn>>
***** <<Concise LinearRegressor()>>
      LinearRegressor() expects X to be a 2D column array.

      For x as a list, series or (n,) np.array 
      x = np.arange(5) # x.shape = (5,), is an np.array()
      x=[1,2,3,4,5]
      x=pd.Series([1,2,3,4,5])
      # doesn't work for tuples

      The shortest way is:
      np.c_[x] # np.c_[x].shape == (5,1)

      Also: [[Concise numpy column or row vector create]]

***** pipelines

******* Column transforms in pipeline
********* <<more concise pipeline code with make_column_transformer and make_column_transformer>>
          From: [[https://medium.com/swlh/how-to-use-scikit-learn-pipeline-for-your-ml-projects-e67d5a7e2c88][Adopting Scikit-Learn Pipeline for Your ML Projects]]

          Solution 3 is much shorter than the other two:

          #+begin_src python
            from sklearn.compose import make_column_transformer
            from sklearn.pipeline import make_pipeline
            
            numeric_transformer = make_pipeline((SimpleImputer(strategy='mean')),
                                                (StandardScaler()))
            
            categorical_transformer = make_pipeline(OneHotEncoder(handle_unknown='ignore'))
            
            col_transformer = make_column_transformer((numeric_transformer, numeric_features),
                                                      (categorical_transformer, categorical_features))
            
            pipeline = make_pipeline(col_transformer,LogisticRegression())
            
            pipeline.fit(X_train, y_train)
            pipeline.score(X_test, y_test)
          #+end_src

          But is this better?  [[sklearn Column Transform of pandas dataframes]]
          
********* [[https://scikit-learn.org/stable/modules/generated/sklearn.compose.ColumnTransformer.html][sklearn.compose.ColumnTransformer]]
********* [[https://machinelearningmastery.com/columntransformer-for-numerical-and-categorical-data/][How to Use the ColumnTransformer for Data Preparation]]
********* <<sklearn Column Transform of pandas dataframes>>

          package =sklearn-pandas= is aware of pandas column names, and I think dtypes.  Code is shorter, I think.

          But doesn't sklearn already use column names, not just indices?
          See: [[more concise pipeline code with make_column_transformer and make_column_transformer]]
          or does it operate directly off pd.DataFrame() dtypes instead of column names?
          
*********** _Example_: [[https://towardsdatascience.com/7-advanced-tricks-in-pandas-for-data-science-41a71632b5d9][7 advanced pandas tricks for data science (Trick #5)]]
*********** [[https://github.com/scikit-learn-contrib/sklearn-pandas][scikit-learn-contrib/sklearn-pandas]]
********* [[Pandas]]
***** <<Speeding up sklearn>>
******* scikit-learn-intelex 

        conda update itself says:

        Windows 64-bit packages of scikit-learn can be accelerated
        using scikit-learn-intelex.  More details are available here:
        https://intel.github.io/scikit-learn-intelex

        For example:

        $ conda install scikit-learn-intelex
        $ python -m sklearnex my_application.py

        But does [[https://medium.com/intel-analytics-software/leverage-intel-optimizations-in-scikit-learn-f562cb9d5544][this article]] suggest that you need a Xeon processor?

********* Uses [[Numba: JIT compiler]]
********* [[Speeding up Pandas]]

***** [[Airflow and scikit-learn]]
***** <<sklearn model persistence>>

      pickle not recommended, what are the alternatives?

******* [[https://scikit-learn.org/stable/modules/model_persistence.html][Model persistence — scikit-learn 1.0.2 documentation]]
******* also [[Data Versioning]]

*** SciPy
***** <<Parallelization for SciPy>>
******* SciPy and Spark
********* [[https://databricks.com/blog/2016/02/08/auto-scaling-scikit-learn-with-apache-spark.html][Auto-scaling Scikit-learn with Apache Spark]]
******* [[Parallelization in Python]]
***** [[SciPy optimization]]
*** Directory structure and Python
***** [[making directories with pathlib]]
***** removing a non-empty directory with shutil

      Since [[https://stackoverflow.com/questions/50186904/pathlib-recursively-remove-directory][pathlib doesn't have an rmtree()]], use shutil instead:

        import shutil
        shutil.rmtree(path) # path can be string or pathlib object

*** Optimization in Python
***** <<pyomo optimization>>
******* pyomo installation with anaconda
        From: [[https://stackoverflow.com/questions/19928878/installing-pyomo-on-windows-with-anaconda-python][Installing Pyomo on Windows with Anaconda (Python)]]

        It is 2017 and pyomo can be easily installed via conda

        conda install -c conda-forge pyomo pyomo.extras

        To install LP and NLP solvers, conda can also be used.

        conda install -c cachemeorg glpk ipopt_bin

******* pyomo supposedly easier than scipy optimization, handles bigger probs
        From: [[https://stackoverflow.com/questions/36016717/optimization-regarding-amp-pyomo-scipy-matlab][python - Optimization: regarding AMP (Pyomo), Scipy, Matlab]]

        Can maybe also to auto differentiation via AMPL
******* pyomo tutorials
********* [[https://multithreaded.stitchfix.com/blog/2018/06/21/constrained-optimization/][Add Constrained Optimization To Your Toolbelt]]
********* [[https://pyomocontrib-simplemodel.readthedocs.io/en/latest/knapsack.html#][Comparing SimpleModel, PuLP and Pyomo]]
***** <<SciPy optimization>>
      [[https://docs.scipy.org/doc/scipy/reference/tutorial/optimize.html][Optimization (scipy.optimize) — SciPy v1.1.0 Reference Guide]]
*** <<Python IDEs>>
***** <<vscode>>
******* debugging in vscode
********* debugging jupyter notebooks in vscode

          - Set cell breakpoint on a line(click on L cell margin, see a red dot)
          - Click on the cell's run caret on the upper L cell marking
          - Select debug cell
          - a panel of debugging icons appears, usually in upper L
          - BREAKPOINTS tickboxes in lower L enables bkpts e.g. on errors

*********** [[https://github.com/microsoft/vscode-jupyter/issues/13246][vscode-jupyter#13246 Cell debugger needs "break at exception...]]
*********** tutorial video 
*********** In SPYDER, can [[https://github.com/microsoft/vscode-jupyter/issues/1652#issuecomment-797785152][use %pdb to go into pdb if error]], but not VSCODE Jupyter, as of 4/1/23
******* shrinking vscode vertical blank space
********* [[https://github.com/microsoft/vscode/issues/130287][Controlling vertical space between output elements]]
********* [[https://github.com/microsoft/vscode-jupyter/issues/6024][Option to hide toolbars above cells / move them...]]
******* note taking on vscode
********* [[dendron]]
********* [[Foam]]
******* graphs in vscode
********* [[Mermaid in vscode]]
******* interactive shell in vscode
        From: [[https://youtu.be/lwN4-W1WR84?t=112][VSCode's Python Interactive mode is AMAZING!]]

        Gives you an interface similar to matlab, spyder or Rstudio.  You can bet plots and access to variables in the right hand side window, while editing plain, non-notebook python in the left window.

********* To start it
*********** edit a python file
*********** put #%% at the top and run it
*********** after that any #%% runs like a matlab or jupyter notebook cell
*********** at the bottom lhs is an interactive window where you can type other commands.
*********** you can export the lhs window as a notebook, with cells and graphs

********* plots show up in right window if you do:

          #%%
          import pandas as pd
          import numpy as np
          import matplotlib.pyplot as plt
          %matplotlib inline
******* [[pyre vscode extension]]
******* [[Cyberbrain]]: python debugger, dependency analyzer for vscode
******* Syncing Visual Studio Code Settings
        Use: [[https://marketplace.visualstudio.com/items?itemName=Shan.code-settings-sync][Settings Sync - Visual Studio Marketplace]] (extension)

        Works via git.  Need to make a personal github token (see extension description)

        *My token*
        name: vs-code-settings-sync
        value: 4080663549b231b079fcbf8ac82399f49366694f
******* setting os.curdir to Jupyter notebook dir

        THIS IS STILL A BUG in VSC (Version: 1.40.2 (user setup)
        Commit: f359dd69833dd8800b54d458f6d37ab7c78df520
        Date: 2019-11-25T14:54:45.096Z
        Electron: 6.1.5
        Chrome: 76.0.3809.146
        Node.js: 12.4.0
        V8: 7.6.303.31-electron.0
        OS: Windows_NT x64 10.0.18362)

        If you don't, then you can't import .py packages from current dir, and my path editing trick for importing sutil.py won't work either.

        This is supposed to work automatically if, in VSC settings you set:

        python.dataScience.notebookFileRoot = ${fileDirname}

        ... but in fact, it doesn't work.  Yet MS has closed the two bug reports on it:

        [[https://github.com/Microsoft/vscode-python/issues/4441][microsoft/vscode-python#4441 `python.dataScience.notebookFileRoot` needs an o...]]
        [[https://github.com/microsoft/vscode-python/pull/7724][microsoft/vscode-python#7724 Add capability to support current file path for ...]]

        documentation of variables is [[https://code.visualstudio.com/docs/editor/variables-reference][here]]; my GitHub comment is [[https://github.com/Microsoft/vscode-python/issues/5468][here]].

******* Emacs keybindings in vscode

        In 2022, I'm using the *Awesome Emacs Keymap* extension.
        
        Originally, I picked: *Emacs Friendly Keymap* lfs.vscode-emacs-friendly Leaping Frog Studios.  It had almost perfect stars, was a fork to another older, abandoned but popular emacs extension (from Hiro Sun), and had new updates (latest was 5/6/19 when viewed on 12/11/19).  Seems good.  Maybe it was, but later, for some reason, I picked the Awesome Emacs Keymap extension, which worked fine.

********* emacs keybindings in vsc terminal
*********** [[https://www.reddit.com/r/vscode/comments/no035a/comment/hb2k0wr/?utm_source=share&utm_medium=web2x&context=3][Said to work]]: Settings -> Terminal-> integrated -> allow chords

            But for me, it doesn't.  If I type Ctrl+B, I seee ^B in the terminal.  Does this have something to do with the fact that I'm using Windows Terminal?  Did I set that up for vscode?

******* Getting a console like Spyder, Rstudio and Matlab
********* [[https://www.r-bloggers.com/2020/07/setting-up-vs-code-for-python-development-like-rstudio/][Setting up VS Code for Python Development like RStudio | R-bloggers]]
******* <<vscode org-roam-like and diagramming packges>>
********* [[Foam]]: organizer runs in vscode
********* [[dendron]]: vscode organizer
********* [[Mermaid in vscode]]
********* [[vscode PlantUML]]
********* also [[org-roam]]
******* [[using miniconda instead of anaconda]]: install tickbox for vscode
******* [[vscode on WSL]]
******* <<Running vscode on Sagemaker>>

        *Question*: Use new [[https://code.visualstudio.com/blogs/2022/12/07/remote-even-better][vscode remote tunnel]] instead of local ssh?

********* <<Connect VS Code to AWS (General)>>
          From: [[https://www.c-sharpcorner.com/article/how-to-connect-vs-code-to-aws/][How To Connect VS Code To AWS]]

          This doesn't connect sagemaker, but allows you to do some AWS stuff that seems more admin-like.  Don't know what it means.  Also, the page is slightly wrong:

          Windows files to create:

            c:/Users/scott/.aws/config
            c:/Users/scott/.aws/credentials

          In the credentials file, it's OK to leave aws_session_token blank:

            aws_session_token=
          
********* [[https://aws.amazon.com/blogs/machine-learning/use-the-amazon-sagemaker-local-mode-to-train-on-your-notebook-instance/][Use the Amazon SageMaker local mode to train on your notebook instance]]
********* [[https://www.youtube.com/watch?v=K3ngZKF31mc][Train with Amazon SageMaker on your local machine]]

          A container based approach to running VSCODE locally.

          steps

          Windows
            choco install openssl
            install docker somehow
            Install AWS CLI: [[https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html][Installing or updating the latest version of the AWS CLI]]
                In a windows terminal (or cmd window?)
                  msiexec.exe /i https://awscli.amazonaws.com/AWSCLIV2.msi
                In a cmd window, check (doesn't work in windows terminal):
                  aws --version 
              
            
          Create a local cona environment matching sagmaker notebook kernel
          
            conda create -n tensorflow_pyth3_9 python=3.9
            conda activate tensorflow_pyth3_9

          On sagemaker and locally, install an environment wihe
          matching python and tensorflow versions:

             This might not work
               conda install tensorflow=2.11 keras sagemaker ipykernel

             But this might
               [[Sagemaker notebook kernels with specific python version]]

          Once created on local, do:

             pip install sagemaker
             pip install boto3
             conda install ipykernel

          Create a notebook kernel
             python -m ipykernel install --user --name tensorflow_pyth3_9 --display-name "Python (tensorflow_pyth3_9)"

          In that environment, start jupyterlab (after making sure
          docker is running locally)

            jupyter lab

          Then make a new notebook using the kernel tensorflow_pyth3_9

          From [[https://us-west-1.console.aws.amazon.com/sagemaker/home?region=us-west-1#/notebook-instances/test1][here]], my IAM role ARN is:
            arn:aws:iam::538039645537:role/service-role/AmazonSageMaker-ExecutionRole-20200625T083360 

          # make sure docker is running
          jupyter notebook
           
********* [[https://stackoverflow.com/questions/71880336/can-one-run-sagemaker-notebook-code-locally-in-visual-studio-code][can one run sagemaker notebook code locally in visual s...]]

          local vscode, from 2022

********* [[https://www.youtube.com/watch?v=Ftim9YeN58Y][Connect EC2 instance to VSCode using remote ssh and run jupyter Notebooks]]

          Local vscode, from 2022.  Looked quite complicated, and by the end of the video, I'm not sure what he had achieved.
          
********* [[https://guyernest.medium.com/connecting-vs-code-to-develop-machine-learning-models-in-the-aws-cloud-aa1ebd16f890][Connecting VS Code to Develop Machine Learning Models in the AWS Cloud]]

        local machine vscode runs AWS sagemaker

        I locally installed [[https://www.docker.com/get-started/][Docker Desktop]] on my Windows machine:

           choco install docker-desktop
        
        This was [[https://stefanscherer.github.io/how-to-install-docker-the-chocolatey][recommended]] as the best docker setup for Windows.

        Seems complicated and incomplete, as of 2020
        
********* [[https://medium.com/codex/running-vs-code-for-free-on-aws-bfb1aed7be6f][VS Code in Sagemaker Studio Lab. Code-server in 5 mins]]

          [[https://studiolab.sagemaker.aws/][Studiolab]] is a free version of Sagemaker.  But this is with vscode running in the web browser, which I don't want.
          
********* [[https://towardsdatascience.com/hosting-vs-code-in-sagemaker-studio-f211385e25f7][Hosting VS Code on SageMaker. Step-by-step guide to set it up]]

          I think both options were browser based.  I wanted vscode
          running locally.

********* [[https://aws.amazon.com/blogs/machine-learning/host-code-server-on-amazon-sagemaker/][Host code-server on Amazon SageMaker | AWS Machine Learning Blog]]

          Browser-based vscode.  I don't like...

******* <<Running vscode on AWS EC2>>
********* Abhi GPU-Vscode EC2 instructions
*********** Confluence: [[https://growingenergylabs.atlassian.net/wiki/spaces/~63c5a906417bef6fc906a2c0/pages/8497594395/GPU+server+setup+for+cloud+computing][GPU server setup for cloud computing]]
*********** ssh config

_Combining w/ [[https://growingenergylabs.slack.com/archives/D04S81PGPEZ/p1678311599717599][Abhi's slack]], and [[https://linuxize.com/post/using-the-ssh-config-file/][this]], I think my .ssh/config contents should be_:

Host *
UseKeychain yes

Host dev-gpu-usw2
User scott.otterson
HostName dev-gpu-usw2.geli.internal
AddKeysToAgent yes
ForwardAgent yes
ProxyCommand ssh -xaqW%h:22 ec2-user@dev-usw2.geli.net

*********** must install aws cli on local machine
            See: [[https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html][Installing or updating the latest version of the AWS CLI - AWS Command Line I...]]

*********** EC2 starting/stopping
            From: [[https://growingenergylabs.slack.com/archives/C04R1T27PEW/p1678311515676859][Slack]]

            Commands to start, connect or stop the AWS server:

            _starting_

            aws ec2 start-instances --region us-west-2 --instance-ids i-0c06dfbcdb18a1918

            /Doesn't seem to be needed/
            ssh dev-gpu-usw2

            jupyter notebook --no-browser --port=8080

            _stopping_

            aws ec2 stop-instances --region us-west-2 --instance-ids i-0c06dfbcdb18a1918

*********** copying data to EC2

            From local laptop to AWS, full path on the AWS side, probably not needed for local

            scp -r /Users/scott/share/ds-experimental/scotto/proj/VDERalt3 scott.otterson@dev-gpu-usw2:/home/scott.otterson/ds-experimental/scotto/proj/

            scp -r /Users/scott/share/ds-experimental/scotto/lib scott.otterson@dev-gpu-usw2:/home/scott.otterson/ds-experimental/scotto/lib
            
********* [[https://growingenergylabs.atlassian.net/wiki/spaces/analytics/pages/8409055277/VSCode+Developer+Gaia+Setup][VSCode Developer Gaia Setup (Nace)]]
********* [[https://growingenergylabs.atlassian.net/wiki/spaces/SD/pages/61768476/Set+up+an+EC2+Instance+on+AWS][Set up an EC2 Instance on AWS]]
********* also [[Docker Containers]]
******* [[https://docs.aws.amazon.com/toolkit-for-vscode/latest/userguide/whisper-setup-ent-devs.html][Setting up CodeWhisperer for enterprise devs - AWS Toolkit for VS Code]]

***** Rodeo
***** [[Python in Emacs]]
***** <<PyCharm>>
******* Showing graphs inside of PyCharm
********* Use [[https://www.jetbrains.com/help/pycharm/matplotlib-support.html#sm][Scientific Mode in PyCharm]]
*********** shows [[https://www.jetbrains.com/help/pycharm/matplotlib-support.html#sm][graphs in in separate window]], and has data viewer, somewhat like Matlab
*********** also shows a Python console, somewhat like Matlab
*********** compatible with Matplotlib and numpy
*********** _[[https://www.jetbrains.com/help/pycharm/scientific-tools.html][only available on Pro]]_ version of Pycharm
*********** somehow uses Anaconda, since a [[https://www.jetbrains.com/help/pycharm/matplotlib-tutorial.html][conda interpreter is required]]
*********** [[https://www.jetbrains.com/help/pycharm/matplotlib-tutorial.html][Scientific Mode Tutorial - Help | PyCharm]]
********* Use [[https://www.jetbrains.com/help/pycharm/using-ipython-notebook-with-product.html][IPython/Jupyter Notebook with PyCharm]]
*********** shows graphs mixed with code, like IPython/Jupyter notebook but in console, not browser
*********** [[https://confluence.jetbrains.com/display/PYH/Using+IPython+Notebook+with+PyCharm#UsingIPythonNotebookwithPyCharm-Writingformulae][can do symbolic calcs w/ rendered latex output]]
*********** [[https://www.jetbrains.com/help/pycharm/run-debug-configuration-jupyter-notebook.html][can run/debug Jupyter Notebook]]
********* X11 Setup (is slow, is it necessary for Scientific Mode)
          From: [[https://stackoverflow.com/questions/39803373/python-plotting-on-remote-server-using-pycharm][Python plotting on remote server using PyCharm - Stack Overflow]]
*********** Xserver on remote    
*********** Ximg on local (Windows, I guess) machine
*********** must set the usual environment variables
*********** is slow: 10s for image to show up (how fast was his connection?)
******* Remote debugging with PyCharm: works best w/ VNC?
********* Running PyCharm in normal mode on remote machine seems best, probably w/ VNC
*********** source code control is there
*********** less configuration hell
*********** VNC server/client seems better than X
************* get whole desktop, with all the linux tools
************* can interrupt w/o breaking process, run all night
********* Using Pycharm Remote Debugging Facilities: [[https://www.jetbrains.com/help/pycharm/remote-debugging.html][Remote Interpreter or Python Debug Server]]
*********** [[https://www.jetbrains.com/help/pycharm/remote-debugging-with-product.html#remote-interpreter][Remote Interpreter]] PyCharm Debugging (*not desirable*, no GIT)
************* [[https://www.jetbrains.com/help/pycharm/remote-debugging-with-product.html#remote-interpreter][Uses SSH/SFTP]]
************* [[https://www.jetbrains.com/help/pycharm/remote-debugging.html][Must configure]] a  a "remote interpreter": [[https://www.jetbrains.com/help/pycharm/configuring-remote-interpreters-via-ssh.html][Configuring Remote Interpreters via SSH]]
************* [[Remote Interpreter example with Tensorflow]]
************* *Bummer*: not git controlled. Must [[https://www.jetbrains.com/help/pycharm/remote-debugging-with-product.html#remote-interpreter][deploy code via SFTP]]
*********** Remote Python Debug Server PyCharm Debugging
********* Note: [[Jupyterlab]] is [[https://medium.com/@mukeshkumar_46704/encourage-you-to-switch-to-jupyter-lab-158d4225d114][claimed]] to be easier than PyCharm for remote running
******* Virtual environments and Pycharm
********* Warning: Pycharm .idea file in proj dir: has hardcoded Anaconda loc, not machine/OS indep.
******* Tensorflow/Cuda and Pycharm
********* LD_LIBRARY_PATH bug in PyCharm: [[https://github.com/tensorflow/tensorflow/issues/9530][PyCharm won't correctly import tensorflow]]
********* <<Remote Interpreter example with Tensorflow>>: [[https://medium.com/@erikhallstrm/work-remotely-with-pycharm-tensorflow-and-ssh-c60564be862d][Work remotely with PyCharm, TensorFlow and SSH]]
******* Jump to definition
        Put cursor on variable, function, method...
        ctrl+shift+I (definition window pops up)
        hit return in definition to jump to code

***** Atom
***** <<Spyder>>
******* <<Spyder Jupyter Notebooks>>
        Spyder can run  [[Jupyterlab]] (or Jupyter) Notebooks: 

        [[https://github.com/spyder-ide/spyder-notebook][spyder-ide/spyder-notebook: Jupyter notebook integration with Spyder]]

        However, as of Aug 2019, I couldn't get this to work.
 
***** [[vscode]]

*** [[Python install and package management]]
*** Mutual Information in Python
***** Kraskov-like MI in Python (see energytop.org) 
*** Probabilistic Programming in Python: [[https://pyro.ai/][Pyro]]

    See energytop.org for more on probabilistic programming

*** <<Python Deep Learning Software>>
***** <<TensorFlow>>
******* <<IWES Laptop TensorFlow install>>

        From conda console prompt 
        (from [[https://machinelearningmastery.com/setup-python-environment-machine-learning-deep-learning-anaconda/][here]] and also [[https://www.tensorflow.org/install/install_windows#installing_with_anaconda][official TensorFlow way]]):

        _Update scikit-learn Library_ (in anaconda prompt)
        conda update scikit-learn

        _Install Deep Learning Libraries_ (from here, on my SP4, no GPU/CUDA)

        conda create -n tensorflow python=3.6
        pip install --ignore-installed --upgrade tensorflow 

        activate tensorflow

        python
        import tensorflow as tf                              /just a test, in anaconda/
        hello = tf.constant('Hello, TensorFlow!')
        sess = tf.Session()
        print(sess.run(hello))      
        quit()

        deactivate tensorflow                               /exits anaconda too.../

********* StephanVogt-like: Anaconda
          --> phython 3.5.3
          --> tensorflow

          had something to do with pip install of tensorflow which used a DLL that wasn't updated for 3.6 yet

********* GPU install attempt ([[https://www.tensorflow.org/install/install_windows][Requirements]])
          o my work laptop has an NVIDIA GeForce 730M
          o NVIDIA says this [[https://developer.nvidia.com/cuda-gpus][is CUDA compatible]], w/ 3.0 Compute capability

******* <<My SP4 TensorFlow install>>
        mostly following [[https://www.tensorflow.org/install/install_windows][Installing TensorFlow on Windows  |  TensorFlow]]
        o install [[Windows Python]]

        From inside the anaconda-console

        o create tensorflow environment (necessary?  [[https://machinelearningmastery.com/setup-python-environment-machine-learning-deep-learning-anaconda/][This guy doesn't do it]])

        conda create -n tensorflow python=3.5 

        o Activate the conda environment by issuing the following command:

        activate tensorflow

        o Install the CPU-only version of TensorFlow (SP4 doesn't have right GPU)

        pip install --ignore-installed --upgrade tensorflow 

        (I installed the CPU only TF b/c I had problems with CUDA even on my    
        IWES machine, which I think I thought had the right GPU)

********* warning message when I ran the python [[https://www.tensorflow.org/install/install_windows][validation snippet]]

          2017-10-21 20:48:13.231634: W C:\tf_jenkins\home\workspace\rel-win\M\windows\PY\36\tensorflow\core\platform\cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.
          2017-10-21 20:48:13.233221: W C:\tf_jenkins\home\workspace\rel-win\M\windows\PY\36\tensorflow\core\platform\cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.

******* warning: "...TensorFlow binary was not compiled to use: AVX2"
        From [[https://github.com/tensorflow/tensorflow/issues/7778][here]], these are warnings.  Standard TG dist is generic, slower, doesn't used special CPU instructions.  But TF should still work

********* hiding warnings
          From [[https://github.com/tensorflow/tensorflow/issues/7778][here]]

          import os
          os.environ['TF_CPP_MIN_LOG_LEVEL']='2'
          import tensorflow as tf

          or if you're on a Unix system simply do export TF_CPP_MIN_LOG_LEVEL=2.

          TF_CPP_MIN_LOG_LEVEL is a TensorFlow environment variable responsible for the logs, to silence INFO logs set it to 1, to filter out WARNING 2 and to additionally silence ERROR logs (not recommended) set it to 3
      
********* building TF to use AVX commands on windows 10
          See [[https://github.com/faisalthaheem/tensorflow-windows][here]]
******* also [[Pytorch]]
***** <<Pytorch>>
******* Tutorials
********* [[https://pytorch.org/tutorials/beginner/deep_learning_60min_blitz.html][Deep Learning with PyTorch: A 60 Minute Blitz]]: links below video
******* also [[TensorFlow]]
******* <<Pytorch high level wrappers>> (like Keras for Tensorflow)
        From: [[https://neptune.ai/blog/model-training-libraries-pytorch-ecosystem][8 Creators and Core Contributors Talk About Their Model Training Libraries Fr...]]

*** <<Pandas>>
***** Dataframe display styling
      From: [[https://towardsdatascience.com/essential-techniques-to-style-pandas-dataframes-8796c74c9ff3][Essential Techniques to Style Pandas DataFrames]]
      From: [[https://pub.towardsai.net/improve-your-analytical-report-with-conditional-formatting-in-pandas-76039fd3ccb5][How To Improve Your Analytical Report With Conditional Formatting In Pandas]]

      *Cheatsheet*: [[https://miro.medium.com/max/1050/1*I-0S6V9yHWlFZUlJnIhz9w.png][Essential Techniques to Style pandas DataFrames]]
      
******* Display all columns (global option):
      
        pd.set_option("display.max_columns", None)

******* Display full width of each column e.g. when have long texts in them:

        pd.set_option("display.max_colwidth", None)

******* Saving & restoring global display options:

        See sutils.restore_print_opts() and related code
        (I should make general purpose sutil funcs for this)

********* TODO sutil funcs to save/restore jupyterlab/pandas/numpy print options

******* Shading by content, like in Excel

        _Highlight max and min_

          # highlight extrema down colums (default is axis=0), note chaining
          df.style.highlight_min(color = "red").highlight_max(color = "green") #

          # highlight max row value
          df.style.highlight_max(axis = 1))

        _Within range_

          dataframe.style.highlight_between(left, right

        _Nans_

          df.style.highlight_null(null_color = "yellow")

        _Min/Max/Missing_

          See: [[https://pub.towardsai.net/improve-your-analytical-report-with-conditional-formatting-in-pandas-76039fd3ccb5][How To Improve Your Analytical Report With Conditional Formatting In Pandas]]

        _Gradients_ w.r.t cell value

          df.style.background_gradient()

******* Shading only a subset

          df.style.background_gradient(subset = ["A", "D"]))

******* Hide index

          df.style.hide_index()
          
******* Format numbers/text in each cell

        # for clumns A, B, C, D
        df.style.format({"A" : "{:,.0f}",
                 "B" : "{:d} $",
                 "C" : "{:.3f}",
                 "D" : "{:.2f}"})

******* Background display properties for whole table, rows or cells

          df.style.set_properties(subset = ["C"],
                                  **{"background-color": "lightblue",  
                                  "color" : "white",
                                  "border" : "0.5px solid white"})

******* Foreground (number, text) properties based on function of cell value

        # make neg values red, non-neg green
        def custom_styling(val):
            color = "red" if val < 0 else "black"
            return f"color: {color}"

        df.style.applymap(custom_styling)

******* Fill cells with a bar indicating numeric value

        # magnitude
        df.style.bar(subset = ["A"], 
             color = "lightblue", 
             vmin = 0)

       # signed magnitude
       df.style.bar(subset = ["D"], 
                    align = "mid", 
                    color = ["salmon", "lightgreen"])\
         .set_properties(**{'border': '0.5px solid black'})
       
******* Styled dataframe exported to Excel

        # must install openpyxl to do this
        df.style.background_gradient(subset = ["D"], 
                             cmap = "RdYlGn", 
                             vmin = -1, 
                             vmax = 1)\
        .to_excel("styled.xlsx", engine = "openpyxl")
                 
***** [[Pandas Parallelization]]
***** Drop top level of multilevel column index
      From: [[https://stackoverflow.com/a/22233719/2591097][Pandas: drop a level from a multi-level column index?]]

      cols = pd.MultiIndex.from_tuples([("a", "b"), ("a", "c")])
      df = pd.DataFrame([[1,2], [3,4]], columns=cols)
      df
      df.columns = df.columns.droplevel(0)
      df
      
***** [[sklearn Column Transform of pandas dataframes]]
***** table styling, pandas
******* good: [[https://towardsdatascience.com/style-pandas-dataframe-like-a-master-6b02bf6468b0][Style Pandas Dataframe Like a Master]]
*** <<timestamps in python>>
    
    The ~Dateutil~ timestamp parser seems a good replacement for built-in python ~datetime~ parser, as it (mostly, I suppose) doesn't require you to specify a time string format.  Web commenters say that it can be slower than ~datetime~ but the delay was insignificant when I parsed my 2K entry energy.bib file.

        conda install -c anaconda python-dateutil

    The main format-guessing ~datetime~ alternatives seem to be:

    From: [[https://opensource.com/article/18/4/python-datetime-libraries][6 Python datetime libraries | Opensource.com]]
      Dateutil
      Arrow
      Moment
      Maya
      Delorean
      Freezegun

    From: [[https://stackabuse.com/converting-strings-to-datetime-in-python/][Converting Strings to datetime in Python]]

      Dateutil
      Maya
      Arrow

    From comments to the article above
******* [[https://github.com/sdispater/pendulum][GitHub - sdispater/pendulum: Python datetimes made easy]]
******* [[https://github.com/caronc/datetools][GitHub - caronc/datetools: Date/Time Manipulation plus and advanced cron-like...]]
***** <<datetime python built-in>>
******* <<pandas datetime index to a different time zone>>
********* <<non-naive pandas datetime index>>
          From: [[https://stackoverflow.com/a/22800199/2591097][python - Converting time zone pandas dataframe - Stack Overflow]]

          Assuming df.index and naive datetime timestamps, first make it utc and then convert.

          import pandas as pd
          import pytz

          index = pd.date_range('20140101 21:55', freq='15S', periods=5)
          df = pd.DataFrame(1, index=index, columns=['X'])

          eastern = pytz.timezone('US/Eastern')
          df.index = df.index.tz_localize(pytz.utc).tz_convert(eastern)

*********** also [[pytz timezone names]]

********* dataframe timestring column to datetime

          pd.to_datetime(df['TimestampUtc'])

******* <<pytz timezone names>>
        From: [[https://stackoverflow.com/a/13867319/2591097][python - Is there a list of Pytz Timezones? - Stack Overflow]]

        import pytz
        len(pytz.all_timezones) # long (583) list of all
        len(pytz.common_timezone) # slightly shorter (403) list of common

********* [[https://en.wikipedia.org/wiki/List_of_tz_database_time_zones][List of tz database time zones - Wikipedia]]
********* [[non-naive pandas datetime index]]

*** <<Powerpoint and Python>>
***** [[https://towardsdatascience.com/creating-presentations-with-python-3f5737824f61][Creating Presentations with Python]]
***** [[Powerpoint and Jupyterlab]]
***** also [[Programmatic PowerPoint]]
*** <<PDF processing in Python>>

    PyPDF2 seems to be the simplest one, based on the articles below.  But I haven't tried the others.

***** [[https://carolinamendozab.medium.com/nice-and-easy-way-to-extract-data-from-pdf-files-with-python-d71b58f43d04][How to extract data from PDF files with Python — nice and easy]]
***** [[https://medium.com/@umerfarooq_26378/python-for-pdf-ef0fac2808b0][Python for Pdf]] (many libraries, different and overlapping skills)
***** [[https://www.geeksforgeeks.org/working-with-pdf-files-in-python/][Working with PDF files in Python]]
***** [[https://levelup.gitconnected.com/modifying-pdf-files-using-python-64374fd0da2c][Modifying PDF Files Using Python]]
***** also [[org-roam topic & related note discovery]]
*** <<Python NLP libs>>
***** [[https://towardsdatascience.com/5-nlp-models-that-you-need-to-know-about-754594a3225b][5 NLP Models That You Need to Know About]]
***** [[https://towardsdatascience.com/6-nlp-techniques-every-data-scientist-should-know-7cdea012e5c3][6 NLP Techniques Every Data Scientist Should Know]]
***** [[Python Personal Knowldge Query]]
*** [[Python Personal Knowldge Query]]
*** combinations of stuff in lists with python

    and also avoiding deeply nested loops
    
***** itertools.product: All combinations of lists (list of lists)

    #+BEGIN_SRC python
      from itertools import product

      fruits = ["apple", "orange", "pear"]
      recipes = ["pie", "juice", "cake"]
      pies = ['crumble','tart']


      for fruit, recipe in product(fruits, recipes):
          print(fruit, recipe)

    #+END_SRC

    output:

      apple pie
      apple juice
      apple cake


    #+BEGIN_SRC python

      categories = [fruits, recipes, pies]

      for combo in product(*categories):
          print(combo)
          
    #+END_SRC

    output:

      ('apple', 'pie', 'crumble')
      ('apple', 'pie', 'tart')
      ('apple', 'juice', 'crumble')
   
***** itertools.combinations: limited combinations

      See sutil.py gencombos()
      
* Programming tools
*** diff/patch
    From: [[https://www.pair.com/support/kb/paircloud-diff-and-patch/][How to use diff and patch]]
    
    modify file1.htm with the changes described in patchfile.patch
    
    patch file1.html patchfile.patch
    
* <<Data Versioning>>

  The [[POC versioning Machine Learning pipeline]] looks pretty good.  Has DVC parameterization and Jupyter notebooks.  Worth looking into?

*** [[https://youtu.be/jkfh2PM5Sz8][Overview Talk]] re: MLflow, Git-LFS, DVC
*** [[https://databricks.com/blog/2018/06/05/introducing-mlflow-an-open-source-machine-learning-platform.html][MLflow: an Open Source Machine Learning Platform - The Databricks...]]
***** it's [[https://youtu.be/jkfh2PM5Sz8][like my ancient C++ prnvar]]: print statements are put in a log file
***** tracks performance metrics & ML models but not data versions or pipelines
*** Git-LFS (Git large file storage)
***** [[https://youtu.be/jkfh2PM5Sz8][Does]]: model vers, kinda dataset vers, but not pipelines or metrics
***** not great for huge files
***** also [[Git large file storage for test data]]
*** <<DVC data version control>>

    It's kinda cumbersome, as you have to manually declare dependencies between command line interfaced scripts (but see [[Simple Jupyter + DVC]]).  More importantly, it's not parallelizable ([[What's missing in DVC]]).

***** [[https://dvc.org/][DVC: Machine Learning Version Control System ]]
***** dvc.org: [[https://dvc.org/doc/understanding-dvc/resources][videos]]
******* [[https://www.youtube.com/watch?v=jkfh2PM5Sz8&feature=youtu.be][dvc versions]]: model, data, pipelines, ~metrics 
********* says MLflow not bad, hints that could help metrics
********* [[POC versioning Machine Learning pipeline]]: example of DVC+MLflow
******* [[https://www.youtube.com/watch?v=jkfh2PM5Sz8&feature=youtu.be][DS/ML not Agile?]] say final slides from dvc.org, need something different
********* more details [[https://www.youtube.com/watch?time_continue=201&v=BneW7jgB298][here]]
***** <<What's missing in DVC>>
******* [[https://github.com/iterative/dvc/issues/755][NOT PARALLELIZED]] (in Aug 2019, planned for future, though)
******* no automatic dependency detection
********* each dependency is a "-d <thing>" on the command line
********* intermediate don't determine dependencies, as far as I can tell
********* parameters aren't part of the data version
*********** [[POC versioning Machine Learning pipeline]] might help
******* no nice tools that show run status
******* no easy way to make a table of parms vs. perf metric
        [[https://dvc.org/doc/get-started/compare-experiments][dvc metrics show -T]] is pretty clunky
***** DVC installation
      From [[https://anaconda.org/conda-forge/dvc][Dvc :: Anaconda Cloud]]

      conda install -c conda-forge dvc
***** TRY [[https://dvc.org/doc/tutorial][DVC tutorial]]

      It's in C:\Users\Scott\OneDrive - Clean Power Research\Research\Re> 

      To activate 

      conda activate dvc_tutorial

***** [[Simple Jupyter + DVC]]
***** [[DAGsHub: "GitHub for DVC"]]
***** [[https://thesequence.substack.com/p/-guest-post-how-to-build-an-ml-platform?token=eyJ1c2VyX2lkIjoyOTA1NDQ4MiwicG9zdF9pZCI6NTA3NTY2OTYsIl8iOiJ6Lzg3UiIsImlhdCI6MTY0ODQ4Mjk0MiwiZXhwIjoxNjQ4NDg2NTQyLCJpc3MiOiJwdWItNTQzMDkiLCJzdWIiOiJwb3N0LXJlYWN0aW9uIn0.Gtu5194KcTAf8j_cH9skdaTwXefZy162sc32KBWw9co&s=r][How to Build an ML Platform from Scratch]]: uses [[DVC data version control]]
*** [[https://neptune.ai/][Neptune.ai | Metadata Store for MLOps]]
*** <<DAGsHub: "GitHub for DVC">>: : built on top of DVC

    DAGsHub is a GitHub-like repository for DVC data versioning.  A nice GUI, really nice graph showing DAG and maybe some other stuff.  Would be good for collaboration like GitHub is, but I'm not sure I need it, since as far as I can tell, anything that runs on it would run directly on my desktop, with no DAGsHub "install"

***** [[https://dagshub.com/docs/faq/][DAGsHub FAQ]]
***** Is labelled "beta"
***** only two commits, 4 months old, as of Aug 19
***** can [[https://dagshub.com/DAGsHub-Official/DAGsHub-Tutorial-MNIST][display your DAG]]: quite nice
***** [[Simple Jupyter + DVC]] example on DAGsHub but doesn't need DagsHub
***** [[https://dagshub.com/DAGsHub-Official/DAGsHub-Tutorial-MNIST][Pure Code Example]]
***** Many example notebooks: [[https://dagshub.com/explore/repos][Explore · DAGsHub]]
***** has [[https://dagshub.com/][free and commercial plan]]s (private repo: [[https://dagshub.com/docs/faq/#q-ok-but-i-like-github-and-thats-what-im-using-for-my-project-so-you-cant-help-me-right][free, <=2 collborators]])
***** uses Git and [[DVC data version control]]
 
*** [[https://qri.io/][qri:]] data versioning, IPFS, can transform w/ python-like language
***** "git style" version control
***** Transforms with "Python's cousin," Starlark
***** Based on [[https://techcrunch.com/2015/10/04/why-the-internet-needs-ipfs-before-its-too-late/][IPFS]], a distributed thing that could replace http
*** [[https://github.com/peopledoc/mlvt~ools][mlvtools: Public repository for versioning machine learnin...]]
*** [[RunRouter]]
*** [[Emacs/Git for experiment logging]] (git/emacs/org-mode)
*** [[sklearn model persistence]]
*** [[Versioning Jupyter Notebooks]] (by themselves)
*** [[Data versioning in Jupyter notebooks]]
*** [[Cookiecutter Data Science]]
*** <<d6t/d6tflow>> (data versioning and parallelization)
***** Jupyter: [[https://medium.com/analytics-vidhya/hands-on-tutorial-to-wrapping-your-scikit-learn-workflow-in-a-d6tflow-dag-3e4cca8d7479][Tutorial to Wrapping your Scikit-learn Workflow in a d6tflow DAG]]
***** [[https://www.evernote.com/l/AA2fQVM7WCpKs5ngc6O7n06xEGtTW0YR2NY/][4 Reasons Why Your Machine Learning Code is Probably Bad]]
***** see [[https://github.com/d6t/d6tflow][d6t/d6tflow: Python library for building highly effective data sci...]] 
***** can at least use AWS as online storage: [[https://github.com/d6t/d6tpipe][d6t/d6tpipe]]
***** Is freeware from company: [[https://www.databolt.tech/index-python-pro.html#flow][databolt.tech]]
*** <<SoS>>
***** Juptyer: [[https://vatlab.github.io/blog/post/sos-workflow-engine/][SoS: a cure to pipelineitis]]
***** author says it's easier to use in a Jupyter notebook
***** Article: [[https://vatlab.github.io/blog/post/sos-workflow-engine/][SoS: a cure to pipelineitis]]
***** video: [[https://www.youtube.com/watch?v=U75eKosFbp8][SoS: A polyglot notebook and workflow system]]
*** [[Gitpod]]
*** [[Dask can compute on graphs]]
*** [[https://thesequence.substack.com/p/-guest-post-how-to-build-an-ml-platform?token=eyJ1c2VyX2lkIjoyOTA1NDQ4MiwicG9zdF9pZCI6NTA3NTY2OTYsIl8iOiJ6Lzg3UiIsImlhdCI6MTY0ODQ4Mjk0MiwiZXhwIjoxNjQ4NDg2NTQyLCJpc3MiOiJwdWItNTQzMDkiLCJzdWIiOiJwb3N0LXJlYWN0aW9uIn0.Gtu5194KcTAf8j_cH9skdaTwXefZy162sc32KBWw9co&s=r][How to Build an ML Platform from Scratch]]: uses [[DVC data version control]]
*** also [[Parallelization in Python]]
* Cloud Computing
*** <<Hadoop>>
***** [[file:energy.bib::Bengfort16hdoopIntroDSbook][Bengfort & Kim 2016: Data Analytics Hadoop Intro Book]]
*** <<Amazon AWS/S3>>
***** Tutorials
******* Amazon re:invent [[https://mail.google.com/mail/u/0/#inbox/FMfcgxwKjTWcXDZQTPxgjGCQQpKnTKTl][conference prep email]]

***** Works with AWS
******* [[Ray]]
***** <<Sagemaker>>
******* Sam's list of Sagemaker/AWS tutorials
        https://aws.amazon.com/blogs/machine-learning/train-and-host-scikit-learn-models-in-amazon-sagemaker-by-building-a-scikit-docker-container/

https://aws.amazon.com/blogs/machine-learning/performing-batch-inference-with-tensorflow-serving-in-amazon-sagemaker/

https://aws.amazon.com/blogs/machine-learning/deploy-trained-keras-or-tensorflow-models-using-amazon-sagemaker/

https://aws.amazon.com/blogs/machine-learning/amazon-sagemaker-adds-scikit-learn-support/

******* [[Running vscode on Sagemaker]]

******* Sagemaker kernels
********* <<Sagemaker notebook kernels with specific python version>>
          From: [[https://awstip.com/how-to-use-a-newer-python-version-in-aws-sagemaker-notebook-1682a89625ef][How to use a newer python version in AWS Sagemaker Notebook]]

          After you [[Open a Sagemaker console]]:

            conda create -n tensorflow_python3_9 python=3.9
              If see message saying the shell isn't set up, [[https://stackoverflow.com/a/65183109/2591097][do this]]:
                   source ~/anaconda3/etc/profile.d/conda.sh

            conda activate tensorflow_python3_9

          In the sagemaker terminal, I just did:

            conda install tensorflow

          But to get a matching latest version of tensorflow on MS laptop, you
          may need to [[https://medium.com/analytics-vidhya/install-tensorflow-2-0-along-with-all-packages-on-anaconda-for-windows-10-and-ubuntu-86a89ba51983][use pip to get tensorflow 2.0 on Windows]]:

            pip install --upgrade pip
            pip install --upgrade tensorflow
            
            conda install pandas keras (and whatever else)

******* <<Open a Sagemaker console>>
        From: [[https://milesmurdocca.com/how-do-i-open-a-terminal-in-an-aws-sagemaker-instance/][How do I open a terminal in an AWS SageMaker instance?]]

********* Open the Amazon SageMaker console. Start an existing notebook or create a new notebook instance.
********* From the same console screen, open the Jupyter dashboard, and then choose the Files tab.
********* Choose New, and then choose Terminal. This will bring up a terminal window.

******* Get Sagemaker role
        From: [[https://docs.aws.amazon.com/sagemaker/latest/dg/sagemaker-roles.html][SageMaker Roles - Amazon SageMaker]]

        In online AWS sagemaker:
        
          import sagemaker
          sagemaker_session = sagemaker.Session()
          role = sagemaker.get_execution_role()

***** <<Docker Containers>>
******* excellent YouTube tutorial: [[https://www.youtube.com/watch?v=0oEsMwSxBsk][Containers? So What? Docker 101 Explained.]]
******* [[cite:Nust20dockerDS10rules][Nuest et al. 2020: Ten Simple Rules DS Containers]]
******* [[https://www.youtube.com/watch?v=8vXoMqWgbQQ][Top 8 Docker Best Practices for using Docker in Production]]
******* [[Installing Pyspark in a docker]]
******* <<Gitpod>>
********* [[https://www.gitpod.io/docs/][Introduction to Gitpod]]
********* builds/deletes/maintains programming environments like conda -- a docker++
********* [[https://www.gitpod.io/blog/bitbucket][Gitpod for Bitbucket]]
******* [[AWS serverless can run a container image]]
***** <<Serverless AWS>>
******* <<AWS serverless can run a container image>>
        From: [[https://aws.amazon.com/blogs/compute/python-3-9-runtime-now-available-in-aws-lambda/][Python 3.9 runtime now available in AWS Lambda]]
********* also [[Docker Containers]]
***** Reading AWS buckets 
******* [[https://s3browser.com/how-to-upload-and-download-files.aspx][S3 Browser]] (windows tool)
***** [[Running vscode on AWS EC2]]
*** ONNX model format & pipelines
    From: [[https://onnx.ai/about.html][ONNX | About]]

    scikit-learn-like pipelines, ONNX model storage format, pre-traine models, [[https://onnx.ai/supported-tools.html#buildModel][tons of frameworks supported]], e.g. [[Matlab]], Keras, PyTorgh, Tensorflow, XGBoost, scikit-learn, [[http://onnx.ai/sklearn-onnx/auto_tutorial/plot_gexternal_lightgbm_reg.html][LightGBM]]
    
*** also energytop.org: [[file:energytop.org::*<<Cloud Computing / MLops>>][Cloud Computing / MLops]]
* Android
*** Commandline
***** Termux app
      A linux-like terminal for an android phone
******* [[https://termux.com/help.html][Termux help]]
******* <<Termux and Keyboards>>
********* [[https://termux.com/hardware-keyboard.html][Using a hardware keyboard]] in Termux, shows its shortcuts
********* [[https://play.google.com/store/apps/details?id=com.apedroid.hwkeyboardhelper&hl=en][External Keyboard Helper App]] (buggy, it seems)
          A keyboard remapper So far (Dec, 2017), I've been able to swap capslock and control.  But this broke the keyboard's left alt key
********* Right Alt is AltGr; left Alt is "Alt" (from [[https://mail.google.com/_/scs/mail-static/_/js/k=gmail.main.en.gNJGSxrCYso.O/m=pds,pdl,pdit,m_i,pdt,t,it/am=dxfYA3L9QAAuZchBlEYQZv_nk0vLlTPm_z8HAFAFgCugvbkP6OMAAAAAAAAAAAAAAAAAAAAAC4pP/rt=h/d=1/rs=AHGWq9DANqMotdUI54oqiKtSINNfBwjgHg][here]])
********* Keyboard bug mapping [[https://mail.google.com/_/scs/mail-static/_/js/k=gmail.main.en.gNJGSxrCYso.O/m=pds,pdl,pdit,m_i,pdt,t,it/am=dxfYA3L9QAAuZchBlEYQZv_nk0vLlTPm_z8HAFAFgCugvbkP6OMAAAAAAAAAAAAAAAAAAAAAC4pP/rt=h/d=1/rs=AHGWq9DANqMotdUI54oqiKtSINNfBwjgHg][bug report]]
********* An [[https://www.howtogeek.com/175267/the-htg-guide-to-using-a-bluetooth-keyboard-with-your-android-device/][old list]] of Android keyboard shortcuts: partial, not totally right
********* [[https://play.google.com/store/apps/details?id=aws.apps.keyeventdisplay&hl=en][KeyEventDisplay]] app might work to see what keyboard is outputting
********* Manual for the [[1byone Bluetooth Keyboard]] I bought has more shortcuts
*** <<1byone Bluetooth Keyboard>>
***** Manual in [[https://mail.google.com/mail/u/0/?shva=1#inbox/1603c41a8b774fce][this email]] (with shortcuts)
***** Company site: [[https://www.1byone.com/Accessories/Wireless-Bluetooth-Keyboard/O0000-0714][1byone Foldable Bluetooth Keyboard]]
***** I [[https://mail.google.com/mail/u/0/?shva=1#search/1byone/16005b00e70e9b75][bought it]] for 26 EUR, $31 at the time.
***** See also [[Termux and Keyboards]]
*** [[https://www.urtech.ca/2016/02/solved-how-to-uninstall-intune-from-an-android-device-when-uninstall-is-greyed-out/][Removing Intune Company Portal App]]
* Browser config
*** Firefox
***** prevent adblockplus from blocking unformatted paste

      Ctl-shift-V is unformatted paste
      ABP uses this to bring up some kinda sidebar
      but this is changeable by editing [[https://adblockplus.org/en/preferences][hidden ABP preferences]]:

      about:config:
      delete "Accel Shift V" from
      extensions.adblockplus.sidebar_key
      (and restart FF)

***** getting rid of autoplay

      In May 2021, this works: [[https://support.mozilla.org/en-US/kb/block-autoplay][Allow or block media autoplay in Firefox]]

      menu --> settings --> Privacy & Security --> Autoplay
           --> Settings --> Block Audio and Video (default for all websites)
           
******* old wyas
********* [[http://superuser.com/questions/370246/stop-automatic-video-play-in-firefox][media.autoplay.default]]: replacement for media.autoplay.enabled

          Setting it to 2 works as intended on bloomberg.com, at least.  

*********** Type about:config in the browser's address bar and hit enter.
*********** Confirm that you will be careful if the notification comes up.
*********** Use the search at the top to find the preference media.autoplay.default.
*********** Set it to 1 (block by default) or 2 (prompt per domain).
********* [[http://superuser.com/questions/370246/stop-automatic-video-play-in-firefox][media.autoplay.enabled]]: doesn't work anymore
          Doesn't work as of FF version 63 (sometime around Oct. 2018).
*********** Type about:config in the browser's address bar and hit enter.
*********** Confirm that you will be careful if the notification comes up.
*********** Use the search at the top to find the preference media.autoplay.enabled.
*********** Double-click on it.
********* [[https://addons.mozilla.org/en-US/firefox/addon/flashblock/][Flashblock]]: blocks everything, but can whitelist: too much
********* [[http://www.softpedia.com/get/Internet/Internet-Applications-Addons/Mozilla-Extensions/Stop-Autoplay.shtml][Stop Autoplay]]: plugin
*********** doesn't stop some (all?) huffington post videos e.g. t[[http://www.huffingtonpost.com/2013/07/24/viking-jewelry-found-denmark-farm_n_3645016.html][his one]]
********* [[http://internet.wonderhowto.com/how-to/disable-annoying-autoplay-media-chrome-firefox-safari-and-internet-explorer-0139641/][about: config click to play]]: a bit annoying
          Annoying because have to click every time even if it wasn't
          autoplay.  Also, lot's of websites that don't even play video need
          to have an "activate flash" button clicked.

          *Firefox:* To enable it, type about:config into your URL bar, which should bring
          up a warning. After dismissing it, type plugins.click_to_play into
          the search bar, then right-click on it and select Toggle. After
          restarting Firefox, you should see the image above in place of
          videos.

          *Chrome*: the link also describes how to do it in chrome.
********* [[https://addons.mozilla.org/en-US/firefox/addon/noscript/][NoScript]]: nuclear option, stops all scripts
***** get rid of bogus search engines
******* Install [[https://addons.mozilla.org/en-US/firefox/addon/searchreset/][searchreset add-on]], which runs, cleans up, and uninstalles itself
***** change default search engine

      about:config
      edit browser.search.defaultenginename

***** disable built-in pdf reader (or change it)
      from [[https://support.mozilla.org/en-US/kb/disable-built-pdf-viewer-and-use-another-viewer][here]]:

      1. Click hamburger menu
      2. Settings
      3. Applications panel.
      4. Find Portable Document Format (PDF) in the list and click on it to select it.
      5. Click on the drop-down arrow in the Action column for the above
         entry and select the PDF viewer you wish to use or not

***** switch between tabs like alt-Tab does in windows, with icon display
      From: [[https://support.mozilla.org/en-US/questions/955292][How do I toggle between Tabs in Firefox like Windows Alt+Tab?]]

      I decided to disable this because of the 6 window limit.  Then standard Firefox, cycles through /all/ tabs.

      _Limitations_

      * only cycles forward
      * only 6 tabs shown

      The below does the same thing as clicking options-->tabls-->ctrl-tab cycles... 

      (1) In a new tab, type or paste about:config in the address bar and press Enter. Click the button promising to be careful.

      (2) In the filter box, type or paste ctrl and pause while the list is filtered

      (3) Double-click browser.ctrlTab.previews to set its value to true.

***** Duplicate tab
******* middle or ctrl-click on the Reload Button (circular arrow)
******* ctrl-click on tab and drag

***** turn off page search fail bleep

      Get rid of bleeping sound when Ctrl-F doesn't find something on a web page:

      about:config (in URL window)
      accessibility.typeaheadfind.enablesound
      set to false

*** <<Google Search>>
***** get rid of annoying pdf url mangling

      Note: JabRef, as of R2.11.b2 can unmangle google links if you paste
      them into the URL spot (is this still true, as of 2020?)

      *Solution:* only one I've found is to search for the same thing in
      bing.com, which doesn't mangle URL's.

      From [[http://superuser.com/questions/117974/google-annoying-url-mangle][here]]:

      - can also turn off tracking in web history page:

        Open your Web History page, sign in, then click "Pause" in the left
        sidebar. Tracking will be disabled. (Optionally also remove all
        items.)

        but this doesn't work for sharpleaf.

      - Firefox greasmonkey script (used to work in chrome, doesn't now)

***** [[Google Search in Edge right context menu]]
*** Google Chrome
    <<Google Chrome>>
***** make pdf files open with acroread on ubuntu
      /doesn't work yet/
      supposedly uses
      xdg-open
      to open pdf files.  Cand see this will do:
      xdg-open /home/scot/Downloads/zoo-quickref.pdf
      can see what it's set to:
      xdg-mime query default application/pdf
      result: evince.desktop
      supposed to be able to set it w/ Nautilus (right click, properties,
      open with, and set to acroread).  This allows you to open files w/
      acroread via nautilus but doesn't change xdg-mime
      Setting xdg-mime.  This is supposed to work:
      xdg-mime default AdobeReader.desktop application/pdf
      and it does set it:
      xdg-mime query default application/pdf
      result: AdobeReader.desktop
      but xdg-open still uses xpdf.  These also _fail_:
      xdg-mime default acroread application/pdf
      (error: xdg-mime: malformed argument 'acroread', expected *.desktop)

      xdg-mime default acroread.desktop application/pdf
      (still uses xpdf)

***** turning off opening of pdf's inside of chrome
      type
      about:plugins
      in the address bar.
      Then disable the chrome pdf viewer
***** install on Ubuntu (DTU cluster)

      download .deb package from [[http://www.google.com/chrome/eula.html?platform%3Dlinux][here]]

      then, from [[http://groups.google.com/a/chromium.org/group/chromium-discuss/browse_thread/thread/66ffb36b97380996][here]]:

      ar x google-chrome-stable_current_amd64.deb
      unlzma < data.tar.lzma | tar -x

      this runs it:

      opt/google/chrome/google-chrome

***** offline gmail and calendar
******* [[https://mail.google.com/support/bin/answer.py?hl%3Den&answer%3D1306847][install]]
******* [[http://www.quora.com/How-to-uninstall-Offline-Google-Mail-from-Chrome-browser][uninstall]]
********* app

          When you are at the new tab page just right click on the offline
          gmail app icon and select uninstall on the context
          manual.

          Note: [[https://mail.google.com/support/bin/answer.py?hl%3Den&answer%3D1311383][google has different uninstall instructions]]

********* data

          open a new tab, go to chrome://appcache-internals and remove the
          two manifests that start with
          https://mail.google.com/mail/mu/. This will remove all the offline
          emails.
*** Internet Explorer
***** [[http://internet.wonderhowto.com/how-to/disable-annoying-autoplay-media-chrome-firefox-safari-and-internet-explorer-0139641/][stop flash autoplay]]
*** Edge
***** <<Google Search in Edge right context menu>>

      Two hacks:
******* I did this:  [[https://github.com/bam/edge-contextMenuSearch][bam/edge-contextMenuSearch: Extension for MS Edge browser to provide...]]

        Have to reenable this every time you start Edge (a popup appears on the bottom of the browser, telling you that it has shut this extension off.  You must click that to turn it back on).  This seems to be [[https://docs.microsoft.com/en-us/microsoft-edge/extensions/guides/adding-and-removing-extensions][an unavoidable Microsoft security constraint]].

        The guy stopped supporting this extension on April 18, 2018.  Says that Edge now has this functionality.  But I don't see that ([[https://github.com/bam/edge-contextMenuSearch/issues/15][my bug report]])

        Must enable developer apps for the browser, which I don't love.

        Some instructions [[https://winaero.com/blog/search-selected-text-in-google-from-context-menu-in-edge/][here]].  

        I works but then I think this fails if you later remove the extensions downloaded folder...  So you have to keep it around.  Maybe have to keep the developer configuration settings too.

        And then it stopped working entirely.

******* [[https://github.com/hichamboushaba/Right-Click-Search-for-Microsoft-Edge][hichamboushaba/Right-Click-Search-for-Microsoft-Edge: Context search...]]

        Complicated, and you have to enable developer apps for the whole machine.

        But maybe it works?

* Anki
  (see german.org)
* Ruby
*** [[matlab-ruby]]
***** install instructions
******* Mac
        
        sudo gem install matlab-ruby -- --with-matlab-include=/Applications/MATLAB_R2008a/extern/include/ \
        --with-matlab-lib=/Applications/MATLAB_R2008a/bin/maci

        *HOWEVER*
        
        My test code, [[file:~/lib/ruby/test/matlab-ruby-test.rb]], gets this error message:
        
        matlab-ruby-test.rb
        /opt/local/lib/ruby/gems/1.8/gems/matlab-ruby-2.0.3/lib/matlab/engine.rb:104:in `load_driver': no driver for matlab found (RuntimeError)
	from /opt/local/lib/ruby/gems/1.8/gems/matlab-ruby-2.0.3/lib/matlab/engine.rb:34:in `initialize'
	from matlab-ruby-test.rb:7:in `new'
	from matlab-ruby-test.rb:7

*** [[Ruby in Emacs]]
*** [[http://www.rubular.com/][rubular]]
*** class docs
***** [[http://www.ruby-doc.org/core/classes/Array.html#M002197][Array]]
***** [[http://www.ruby-doc.org/core/classes/Hash.html#M002907][Hash]]
***** [[http://www.ruby-doc.org/core/classes/String.html#M000809][String]]
***** [[http://www.ruby-doc.org/core/classes/Time.html][Time]]
***** [[http://www.ruby-doc.org/core/classes/Enumerable.html][Enumerable]]
***** [[http://www.ruby-doc.org/core/classes/Range.html][Range]]
***** [[http://www.ruby-doc.org/core/classes/FileUtils.html][FileUtils]]
***** [[file::ftoolshttp:/www.ruby-doc.org/core/classes/File.html][File::ftools]]
* Printing
*** encscript

    2 column landscape --> file tmp.pdf

    enscript -2r -j file.txt -p - | ps2pdf - tmp.pdf
* <<Linux/Unix>>
*** avoid hard coded paths @ top of shell script
    (was a pain @ SSLI, w/ #!/usr/bin/nikola3.2/perl, etc.)

    From [[http://whitescreen.nicolaas.net/programming/windows-shebangs][here]]:

    A clever workaround?

    The problem was recognised by Unix experts, and in some scripts you
    will see this instead:

    #! /usr/bin/env perl -w

    Here, the full path to perl isn’t specifed. So what is /usr/bin/env?
    It is not a program that knows how to interpret a language specified
    in its second parameter; it just runs all its arguments as a command
    in a copy of the environment. In other words, it runs

    perl -w

    in a new shell. And since this new environment will just look up perl
    in the path, this gets around the requirement that perl gets
    specified with a full path. It exchanges it for the requirement that
    /usr/bin/env exists, of course, but that usually does. Except that on
    some systems it doesn’t, so this workaround is not perfect
*** print a range of lines from a file
    to print lines 10 through 20:

    sed -n '10,20p' <filename>
    or
    awk 'NR>=10&&NR<=20' <filename>

    to skip the first 10 lines and print to the end

    awk 'NR>=10' <filename>o

*** wget
***** get all the pdf's on a page

      wget blah blah blah, fill this in some time

***** [[http://www.thegeekstuff.com/2010/07/wget-connection-refused-error/][How to Fix wget Connection Refused Error when I’m behind a Proxy]]
      <<Proxy environment variable for emacs, wget, anki, and others>>
      export http_proxy='10.13.13.5:3128'

      Then run wget
*** [[Linux on Windows]]
* Google
*** Google Tasks
***** keyboard shortcuts
******* nice [[http://gigaom.com/collaboration/productivity-tip-learn-the-keyboard-shortcuts-in-google-tasks/][summary]] (but is 2009)

        Tab: Moves the current task to the right (makes the task a sub-task).
        Shift+Tab: Moves the task to the left.
        Ctrl (Win)/Cmd (Mac) + Up/Down: Moves the task up or down the list.
        Shift + Enter: Edits the current task.
        Alt + Enter: Marks a task as complete (will also mark a completed task as incomplete).
        Alt + Shift + Enter: Removes completed task from the list.
        Esc: Closes Tasks.
        Shift + Esc: Switches focus from Tasks to Gmail.

******* [[Gmail keyboard shortcuts]] also list them
******* shortcuts scattered across google docs
********* [[http://www.google.com/support/calendar/bin/answer.py?answer%3D144246][Create a TODO list]]
********* [[http://www.google.com/support/calendar/bin/answer.py?hl%3Den&answer%3D146986&topic%3D1672528][About Tasks]]
*** <<Gmail>>
***** <<Gmail keyboard shortcuts>>
******* [[http://www.shortcutworld.com/en/win/Gmail.html][shortcut world]]
******* [[http://email.about.com/od/gmailtips/qt/Use_Gmail_Keyboard_Shortcuts.htm][How to Use Gmail Keyboard Shortcuts]]
******* [[https://www.pcworld.com/article/3604656/how-to-clean-up-your-gmail-inbox-by-quickly-deleting-old-email.html][How to clean up your Gmail inbox by quickly deleting old email]]
*** avoid google redirect to local search

    in chrome address bar, type

    www.google.com/ncr

    in firefox, only need to type www.google.com/ncr once and it
    [[http://www.maketecheasier.com/default-your-search-to-googlecom-in-firefox/][remembers this choice via a cookie]]

    (could chrome do the same, or do I always need to modify its
    search engine list (hard to do in FF))

*** Google Earth
***** [[http://code.google.com/apis/kml/documentation/kmlreference.html][KML reference]]
***** [[http://code.google.com/apis/kml/documentation/kmlreference.html#colorstyle][ColorStyle]] (meaning of hex colors)
******* to hex digits (00-ff) for each of ABGR (alpha,blue,green,red)
******* [[http://www.sgrillo.net/kml_color/][kml color converter]] (freeware on your PC)
******* [[http://www.colorschemer.com/online.html][Color Schemer Online]]
*** Google Maps/Earth/Footprints
***** How to easily mark places on phone and show them on google maps

      - google earth and read and export kmz's so could edit
      - HTC footprints exports kmz, can send multiple ways e.g. dropbox
        also includes the picture and what I wrote.  Can see nots in Google
        Earth and can do some navigation there.
      - [[http://maps.google.com/support/bin/answer.py?hl%3Den&answer%3D41136][google maps can display kmz]] based on a public url
      - on a windows phone, some guy was able to [[http://www.davidmillington.net/news/index.php/2010/05/06/htc-hd2-footprints-and-google-maps-integration][export directly to google maps]]
      - google tracks [[http://androidforums.com/htc-droid-eris/32119-store-point-google-maps.html][stores path even w/o data connection]] (comments), can export kmz
      - there's some kind of [[http://blog.gisuser.com/2008/12/16/first-look-at-google-mymaps-editor-for-android-on-g1/][my maps editor]] for google maps

***** [[http://choonchernlim.com/kmlcsv/][kml to csv converter]]
*** searching for special symbols

    For example, how to find out what /<!-- --!>/ means in html...

    Google doesn't do this, but www.symbolhound.com can [[http://symbolhound.com/?q%3D%253C%2521--%2B--%2521%253E%2Bhtml%2Btutorial][handle]] it.
*** [[Google Search]]
*** [[Google Chrome]]
*** [[https://developers.google.com/speed/public-dns/][Google Public DNS]]

    This was too complicated so I didn't do it, but maybe it would help
    mysterious dropouts on my mobile broadband connection.

***** [[https://developers.google.com/speed/public-dns/docs/using][setup]] on Windows 7

      Go the Control Panel.

      Click Network and Internet, then Network and Sharing Center, and click
      Change adapter settings.

      Select the connection for which you want to configure Google Public
      DNS. For example:

      To change the settings for an Ethernet connection, right-click Local Area
      Connection, and click Properties.

      To change the settings for a wireless connection, right-click Wireless
      Network Connection, and click Properties.

      If you are prompted for an administrator password or confirmation, type the
      password or provide confirmation.

      Select the Networking tab. Under This connection uses the following items,
      select Internet Protocol Version 4 (TCP/IPv4) or Internet Protocol Version
      6 (TCP/IPv6) and then click Properties.

      Click Advanced and select the DNS tab. If there are any DNS server IP
      addresses listed there, write them down for future reference, and remove
      them from this window.

      Click OK.

      Select Use the following DNS server addresses. If there are any IP
      addresses listed in the Preferred DNS server or Alternate DNS server, write
      them down for future reference.

      Replace those addresses with the IP addresses of the Google DNS servers:
      For IPv4: 8.8.8.8 and/or 8.8.4.4.
      For IPv6: 2001:4860:4860::8888 and/or 2001:4860:4860::8844

      Restart the connection you selected in step 3.

      Test that your setup is working correctly; see Testing your new settings
      below.

      Repeat the procedure for additional network connections you want to change.
* Drawing Tools
*** [[http://creately.com/][Creately]]
    I'm on the "private beta waiting list", 7/15/09

*** [[http://www.gliffy.com][gliffy]]
    I'm signed up but there's an annoying upgrade box partly obscuring
    lower RHS of drawing.  Not too bad, though.
* MoinMoin
*** [[http://moinmo.in/SpecialCharacters][Special Symbols]]
*** and emacs org-mode
    <<MoinMoin emacs>>

    org mode --> html --> moinmoin

    http://toolserver.org/~diberri/cgi-bin/html2wiki/index.cgi

    could also use org mode generic export
* PostGres

  python manage.py showmigrations
  
* MySQL
*** good Ruby [[http://www.kitebird.com/articles/ruby-mysql.html][mysql howto]]
*** getting [[proj/regime/][names of databases/tables/columns]]
    SHOW databases;
    SHOW tables FROM <database_name>
    SHOW columns FROM <table_name>
*** [[Matlab MySQL Database Connector]]
*** [[http://code.google.com/p/sqldf/][sqldf]]: R language SQL connector
*** help command
    mysql -h <dbname> -p (use usual pwd)
*** mysql browser
    GUI w/ both Linux and Windows versions, so learn just one
***** from: [[http://dev.mysql.com/downloads/gui-tools/5.0.html][MySQL GUI download page]]
***** [[http://mzanfardino.wordpress.com/2008/10/23/access-mysql-with-mysql-query-browser-over-ssh-tunnel/][setting up ssh tunnel]]
* VPN
*** [[https://thevpn.guru/youtube-tv-outside-us-unblocked][How to Watch Youtube TV outside USA - The VPN Guru]]
***** recommends buying VPN
***** has <<instructions for Chrome>>
*** [[https://www.hotspotshield.com/resources/watch-saturday-night-live-clips-on-youtube-without-restrictions/#][How to Watch ‘Saturday Night Live’ Clips on YouTube Without Any Restrictions]]
*** 2nd best in [[http://www.techradar.com/news/the-best-free-vpn][TechRadar Review]], Free, 10GB/mo: [[https://windscribe.com/download][Windscribe]]
***** also has deal on 2 year subs. w/ TR coupon in article
***** Works on SNL links if I set it to "US West" I did the [[instructions for Chrome]], not sure if that was necessary.
*** Pasting a VPN on desktop/taskbar/start menu
***** VPN connection on Network slideout (usually wifi symbol) taskbar button

      After you've created a VPN connection, it shows up on the right slideout bar, when you click the network taskbar button.

      Click on it, and it will make the VPN connection.

***** VPN settings on destop shortcut (general, not a specific connection)
      From: [[https://www.computerworld.com/article/3218116/how-to-make-shortcuts-to-windows-10-settings-on-your-desktop.html][How to make shortcuts to Windows 10 settings on your Desktop]]

      o right click on desktop --> Shortcut
      o paste ms-settings:network-vpn as the location
      o can change the link name too, if you want

      See the web page for many other Settings shortcut codes
***** VPN connection on taskbar
******* [[https://vpnmyway.wordpress.com/version-history-download/][VPNMyWay is supposed to put the connection on the taskbar]]
* <<MacOS>>
*** Package manager for MacOS: use HomeBrew Cask

    Should install [[Homebrew]].
    
***** <<Homebrew>>

        [[https://brew.sh/][Homebrew]] was rated the [[https://www.slant.co/versus/1588/1674/~macports_vs_homebrew][best]] package manager, with the [[https://cask.readthedocs.io/en/latest/guide/installation.html][Cask]] extension as [[https://www.slant.co/topics/511/~best-mac-package-managers][second best]] is needed to [[https://www.cprime.com/resources/blog/docker-on-mac-with-homebrew-a-step-by-step-tutorial/][install grahpical applications, like docker]].  Cask is [[https://github.com/Homebrew/homebrew-cask][installed along with Homebrew]].

    _Install instructions_ including requirex xcode install

      [[https://www.digitalocean.com/community/tutorials/how-to-install-and-use-homebrew-on-macos][How To Install and Use Homebrew on macOS]]

    Also, remove tracking analytics:

      [[https://www.cyberciti.biz/faq/how-to-install-homebrew-on-macos-package-manager/][How to install Homebrew on macOS (brew command) - nixCraft]]


    Update brew and cask:

      brew update

    Upgrade all installed packages (runs brew update 1st):

      brew upgrade      

***** [[http://www.macports.org/][MacPorts]]

      sudo port install <name of ported package>

      The list of ports is [[http://www.macports.org/ports.php][here]].

      Upgrading installed ports

      sudo port upgrade installed

      Updating list of available ports:

      sudo port -d sync

      Updating ports itself

      sudo port -v selfupdate

******* [[http://trac.macports.org/wiki/ProblemHotlist][what do do if port fetch fails]]

        - find the distfile somewhere on the web
        - save it to: /opt/local/var/macports/distfiles/<portname>
          (for rb-* this is /opt/local/var/macports/distfiles/ruby)
        - /but then it doesn't say what to do with it!/  MacPorts bug 19014
          [[message://056.157f3eb3631ebf4166a7945ce91f1dc3@macports.org][{MacPorts} #19014: rb-rake fetch fails; problem hotlist incomplete]]
******* MacOS port packages I've installed
        - cscope cscope was already in /usr/bin; I was trying to get
          cscope-indexer (needed by xcscope.el), which I eventually downloaded
          from [[http://www.opensource.apple.com/darwinsource/WWDC2003/cscope-5/cscope/contrib/xcscope/cscope-indexer][here]] and put in my ~/bin.
        - boost
*** <<Install MS Office and MS Fonts on MacOS>>
    From: [[https://www.linickx.com/osx-how-to-install-the-microsoft-fonts][OSX: How to install the Microsoft Fonts]]

    o Install [[Homebrew]]
    o Install Microsoft Office

      brew cask install microsoft-office
      
    o Copy Word fonts to the right MacOS  directory:
      From: [[https://apple.stackexchange.com/a/305441][macos - Where can I find default Microsoft fonts Calibri, Cambria?]]

      mkdir ~/Library/Fonts
      
      Copy to the dir above, all the fonts in:

      /Applications/Microsoft Word.app/Contents/Resources/DFonts
      
*** <<Keyboard remapping on MacOS>>

    _The Problems_
    
    Home/end pgup/pgdown and other keys are missing on the Mac.  [[https://support.apple.com/guide/mac-help/windows-keys-on-a-mac-keyboard-cpmh0152/mac][Some can be duplicated with Mac keyboard combinations]] (doesn't list pgup/pgdown but in 2015, these were [[https://osxdaily.com/2015/07/07/page-up-page-down-mac-keyboard/][Fn+up and Fn+down]]).  Also [[https://superuser.com/a/132722][insert is Fn+return]].

    _The Solutions_
    
    The [[Built-in MacOS shorcuts remapper]] is pretty good.

    [[Touch bar customizing]] might help.  It and maybe [[https://support.apple.com/guide/mac-help/zoom-in-on-the-touch-bar-mchl090bb3ee/11.0/mac/11.0][zooming]] would help somehow?

***** <<Built-in MacOS shorcuts remapper>>
      From: [[https://apple.stackexchange.com/a/98220/424106][Ctrl key on Microsoft keyboard does not map to Mac's command]]

         System Preferences > Keyboard > Keyboard Shortcuts > Application Shortcuts > All Applications

         Click + to add a key
         Click - do delete one

         Can also make this application specific.

         But for some reason, Ctrl+F won't map to search in FireFox
         
***** <<Default MacOS keyboard shortcuts>>
******* [[https://support.apple.com/en-us/HT201236][Mac keyboard shortcuts - Apple Support]]
******* [[https://www.digitaltrends.com/computing/mac-keyboard-shortcuts/][The Best Mac Keyboard Shortcuts for 2021]]
******* [[https://www.computerworld.com/article/3023544/30-keyboard-shortcuts-mac-users-need-to-know.html][30 keyboard shortcuts Mac users need to know]]
***** TRY <<Windows / MacOS keyboard correspondence>>
      From: [[https://support.apple.com/guide/mac-help/windows-keys-on-a-mac-keyboard-cpmh0152/mac][Windows keys on a Mac keyboard - Apple Support]]
            [[https://9to5mac.com/2016/03/17/how-to-remap-windows-keyboard-buttons-match-mac-layout/][How-To: Remap Windows keyboards to match the Mac keyboard layout]]

      *Keyboard Function*
      | Windows key      | Mac key                                 | MacOS function                                                                                                                                                                     |
      |------------------+-----------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
      | Del              | Del, Fn-Delete                          | Deletes the character to the right. On Mac notebook computers, press Fn-Delete.                                                                                                    |
      | Alt              | Option                                  | Enters special characters, such as é.                                                                                                                                              |
      | Control, Windows | Command                                 | Performs actions or shortcuts. For example, pressing Command-S usually saves a document or file.                                                                                   |
      | Home, End        | Command-Left Arrow, Command-Right Arrow | On the Mac, use the Command and arrow keys to go to the beginning or end of the current line, and use the Home and End keys to go to the beginning or end of the current document. |
      | Num Lock         | Num LockShift-Clear                     | In some apps, controls whether pressing keys in the numeric keypad enters numbers or moves the cursor.                                                                             |
      | Scroll Lock      | Control-F14 (maybe press & hold the Fn) | In some apps, controls whether pressing the arrow keys moves the cursor or scrolls in a window.                                                                                    |
      | PrntScrn / Win+S | Shift-Command-3,4,5                     | Takes pictures of the screen. Shift-Command-3 takes a picture of the entire screen. Shift-Command-4 takes a picture of the part of the screen you select.                          |
      Also [[Screen snipping (screenshots) on MacOS]]
      
      *Physical location of MacOS keys on external Windows keyboards (default)*
      | OS                     |          |            |            |
      |------------------------+----------+------------+------------|
      | Macintosh keyboard     | ctrl (^) | opt (-\_)  | cmd (⌘)    |
      | Windows Logic keyboard | ctrl (^) | cmd (⌘)    | opt (-\_ ) |
      | Windows Mini keyboard  | ctrl (^) | opt (-\_ ) | cmd (⌘)    |

      Need to swap these with Karabiner.  Swapping Mac keyboard
      ctrl/caps also does it for the Logic and mini windows keyboards.
      On the mini, must separately swap opt and cmd.

******* _Karabiner Elements PC-style mapping bug_
********* ctrl-x gets mapped to Mx ([[https://github.com/pqrs-org/Karabiner-Elements/issues/2789][my bug report]] on this and other bugs)  
********* ctrl messup happens regardless of ctrl <--> capslock switching or whether cmd <--> opt on G620 windows keyboard
********* Only happens in emacs; ctrl-f, ctrl-z still works like ctrl-f, etc. in Firefox, etc.
********* what key is meta?
          native MacOS: Alt=Meta=Command
          My Karabiner reordering: Cmd <--> Opt

          SO, emacs thinks it's getting an Opt key?

          Why?  I'm swapping ctrl with capslock; nothing with cmd or opt.
                ALSO: both left and right controls get mapped to meta, even though in Karabiner, I'm leaving the right control key untouched (but it does get mapped to capslock w/o Karabiner, using MacOS remapper)

          What if I remove the ctrl/caplock switch in karabiner?
            The ctrl key (unmapped) gets mapped to Meta

          What if I remove all "complex" PC-style mappings?

            THEN: ctrl key not mapped to meta

          SO: *bug must be in one of the Karabiner complex PC-style mappings*

          SO TEST:  Add them all, delete them one-by one until the problem disappears (can add back control/capsloc switching, since that didn't matter)

          *Could it be?*  Caps Lock to Escape, enable Caps Lock when held

{
  "title": "Caps Lock to Escape, enable Caps Lock when held",
  "rules": [
    {
      "description": "Caps Lock to Escape on single press, Caps Lock on press and hold.",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "caps_lock",
            "modifiers": {
              "optional": [
                "any"
              ]
            }
          },
          "to": [
            {
              "key_code": "escape"
            }
          ],


          *OR* Ctrl Key → Hyper Key (⌃⌥⇧⌘) 

          
      
******* Match MacOS physcial ordering on Windows: swap cmd and opt ()
******* Nice Emacs: swap ctrl/capslock on both MacOS and Windows keyboards
******* TRY Alt and Windows key: determine best MacBook internal key mapping to match windows, then map Windows external keyboard to match
******* TRY [[https://ke-complex-modifications.pqrs.org/][Karabiner PC-Style Shorcuts mapping complex modification]]
***** Which MacBook Pro keys to remap?
    
    [[https://i.insider.com/5dcb0d8f7eece504052a2728?width=1300&format=jpeg&auto=webp][Picture of MacBook Pro 16 keyboard]]

    *Question:* do macbook keymappings mess up external keyboard
    mappings.  If so, only use touchpad to remap?

    [[https://appuals.com/page-up-and-page-down-on-a-mac-os-x/][MacBook page up/down keys]]
    | Full Keyboard    | MacBook Keyboard     | Action                  |
    |                  |                      |                         |
    |------------------+----------------------+-------------------------|
    | Page Up          | fn-Up Arrow          | Move screen up          |
    | Page Down        | fn-Down Arrow        | Move screen down        |
    | Option-Page Up   | fn-Option-Up Arrow   | Move cursor/screen up   |
    | Option-Page Down | fn-Option-Down Arrow | Move cursor/screen down |


    [[https://www.lifewire.com/what-are-windows-keyboard-equivalents-to-mac-2260203][Default Windows Keyboard Equivalents for the Mac's Special Keys]]
    | Default Mac Key      | Windows Key  | my comment                                      |   |
    |----------------------+--------------+-------------------------------------------------+---|
    | Control              | Ctrl         | caplock swap since same as Windows              |   |
    | Option (\-)          | Alt          | swap? 1 @ Windows Win; 2 @ Windows Context?     |   |
    | command (cloverleaf) | windows/ctrl | mix of  alt and ctrl, cut/paste are mapped here |   |
    | Delete               | Backspace    | OK                                              |   |
    | Return               | Enter        | OK                                              |   |
    | [[https://www.cnet.com/how-to/10-mac-shortcuts-you-need-to-know/][Fn+Delete]]            | Del          | OK                                              |   |
    | [[https://www.cnet.com/how-to/two-mac-keyboard-shortcuts-for-missing-home-and-end-keys/][Fn+left]]              | Home         | Touchbar?                                       |   |
    | [[https://www.cnet.com/how-to/two-mac-keyboard-shortcuts-for-missing-home-and-end-keys/][Fn+right]]             | End          | Touchbar?                                       |   |
    | [[https://www.cnet.com/how-to/two-mac-keyboard-shortcuts-for-missing-home-and-end-keys/][Cmd+up]]               | Ctrl+home    | Touchbar?                                       |   |
    | [[https://www.cnet.com/how-to/two-mac-keyboard-shortcuts-for-missing-home-and-end-keys/][Cmd+down]]             | Ctrl+end     | Touchbar?                                       |   |


    *OR*: [[https://9to5mac.com/2016/03/17/how-to-remap-windows-keyboard-buttons-match-mac-layout/][How-To: Remap Windows keyboards to match the Mac keyboard layout]]
    
***** control/capslock swap: can do this w/ [[https://coderwall.com/p/cq_lkg/remapping-caps-lock-key-to-something-more-natural-on-mac-os-x][built-in MacOS GUI]] (also with Karabiner).  USB keyboard mapping can be changed ony when it's plugged in.
***** [[https://karabiner-elements.pqrs.org/docs/][Karbiner Elements]] was the [[https://www.slant.co/topics/523/viewpoints/49/~best-power-user-tools-for-macos~karabiner][top rated keyboard mapper]] in MacOS powertools.

      I ended up not using Karabiner b/c the combination of (free &
      simple) [[Rectangle]] and built-in MacOS keyboard remapping, handled
      control/capslock and window snapping shortcuts just fine.

      But, to install Karabiner:
      
      brew install --cask karabiner-elements
      
***** home/end pgup/pgdown remapping
******* Starry Hope's home/end pgup/pgdown ideas (from 2006)

        Can remap to what he thinks is the right thing either manually or w/ a script he wrote.  But I'm not sure if it still on MacOS Catalina, or if the mapping his appropriate for a MacBook Pro keyboard.
        
******* manual config edits
        http://www.starryhope.com/tech/2006/mac-os-x-home-and-end-keys/
        http://lifehacker.com/software/keyboard/mac-switchers-tip--remap-the-home-and-end-keys-225873.php
******* keyfixer app
********* [[http://www.starryhope.com/tech/2006/mac-os-x-home-and-end-keys/][keyfixer for MacOS]]
********* [[http://www.starryhope.com/tech/2007/keyfixer-firefox-version/][keyfixer for FireFox]]
***** Win keys to Mac keys:  [[https://osxdaily.com/2018/01/31/use-windows-pc-keyboard-mac-remap-option-command-keys/][Win --> Alt/Option; Alt --> Command]]
*
***** CUA keyboard shortcuts
******* [[https://en.wikipedia.org/wiki/Table_of_keyboard_shortcuts][Table of keyboard shortcuts: Windows/MacOS/Emacs/Vim...]]

***** also [[Per app function keys on touchbar]]
***** also [[Added keyboard shortcuts]]    
*** Trackpad a.k.a. Touchpad
***** double tap window select and drag
      From: [[https://support.apple.com/guide/mac-help/change-mouse-trackpad-preferences-unac899/mac][Change Mouse & Trackpad preferences for accessibility on Mac]]

      Accessibility -> Pointer Control -> Mouse & Trackpad --> Trackpad Options --> Enable dragging --> without drag lock

      Even with "without drag" lock set, there is a 2 second delay before touchpad movement is disconnected from dragging.

      You can get around this delay by tapping once immediately after you're done dragging.  Annoying.
      
*** Mouse cursor size

    Accessibility --> display --> Cursor size
    
*** <<MacOS Emacs>>
***** [[https://sourabhbajaj.com/mac-setup/Emacs/][Emacs · macOS Setup Guide]]  (including emacs 28)
***** installing gnu emacs on OSX

      Probably [[https://sourabhbajaj.com/mac-setup/Emacs/][should]] install the macports emacs-mac using cask.  From "method 1" [[https://sourabhbajaj.com/mac-setup/Emacs/][here]]:

      brew tap railwaycat/emacsmacport
      brew install --cask emacs-mac

      (other options are also available [[https://sourabhbajaj.com/mac-setup/Emacs/][here]], e.g. emacsplus, which would get you the very latest emacs -- emacs28 in 7/21)
      
******* old
********* [[http://www.dansanderson.com/blog/2009/01/installing-emacs-23-on-mac-os.html][Installing Emacs 23 on Mac OS X]]
          but I couldn't get it to build
********* mac ports has emacs 23 in emacs-app port
          but I couldn't get it to build
********* emacs 23 binaries
*********** nightly build from [[http://atomized.org/wp-content/cocoa-emacs-nightly/][here]] works but I had some menu and cut and paste probs
*********** they also suggest stable 23.1 from [[https://cocoa-emacs.s3.amazonaws.com/Cocoa%20Emacs%2023.1.dmg][here]]
************* 2009-09-13: I installed it but...
*************** menu-bar probs w/ the nightlies didn't go away (only emacs->preferences works, not the other menus that show up)
*************** on this one, debugger icons popup in matlab shell (haven't tried them)
*************** maybe cut-paste is better:
***************** can now paste from interactive xterm (and from emacs -nw)
***************** but not from interactive emacs running in X
***** freeing ctrl-space for default emacs set-mark-command
      From: [[https://emacs.stackexchange.com/a/21311/14273][key bindings - set-mark-command (C-SPC) not recognised/broken]]

      Ctrl-space (set mark) has an (unimportant) default mapping in MacOS.  Remove it like so:

      System Preferences > Keyboard > Shortcuts > Input Sources > Select the previous input source and uncheck

***** emacs function keys on touch bar: [[Per app function keys on touchbar]]
***** dot emacs examples w/ MacOS-specific setup
******* [[https://github.com/jinnovation/.emacs.d][jinnovation/.emacs.d: Configs of an Emacs enthusiast]] (uses straight.el)
******* [[https://github.com/novoid/dot-emacs/blob/master/config.org][dot-emacs/config.org at master · novoid/dot-emacs · GitHub]]
******* [[https://sachachua.com/dotemacs/][Sacha Chua's Emacs configuration]]
***** [[Rectangle]] has an "ignore emacs" option
***** [[http://groups.google.com/group/carbon-emacs%3Fhl%3Den][carbon emacs forum]]
***** [[Per app function keys on touchbar]]
***** [[Flipping the order of the MacBook Fn key on external keyboards]]
***** getting shell variables right in emacs
      http://www.emacswiki.org/cgi-bin/wiki/CarbonEmacsPackage

      Recommended example:

      #defaults write ${HOME}/.MacOSX/environment PATH "${HOME}/bin:/usr/bin:/bin:/usr/local/bin:${TeXbin}"
      defaults write ${HOME}/.MacOSX/environment PATH "${HOME}/bin:/usr/bin:/bin:/usr/local/bin"

      defaults write ${HOME}/.MacOSX/environment PATH `echo $PATH`
***** orgmode links mac mail

      So can link to mac mail like you can link gmail.
      
******* creating the link from within org-mode

        configure org modules to include mac-message
        (equivalently load ~/lib/emacs/<orgdir>/lib/org-mac-message.el)
        select a message in mac mail

        C-c m
        (w/ my .emacs bindings, or type M-x org-mac-message-get-link)
        (org-mac-message.el or elc must be loaded.  There's some problem w/
        "save for future sessions in org opts that causes a bug when I try to
        load it permanently.  I guess I could do it manually in .emacs)

******* [[http://www.mail-archive.com/emacs-orgmode@gnu.org/msg07316.html][links using remember]]
******* a bit about [[http://daringfireball.net/2007/12/message_urls_leopard_mail][email links in MacOS]] (also has applescript for copying multiple email message url's)
*** Window snapping on MacOS: Rectangle

    Standard MacOS has clickable left/right/full on upper left window
    clickable buttons But no keyboard window snapping keyboard shortcuts. [[Rectangle]] seems to be the best option for getting mouse snapping and keyboard shortcuts.

***** <<Rectangle>>

      Free [[https://github.com/rxhanson/Rectangle][Rectangle]] has mouse drag, keyboard snapping, and tons of
      window snapping keyboard shortcut options, even "*ignore emacs*":

      brew install --cask rectangle

***** <<BetterTouchTool>> is popular, also has options for [[https://appleinsider.com/articles/18/07/20/bettertouchtool-is-the-app-the-macbook-pro-with-touch-bar-needs][touchpad and touchbar]]
      see: [[https://thesweetbits.com/blog/bettertouchtool-3-review/][BetterTouchTool]] 

******* [[https://www.slant.co/topics/523/viewpoints/63/~best-power-user-tools-for-macos~better-touch-tool][top ranked]] customizer like this
******* [[https://folivora.ai/buy][$8.50 (2 yr) or $20.50 (life)]]

*** <<Touch bar customizing>>
    Main MacOS page:  [[https://support.apple.com/guide/mac-help/customize-the-touch-bar-mchl5a63b060/11.0/mac/11.0][Customizing]] the touchbar

***** [[https://support.apple.com/en-us/HT207240][Show function keys on touch bar all the time]] 
***** <<Per app function keys on touchbar>> (I use for emacs)
      From: [[https://apple.stackexchange.com/a/283570/424106][keyboard - Customise Touch Bar for a specific application]]
      
      _Example: make function keys show when running emacs_

        Go to Apple > System Preferences
        Select the Keyboard preference pane
        Click on the Shortcuts tab
        In the left sidebar, select the Function Keys option
        On the right-hand side click on the plus + button
        Select the Emacs app
        Add the app

      You can still see the standard touch bar (volume controls, etc.) if you push the keyboard Fn key.

***** <<Flipping the order of the MacBook Fn key on external keyboards>>

      The Touch Bar options control GUI has a tickbox to: "Use F1, F2, etc. keys on external keyboards.  When this option is selected, press the Fn key to use th special features..."

      Useful when the external keyboard is one of those little bluetooth ones, with combined function keys.

      It also has a button for setting up a bluetooth keyboard. Odd places for these things...

***** [[https://www.digitaltrends.com/computing/best-touch-bar-apps-for-macbook-pro/][other touchbar customizing apps]]
***** [[BetterTouchTool]] app does touchbar customizing
*** Window switching

    [[https://www.howtogeek.com/680028/how-to-alttab-to-switch-windows-on-a-mac/][Native MacOS switcher]] is very Windows like and is OK but must hit arrow keys to see thumbnails of all open windows of same app

    [[AltTab for Mac]] always shows all thumbnails of an app, has tons of options, and can run with opt+tab, to avoid overwriting native app.


    *Native MacOS Switcher*
    | keyboard                | action                               |
    |-------------------------+--------------------------------------|
    | cmd+tab                 | show active window icons             |
    | cmd+tab again, or right | move to right                        |
    | cmd+shift+tab, or left  | move to left                         |
    | up,down                 | show apps thumbnails                 |
    | Q                       | quit app                             |
    | H                       | hide app                             |
    |-------------------------+--------------------------------------|
    | cmd+` or cmd+shift+`    | cycle between windows of current app |


***** <<AltTab for Mac>>
      From: [[https://alt-tab-macos.netlify.app/][AltTab - Windows alt-tab on macOS]]

      brew install alt-tab
*** Window Focus/autoraise

    Use [[https://github.com/sbmpost/AutoRaise][AutoRaise]], although [[https://stackoverflow.com/a/3942504/2591097][autoraise in general is not ideal for MacOS]]. 

    Possibly just autoraise for x-terminals?

    I used the commandline homebrew below, and the default settings
    were OK.  Following the [[https://github.com/sbmpost/AutoRaise][instructions]], I made a file named
    ~/.config/AutoRaise/config and put the following inside it:

      #AutoRaise config file (original delay was 1)
      delay=2
      warpX=0.5
      warpY=0.1
      scale=2.5

    But this didn't actually change the raise delay.
    
***** AutoRaise (command line, what I did): [[https://github.com/Dimentium/homebrew-autoraise][homebrew formulae]]
***** AutoRaise+GUI (skip to avoid brew/macports conflict): [[https://github.com/lhaeger/AutoRaise][macports install]]
***** old stuff
******* focus follows mouse:  http://todbot.com/blog/2004/06/21/sloppy-focus-tricks/

        For X11, it now [[http://discussions.apple.com/thread.jspa%3FmessageID%3D6628687][might actually be]]:

        defaults write org.x.X11 wm_ffm -bool true

******* autoraise
*** Scroll Reverser
    From: [[https://pilotmoon.com/scrollreverser/][Scroll Reverser for macOS]]

    Allows you to separate revers external mouse scroll direction, so it goes the normal way on Windows and Linux.  Doesnt also reverse the Track Pad, which already scrolls normally.

*** <<Screen snipping (screenshots) on MacOS>>
    From: [[https://support.apple.com/en-us/HT201361][Take a screenshot on your Mac - Apple Support]]

    _MacOS Default_
    
    | function                       | keys           |
    |--------------------------------+----------------|
    | fullscreen                     | Shft+Cmd+3     |
    | draw selection                 | Shft+Cmd+4     |
    | window/menu                    | Shft+Cmd+4+spc |
    | screenshot app                 | Shft+Cmd+5     |
    | *save to clipboard*, not desktop | Ctrl+...       |

    _But [[https://www.xnipapp.com/][Xnip]] is better, and is also free_

    Also: [[Windows / MacOS keyboard correspondence]]

*** <<Added keyboard shortcuts>>
***** [[Default MacOS keyboard shortcuts]]
***** My added shortcuts
******* [[RPN calculator: MacOS default]]
******* also [[Keyboard remapping on MacOS]]

*** MS Teams (MacOS)

    brew install --cask microsoft-teams
    
*** [[https://howchoo.com/mac/macos-prioritize-ethernet-over-wifi][How to Prioritize Ethernet Over Wi-Fi in macOS]]
*** Slack (MacOS)

    brew install --cask slack

*** <<Latex on MacOS>>
    From: [[https://sourabhbajaj.com/mac-setup/LaTeX/][LaTeX · macOS Setup Guide]]

    Latex + MacTex editor ([[https://ctan.org/tex-archive/systems/mac/mactex/][a Mac version of Tex Lyx]])
    
      brew install --cask mactex

    pdf reader that watches and updates a pdf display of latext in realtime

      brew install --cask skim

***** [[Latex/Bibtex]]
*****  [[Mac Lyx]]
*** [[Mac Lyx]]
*** ssh/ftp/S3/SebDAV: cyberduck

Transmit 5 ($45) is the most popular program.

[[https://alternativeto.net/software/transmit/][FileZilla is the most popular alternative]].  However, it's off homebrew [[https://wiert.me/2019/01/07/filezilla-not-available-as-homebrew-cask-any-more/][because of some adware]]; you can only download the S3 version from [[https://filezilla-project.org/download.php?platform=osx][here]], and it costs ([[https://filezillapro.com/filezilla-pro-pricing/][$20]]).  It's [[https://filezillapro.com/][multiplatform]] and you can [[https://forum.filezilla-project.org/viewtopic.php?t=51229][install it on up to 3 devices]], so maybe this is a good option?
 
The [[https://alternativeto.net/software/transmit/][next most popular]] tool with S3 is [[https://alternativeto.net/software/cyberduck/about/][CyberDuck]]: [[https://sourceforge.net/software/product/Cyberduck/][$10]] (optional?) after free trial.  It's on both Windows and MacOS

brew install --cask cyberduck
choco install cyberduck.install

*** file compression

    7-zip is [[https://www.geckoandfly.com/24264/free-file-compression-alternatives/][recommended]] on Windows and Linux but the GUI version isn't available on MacOS (alpha console version [[https://www.7-zip.org/download.html][here]]; homebrew console [[https://formulae.brew.sh/formula/p7zip][here]]).  

WinRAR is [[https://www.geckoandfly.com/24264/free-file-compression-alternatives/][most recommended]] 7-zip alternative ([[https://www.techradar.com/reviews/winrar][review]]) but it's nagware. 

[[https://alternativeto.net/software/the-unarchiver/about/][The Unarchiver]] GUI is free, [[https://alternativeto.net/software/7-zip/?platform=mac][4th rated]], and crossplatform. But doesn't let you inspect contents before uncompressing.  GUI on MacOS only, but there, has both command line and GUI.

_command line MacOS_

  brew install p7zip

_GUI (The Unarchiver, not the best) MacOS_

  brew install --cask the-unarchiver

_GUI windows (best)_

  choco install 7zip

_commandline (The Unarchiver) Windows_

  choco install unar

*** Evernote on MacOS

    [[man:][Legacy version]] is still available for Mac (7/21)

*** <<RPN calculator: MacOS default>>
    From: [[https://support.apple.com/guide/calculator/welcome/10.16/mac/11.0][Calculator User Guide for Mac - Apple Support]]

    =View > RPN Mode=: switches standard MacOS calculator to RPN

    Could [[https://discussions.apple.com/thread/5760731][use Automator]] to create a calculator starting shortcut but don't collide with [[Default MacOS keyboard shortcuts]].

*** <<Computer/Tablet as Second Monitor>>
***** MacOS as main computer 

      i.e. using windows computer as MacBook Pro 2nd monitor.  This would be a way of and extra portable monitor that can also do pen stuff.  The surface would also fit on my desk, unlike a second 27" monitor. 

      _A couple goals_
      
       1. Use Surface as dumb 2nd monitor.  What I already do, and is useful
       2. Use Surface as a Wacom replacement. That way, I could write meeting  meeting notes with OneNote displayed on the big monitor with the camera (so I'm looking at it instead of down) while using the Surface's pen interface.  It sounds like this would be easy with an iPad and MacBook Pro, but that would cost an iPad.

******* <<AirDisplay>>
********* [[https://sites.fastspring.com/avatron/product/airdisplayforwindows][Air Display for Windows Client]]: $20 
*********** on typical Wifi: "indistinguishable for wired mouse"
*********** wifi or eithernet (USB not mentioned)
********* Lightning to USB cable or local Wi-Fi network (USB on Mac only?)
*********** like [[Apple SideCar]]
*********** use USB work on a Windows machine?
********* MacOS host sw is [[https://avatron.com/get-air-display/][free]]
********* [[https://pcmac.download/app/419449718/air-display][here]], it suggests that you need an android emulator
********* [[https://www.macworld.com/article/234235/air-display-3-review.html][apple pencil on ipad said to work well]]
********* [[https://www.macworld.com/article/234235/air-display-3-review.html][Air Display 3 review | Macworld]]
******* <<AirParrot + Reflector>>: $32 bundle, $18 for just receiver

        Seems like I maybe don't need AirParrot, needed since [[https://support.apple.com/en-gb/HT202351][AirPlay transmit is already built into MacOS]].  Would just need Reflector for the Windows client.  But, could buy AirParrot if I wanted to try speeding up the Surface <--> Surface screen sharing, which uses Miracast (it has bad latency, but it knows how to handle the Surface pen correctly.  Would AirPlay?).  
 
********* [[https://blog.airsquirrels.com/screen-mirroring/how-to-extend-mac-desktop-display-to-windows][AirParrot + Reflector]] MacOS <--> Windows (goes either way, I think)
********* AirParrot [[https://store.airsquirrels.com/#buy-bundle][adds]] transmit capabilities: $16

          "advanced screen mirroring and streaming power to Mac and Windows devices."

          But do you need it for MacOS, since AirPlay screen sharing is builtin?  See [[Extending MacOS screen to computer with AirPlay]].

********* Reflector [[https://store.airsquirrels.com/#buy-bundle][has]] "Advanced AirPlay, Google Cast, and Miracast receiver software for your devices": $18
********* would bundle make sense if AirPlay makes Surface --> Surface faster
******* <<Apple SideCar>>
********* [[https://support.apple.com/en-us/HT210380][uses]] the AirPlay protocol (also see [[Extending MacOS screen to computer with AirPlay]])
********* [[https://support.apple.com/en-us/HT210380][Use your iPad as a second display for your Mac with Sidecar]]
********* used as dual monitor, screen latency is imperceptable, even on WiFi
********* WiFi or USB, so can use iPad when don't have WiFi
********* <<Computers Compatible with SideCar>>: all iPad Pros 
          From: [[https://osxdaily.com/2019/10/11/sidecar-compatible-mac-ipad-list/][List of Macs & iPads with Sidecar Compatibility]]
*********** iPad Models with Sidecar Support

            iPad must be running iPadOS 13 or later, and must be one of the following devices:

            - iPad Pro (all models, including 9.7″ iPad Pro, 10.5″ iPad Pro, 11″ iPad Pro, 12.9″ iPad Pro, all generations)
            - iPad Air (3rd generation and newer)
            - iPad (7th generation and newer)
            - iPad (6th generation and newer)
            - iPad mini 5 (and newer)

            You might notice that only the iPad models with Apple Pencil support will also support Sidecar (and yes, you can use Sidecar without having an Apple Pencil, just use touch interaction instead).

*********** Macs with Sidecar Compatibility

            The Mac must be running MacOS Catalina 10.15 or later, and must be one of the following computers:

            - MacBook Pro (2016) or newer
            - MacBook Air (2018) or newer
            - MacBook (Early 2016) or newer
            - Mac Mini (2018) or newer
            - Mac Pro (2019)
            - iMac Pro (2017) or newer
            - iMac (Late 2015) or newer

*********** also [[iPads Compatible with Apple Pencil]]
********* [[AirDisplay]] also uses WiFi or USB
********* run OneNote on MacOs, control it on MacOS
*********** Photoshop [[https://www.youtube.com/watch?v=7ROc8dMDams][pen latency was a bad problem]] (2019)
********* *M1 Mac warning*: [[https://discussions.apple.com/thread/252458354][can't support 2 external monitors, so no ipad sidecar]]
*********** but can use astropad, which only mirrors, not extends, the display
******* <<Extending MacOS screen to computer with AirPlay>>

        New Macs can do this by default, I think.  It's there on the MacBook Pro 16.
        
********* Mac-->others: [[https://support.apple.com/en-gb/HT202351][Connect a display to your Mac – Apple Support]]
********* [[https://www.airserver.com/Overview][AirSever converts Windows PC & others into Airplay receiver]]: [[https://www.airserver.com/buy][$20]]
*********** [[https://www.microsoft.com/en-us/p/airserver-windows-10-desktop-edition/9nblggh52639?rtc=1&activetab=pivot:overviewtab][Free Trial]] Windows app
********* [[AirParrot + Reflector]]
********* [[Apple SideCar]] uses Airplay too
********* <<Apower Mirror>>: not clear what it does
          From: [[https://www.youtube.com/watch?v=wQjanaL5jro][Best Way to Mirror Mac Screen to PC - YouTube]]

          An AirPlay emulator, but not clear what it does.  [[https://www.apowersoft.com/mirror-mac-to-pc.html][Main page]] says it's for "mirroring" (not dual screening) a Mac onto PC, but clicking on the "free download" button brings you to a [[https://apps.apple.com/us/app/id1244625890][page only for iPads and iPhones]].  Reviews are not super, and price is not disclosed

******* <<LetsView>>: free
        From: [[https://letsview.com/about-us][About us - Free Wireless Mirroring App]]

        mirrors many things to many things, but I couldn't tell if it did Mac --> PC

        Is recommended [[https://www.quora.com/How-do-I-use-a-Windows-laptop-as-a-second-monitor-for-a-MacBook][here]] for Mac --> PC

******* <<Apple Pencil>>
********* <<iPads Compatible with Apple Pencil>>: iPad Pro 12.9" >= 3rd gen
          From: [[https://support.apple.com/en-us/HT211029][Apple Pencil compatibility - Apple Support]]

*********** Apple Pencil (2nd generation)

            You can use Apple Pencil (2nd generation) with these iPad models: 

            - iPad Air (4th generation)
            - iPad Pro 12.9-inch (3rd generation) and later
            - iPad Pro 11-inch (1st generation) and later

*********** Apple Pencil (1st generation)

            You can use Apple Pencil (1st generation) with these iPad models:

            - iPad (8th generation)
            - iPad mini (5th generation)
            - iPad (7th generation)
            - iPad (6th generation)
            - iPad Air (3rd generation)
            - iPad Pro 12.9-inch (1st or 2nd generation)
            - iPad Pro 10.5-inch
            - iPad Pro 9.7-inch

            Not sure which iPad you have? Identify your iPad model.

*********** also [[Computers Compatible with SideCar]]

******* <<5kplayer: free, blocky>>
********* recommended [[Ma6Echu4][here]]
********* I downloaded it from [[Ma6Echu4][here]], and installed it on my SB2.
********* it's blocky on SB2, and a tiny bit laggy
********* this was on my home network.
***** Windows as main computer
******* [[https://spacedesk.net/][spacedesk | Multi Monitor App]] (Windows --> android/chromebook): free
******* SplashTop (Windows main, iPad 2nd wifi mon.): free?
        From: [[https://www.businessinsider.com/how-to-use-ipad-as-second-screen-on-windows][How to Use an IPad As a Second Monitor for a Windows PC]]
******* Duet Display (Windows main, iPad 2nd wired mon.): $10
        From: [[https://www.businessinsider.com/how-to-use-ipad-as-second-screen-on-windows][How to Use an IPad As a Second Monitor for a Windows PC]]
******* iDisplay (Windows main, iPad 2nd wifi mon.): $15
        From: [[https://www.businessinsider.com/how-to-use-ipad-as-second-screen-on-windows][How to Use an IPad As a Second Monitor for a Windows PC]]
***** also [[OneNote drawing tablet with iPad]]
*** <<iPad>>
***** <<OneNote drawing tablet with iPad>>
******* [[Apple SideCar]]
******* Quicktime and USB cable
        From: [[https://discussions.apple.com/thread/251867803][Mirror iPad Air (3rd generation, 2020 Mod… - Apple Community]]

        Run Quicktime Player to show iPad screen on MacOS machine (from which you can skype, etc.)

        Is recommended in a couple places I found

        *Question*: can iPad screen be shown only in a window of the MacOS screen, so that you could write on the iPad and see the result on the big screen, along with other stuff, while you're Zooming?

******* 3rd party mirroring software. Many: [[Computer/Tablet as Second Monitor]]
***** <<pdf annotation on iPad>>
******* [[https://community.adobe.com/t5/acrobat-reader-mobile-discussions/viewing-pdf-files-from-onedrive/m-p/6582082#M179][Viewing pdf files from OneDrive - Adobe Support Community]]
******* TRY [[https://pdfexpert.com/ios/how-to-annotate-pdf][PDF Expert]]: very good

        Most important things free ($49/yr for license). Only complaints
        - must buy favorite pens
        - pay for insert page
        - pay for rotate page

********* Pen writes well, colors limited (5 + 1 custom); pay extra for more favorite pens and tools
********* no pen opacity but OK since have freehand highlighter (and also separate highlighter tied to printed lines).
********* neat tiny text zoom
********* go to page and history back and forth (see in multipage layou)
********* nice multipage display of /only/ annotated pages.
********* can change colors/properties sometime after editing them
********* insert image (in margin, since can't insert pages w/o paying)
********* insert audio
********* some kind of measuring for scale, like in blueprints
********* checkboxes, kinda nice
********* very nice outlines, history, bookmarks search
********* good links to onedrive,save happens when unfullscreen doc, showing folders.
********* Some kind of "connect to computer" thing.  It does connect to MacBOok, at least.  Not sure what it does, though.  Nice backup if offline but have wifi connected computer nearby?
********* text box usable, can edit with pen
********* highlighter/underliner/pen/marker/text
********* has delete/rotate/merge page (paid, need PRO version)

********* nice that can move pen bar to side, like in Drawboard
******* TRY Xodo: good
        
        Has everything, even a ruler, and pen/pencil distinction.  Very good page flipping, editable bookmarks and outline display.

        only complaints: 
        - can't pencil write in text box (but can kindof edit it?  Might have crashed once).
        - max of 4 favorite saved pens
********* even has goto page
******* Adobe Acrobat Reader: competent

        It's competent but not completely user friendly.

********* some kind of fancy liquid mode that I had to sign into my adobe acct. to see.
********* step through comments
********* goto page
********* no bookmarks
********* textbox works, a bit wonky, can't use pen
********* editing pdf is extra, but commenting, which does most things is fine
********* no idea of favorite pens, but this is OK.  Writing is good.
******* TRY Flexcil:  might be good if OneDrive doesn't get copied

********* annotation part and navigatin look pretty nice
********* but it seems that it wants to copy OneDrive (couldn't test since had to pay)
********* cheap: $9 license, not time limit mentioned.  Can try for 15 days

******* REJECTED Cabinet: no OneDrive (I think), dorky UI

        Might be OK but seems to want to keep all your docs in its own little cabinet.  Not free either, I think.

******* REJECTED [[https://pdf.wondershare.com/pdfelement-ios/][PDFelement]], rated [[https://pdf.wondershare.com/mobile-app/ipad-pro-pdf-annotation.html][best free iPad]] (mac version (not free) also [[https://pdf.wondershare.com/mobile-app/ipad-pro-pdf-annotation.html][does OCR]])

        Quite nice but very expensive.  Syncs w/ some stuff but can apparently only copy from OneDrive. Not clear how to keep it in sync.

********* has all the features, but $40 perpetual or crappy subscription
********* said to be [[https://pdf.wondershare.com/pdf-editor-mac/pdf-xchange-for-mac-alternative.html][best PDF-Xchange alternative]] too 
********* [[https://pdf.wondershare.com/pdfelement.html][Windows version]] of PDFelement (pen is good, favorite pen system not great)
********* Windows/Mac verison expensive: $80/yr or $100/yr for Win+Mac
******* REJECTED [[https://apps.apple.com/us/app/foxit-pdf-editor/id507040546][Foxit PDF Editor]]
        free, good ratings, Mac Desktop version is good
        
HOWEVER, the pen annotations are horrible.  Just like the old acroread.

******* REJECTED PDF Pro

        Competent but not complete, pen annotation is paid

********* Pen writes well. 3 thicknesses; no opacity
********* syncs to onedrive, but I'm not clear how
********* does sync to icloud
********* text box oK
********* no favorite pens but easy to click different colors
********* highlighter/NOUNDERLINER/pen/marker/text
******* REJECTED goodnotes imports to proprietary format, [[https://www.reddit.com/r/GoodNotes/comments/ig39pg/converting_goodnotes_file_to_pdf/][must export to pdf]]
******* REJECTED [[ don't seem to be best alternatives][Drawboard alternatives]] don't seem to be best alternatives
***** [[Apple Pencil]]
***** [[Computers Compatible with SideCar]]
***** [[iPads Compatible with Apple Pencil]]
***** Which iPad to buy in 2021 (goes w/ Geli MacBook)? _iPadPro 12.9" >= 3rdGen_
******* [[Computers Compatible with SideCar]]: all iPad Pros 
******* [[iPads Compatible with Apple Pencil]]: iPad Pro 12.9" >= 3rd gen
******* memory: >= 128 GB

        OneDrive share == 18.5G  (pdfs)
                 pix   == 40G    (pictures)

******* Best deal as of 09/17/21
********* apple pencil 2: Target, free ship: [[https://www.target.com/p/apple-pencil-2nd-generation/-/A-54217063?ref=tgt_adv_XS000000&AFID=google_pla_df&fndsrc=tgtao&DFA=71700000012807845&CPNG=PLA_Electronics%2BShopping_Local%7CElectronics_Ecomm_Hardlines&adgroup=SC_Electronics&LID=700000001170770pgs&LNM=PRODUCT_GROUP&network=g&device=c&location=9033497&targetid=pla-627591811898&ds_rl=1246978&ds_rl=1248099&gclid=Cj0KCQjwvO2IBhCzARIsALw3ASpgleyXvkn4dERwiCxTn-Tc-UQx0-vdTNZypeiL49MPYghPY-kFxq4aAqpEEALw_wcB&gclsrc=aw.ds][$100]]
********* iPad Pro 12.9-inch, 3rd Gen - Wi-Fi, 256GB - Space Gray (Renewed, Amazon): [[https://www.amazon.com/dp/B07Q8RX57R/ref=olp_aod_redir_impl1?_encoding=UTF8&aod=1][$713]]
********* iPad Pro 12.9-inch 3rd Gen (Oct 2018) 256GB - Space Gray - (Wi-Fi + GSM/CDMA + LTE) : [[https://www.backmarket.com/tested-and-certified-used-ipad-pro-129-inch-3rd-gen-october-2018-256gb-space-gray-wi-fi-gsmcdma-lte/81732.html?shopping=gmc&gclid=Cj0KCQjwvO2IBhCzARIsALw3ASq1mrCwEewelnRIl3BxbHAlfXcsldH64OpX3F3jlZcM554TDCveBWcaAmj_EALw_wcB][$660 (fair); $725 (excellent)]]

***** To install in ipad
******* OneNote
******* PDFelement/FoxitPDF/AdobeReader: [[pdf annotation on iPad]] 
******* [[https://apps.apple.com/us/app/adobe-scan-mobile-pdf-scanner/id1199564834][Adobe Scan: Mobile PDF Scanner]]
******* [[https://www.speedtest.net/apps/ios][Speedtest]] (internet)
******* [[https://apps.apple.com/us/app/snapseed/id439438619][‎Snapseed on the App Store]]
******* [[https://7minuteworkout.jnj.com/][J&J 7 minute workout]]
******* [[org-mode on iPad]]
******* [[https://support.mozilla.org/en-US/kb/install-firefox-your-ipad-iphone-or-ipod][Firefox on your iPad, iPhone or iPod]]
******* [[https://apps.apple.com/us/app/lastpass-password-manager/id324613447][‎LastPass Password Manager on the App Store]]
*** Blue Light Filter: [[https://support.apple.com/en-us/HT207513][Use Builtin Night Shift]]
*** postgresql
    From: [[https://wiki.postgresql.org/wiki/Homebrew][Homebrew - PostgreSQL wiki]]

    brew install postgresql

    This install the command line console (psql) as well as the server, if you'd like to create your own databases locally. Run the following to start the server and login to it (it basically sets up a single "admin" user with your username, so that's who you'll be logged in as.

    brew services start postgresql
    psql postgres

*** show hidden file in MacOS finder

   In finder type 

     Command + shift + . (laptop keyboard)
     Alt     + shfit + . (external windows keyboard)

*** Killing a MacOS task
    1.) kill -9 in a terminal -- work OK for almost everything
    2.) Command+Option+Escape, choose process, kill it
    3.) Right click the dock icon, hold down option, choose Force Quit
*** password for sudo in MacOS terminal
***** sudo pwd is [[https://lemp.io/what-is-my-sudo-password-mac-os/#0][same as MacOS admin account pwd]]
***** stored in my Google place
*** $SHELL: spec'ed in 2 places:
    1. system prefs (apple shape on desktop menu, system prefs, accounts ...)

       control-click on acounts name
       (unlock lock icon below so pwd window comes up)
       type in pwd
       control click -> advanced options -> login shell...

    2. terminal prefs (...)
*** X11
    it's in /usr/X11
*** Mail.app
***** Mail.app keyboard shortcuts
***** FREE VERSION DOESN'T WORK: install [[http://indev.ca/MailActOn.html][MailActOn]]
******* MacOS disables 1.3.2, says it's incompatible
*** [[MacOS mermaid-cli]]
*** [[Mac Lyx]]
*** [[MacBooK Pro]]
*** also [[Windows]]
* Compiled stuff from other folks
*** I'm putting it into ~/contrib
*** so use

    ./configure --prefix ~/contrib
* Docbook
*** windows setup [[http://www.codeproject.com/KB/winhelp/docbook_howto.aspx][advice]]
* Debian/Ubuntu local package install
  from [[http://linux.derkeiler.com/Mailing-Lists/Debian/2008-05/msg00938.html][here]] (almost):

  apt-get --print-uris install "package to get"

  Then select the URL and use wget to download it:
  wget "URL"

  Then use dpkg to extract the package contents:
  dpkg -X packagefile targetdir

  (sometimes, this doesn't work b/c package expects config file in /usr)

* <<Latex/Bibtex>>
*** <<Bibtex Managers>>
***** <<JabRef>>
******* News and feature requests go [[http://discourse.jabref.org][here]]
******* bug reports go [[https://github.com/JabRef/jabref/issues][here]]
******* latest dev build: https://builds.jabref.org/master/
******* [[https://github.com/JabRef/jabref/blob/master/CHANGELOG.md#unreleased][What's new in latest dev build]] 
******* setting up multiple previews: =Options-> Preferences-> Entry preview=
******* <<Setting JabRef setup so it can push latex cites to Emacs>>

        =Options -> Preferences -> External programs -> "Settings for Emacs" -> "Path to Emacs (gnuclient or emacsclient)":=

        C:\Program Files (x86)\GNU Emacs 25.1\bin\emacsclientw.exe
        (or whatever emacs location is)

        =Additional parameters  :=       -n -e
        =Use Emacs 23 insertion string:= checked

******* [[Pinning Jabref to Windows 7 taskbar]]
******* [[Export JabRef bibtex to Office 2007 citation source]]
******* [[http://www.ademcan.net/index.php?2012/01/30/15/23/05-using-jabref-references-in-word-documents][Using JabRef references in Word documents]]
******* How I'd like to make JabRef more like emacs org mode
        (response to a JabRef web survey on 11/12/15)

        /Please, if you have anything else to suggest regarding the next versions of/
        /JabRef, use the following field./

        Make it easier to find the relationships between papers.  I've
        accumulated a couple thousand references and often forget how ideas
        I've seen before have something to do with what I'm looking at now.
        I think two things are needed: A better way to express these
        relationships; and a way to automatically discover them.

********* I. Paper Relationship Expression:

          I've reduced the problem of forgetting paper relationships by
          maintaining a giant topic file in emacs org mode; every time I
          enter a new paper in Jabref, I go to emacs and sprinkle the topic
          file with links to it.  Since a paper might be related to many
          topics, I often add many links -- the fact that there are many links
          unfortunately does not fit well into the hierarchical mindmap
          structure like that used in Docear.  Docear does have a cross-link
          capability but it doesn't work well when there are many cross-links.

          Better would be a "many-to-one" and "one-to-many" structure like
          that in a Concept Map.  Concept Maps allow both hierarchy and
          arbitrary relationship links -- they're really just directed graphs
          with a nice interface for grouping nodes and redrawing.  The best
          program I've found is at http://cmap.ihmc.us/ but it doesn't work
          well with BibTex).

          Anyway, Docear is mindmap based, so I'm sticking with org mode.  Org mode
          can do the same thing as concept maps, is simple plain text, is
          super flexible, and has hooks to every publishing tool I use.  It's
          clunky and not graphical but it works.  Docear is going in the
          right direction but the mindmap structure isn't expressive enough;
          maybe Jabref could build an interface to a concept map tool, or an
          arbitrary graph editor.

********* II. Paper Relationship Discovery

          I would love something like Evernote's approach.  Every time I save
          a web article, Evernote tells me about related articles I've already saved.  Restricting the search to stuff I've already saved is better than telling me about all the articles in the
          world that are related.  I haven't tried Docear's recommender
          system.  If it's searching the world, well, I already have google;
          if it's searching my own references first, then I'm really
          interested.

******* Italics in article title: use =\em{}=
        From: [[https://sourceforge.net/p/jabref/discussion/318825/thread/6e71725d/][JabRef / Discussion / Help:Italics in titles?]]
******* <<Fixing tiny fonts on Surface pro:>>
        From: [[https://github.com/JabRef/jabref/issues/2885][Fonts are too small to read, inconsistent across the UI · Issue #2885 · JabRe...]]

        For Windows 10, there is work-around to get a workable resolution (I wouldn't call it nice through):

********* Find and Right click JabRef.exe in the installation folder -> Properties
********* Go to Compatibility tab
********* Check Override high DPI scaling behavior.
********* Choose System for Scaling performed by

******* [[Visualizing Bibliographies]]
******** [[Fixing tiny fonts on Surface pro]] (a problem older JabRef had)
***** TODO <<Zotero>>

      One reason for trying Zotero are that some [[org-roam]] users say they use it, and that [[Zotero + Word]] is convenient.  Another is that it's quite good at extracting bibliography data from pdfs, which save a lot of time.  I could use merge that with energy.bib.  It also does a good job of saving web pages.

But I would like it better if there was no export merge step.  Export is kind-of handled by [[BetterBibtex]], in which [[Automatic BBT bibtex file export]], but there is still the problem of the Zotero attachment file structure, and also the possiblity that the exported bibtex file changes on every export, making [[Zotero + GIT]] problematic (if it's sorted?).

******* DONE NEEDED FOR ORG-ROAM and BIBTEX SYNCHING
********* DONE can free Zotero synch only refs, leave pdfs / bibtex in separately syched dirs?

********* DONE [[Use zotfile to put pdfs in a single folder]]
********* DONE would zotero need to understand relative pdf dir reference for cross-machine compat? 
*********** My bug report, now fixed: [[https://github.com/retorquere/zotero-better-bibtex/issues/1764][retorquere/zotero-better-bibtex#1764 Relative path in file field?]]
*********** [[https://www.zotero.org/support/zotero_data][Locating your zotero data directory]]
********* DONE MAYBE: [[Syncing Zotero across multiple machines]] (only refs, not pdfs?)
******* TODO get store URLs in bibtex
********* In Zotero>Edit>preferenceces>BBT>Export>Add URLs tro BibTeX export = "in the 'url' filed
********* this find Z's link attrachments, that contain the URLs: [[https://github.com/retorquere/zotero-better-bibtex/issues/1765][retorquere/zotero-better-bibtex#1765 Store Zotero Links in bibtex URL field]]
******* [[https://zbib.org/][Zoterobib]]: fast pure browser way to make a bibliography.  Nice.
******* [[https://www.zotero.org/download/][Zotero App Download]]
******* Alternatives to Zotero

        Zotero is very useful for downloading paper bibs and pdfs directly from a website but it stores stuff in its own proprietary format, with files embedded in a complicated directory structure.  You can export this to a bib file and rename papers with zotero plugins noted in [[Zotero + Bibtex]], but I haven't figured out how to do this without writing extra post-processing scripts, which require more steps, code maintenance..., and are perhaps less [[git]]able.

********* TRY [[https://org-roam.discourse.group/t/workflow-for-working-with-pdfs/103/24?u=scotto][helm-bibtex and ivy-bibtex can do what zotero does]] (true?)
          
******* <<Zotero + Bibtex>>

        Zotero add-ons that help w/ zotero bibtex interface, for compatibility with Jabref and Emacs, Overleaf, plain Latex

********* <<zotxt>>: org-mode and org-noter integration
*********** guy uses it: [[https://github.com/org-roam/org-roam/issues/258][Supplying a title to `org-roam-find-file`]]
*********** zotxt in: [[http://www.mkbehr.com/posts/a-research-workflow-with-zotero-and-org-mode/][A research workflow with Zotero and Org mode]]
*********** has [[https://github.com/egh/zotxt-emacs][org-mode and org-noter]] support
*********** [[https://whk.name/cookbook/zoteroPandoc/][requires]] that Zotero be running, either deskop or browser, I think
*********** alternative [[https://whk.name/cookbook/zoteroPandoc/][apparently]] is [[BetterBibtex]] but seems like s/ use both?
*********** also [[zotxt-emacs]] melpa extension
********* <<zotfile>>: attach/rename/mv PDFs, hook to mobile, extract annotations
          Can sync Zotero pdfs w/ annotations with another dir accessible by e.g. tablets (or, I suppose git, OneDrive, ...).  Can also rename files downloaded by Zotero to match the bibtex key supplied by [[BetterBibtex]].

          I also believe this could get all pdfs into a single dir
          o could zotero still see them then?
          o possible to put zotero-captured html in a different dir than pdfs?
          o would this eliminate viewing pdfs in Android on zoo?  Do I care?

*********** [[http://zotfile.com/#how-to-install--set-up-zotfile][ZotFile - Advanced PDF management for Zotero]]
*********** <<rename pdfs to bibtex key with zotfile>>

            _Configuration_

            *I.* In [[BetterBibtex]] (BBT)
            o [[Install and Config for BBT]]
            o define a bibtex citekey in "Extra" field. (zotero>prefs>BBT)
            o Zotero>Edit>Preferences>BBT>Citation Keys>keep keys unique = "across all libraries"
            o Zotero>Edit>Preferences>BBT>Citation Keys>On Conflict... = "postfixed (causes..."

            *II.* [[http://zotfile.com/#how-to-install--set-up-zotfile][Install ZotFile]]

            Then, from [[https://github.com/jlegewie/zotfile/issues/468#issuecomment-758895076][here]], in zotero>Tools>ZotfilePrefs>RenameRules, put {%b} in both "format for all item types except patents" and "format for patents".

            Zotero->Tools->Zotfile Preferences->Renaming Rules
                   -> "Format for all item Types except Patents"
                       AND "Format for patents"

            *III.* Unclick "Use Zotero to Rename"

            Warning: this only works if the Extra field has been filled, 
            and if the bibtex key has been "pinned' in BBT, I read somewhere.  By default [[BBT pinning operation happens automatically]].

************* TODO rename html files too?   

              Not the default.

              Probably have to add "html" to zotfile "file name extensions it will rename" preference setting.

*********** <<Use zotfile to put pdfs in a single folder>>

           This is done with a combo of [[zotxt]], [[zotfile]], and [[BetterBibtex]], and can be cloud-shared.

           _Configuration_
            
           1. Zotero->Preferences->Advanced->Files and Folders->Base Directory = C:\Users\scott\share\ref\zotero\papers_added
           2. Zotero->Tools->ZotfilePreferences->GeneralSettings-> "Source Folder for Attaching New Files":  I used "C:\Users\scott\share\ref\zotero\papers_to_add"
           3. ...Location of Files -> Custom Location.  I used "C:\Users\scott\share\ref\zotero\papers_added\papers"
           4. UNcheck "use subfolder defined by..." to avoid subfolders underneath.
           5. Ensure that [[BetterBibtex]] exports .bib file w/ BibTex citekeys you have defined (in all papers): [[define exported bibtex citekey with BBT]]
           6. Ensure moved pdf names match bibtex key: [[rename pdfs to bibtex key with zotfile]]
           7. Stop Zotero cloud sync, so pdfs go where you want them.  I think the setting below only matters if you've logged into your zotero account, which I'll avoid:  Zotero->Edit->Preferences->sync->settings->untick "Sync attachment files in My LIbrary using xxx" (*Note*: could have synced w/ WebDAV but there is a bug with [[Sync with OneDrive and WebDAV]])

           _Use_

           o to rename:   right click (item or selection of them)
                       -> Manage Attachments
                       -> rename attachments

           o seems like there must also be an automatic way, but I haven't figure that out yet

*********** [[Use zotfile to put pdfs in a single folder]]
*********** More details on zotero pdf storage and configuration
************* [[https://libanswers.caltech.edu/faq/204182][Where does Zotero store PDFs?]]
************* Storing pdfs on a non-[[Zotero Storage]] cloud server 
*************** One way is explained [[https://www.researchgate.net/publication/325828616_Tutorial_The_Best_Reference_Manager_Setup_Zotero_ZotFile_Cloud_Storage/comments][here]].
*************** [[Sync with OneDrive and WebDAV]]
************* controlling pdf renaming is explained [[https://www.researchgate.net/publication/325828616_Tutorial_The_Best_Reference_Manager_Setup_Zotero_ZotFile_Cloud_Storage/comments][here]].
************* [[https://www.nrel.colostate.edu/set-up-best-reference-manager/][This is how I did it: created the best reference manager...]]
************* <<Link pdfs to single directory, use collections to sync bibtex>>
*************** [[https://richardzach.org/2019/02/09/bibtex-friendly-pdf-management-with-zotero/][BibTeX-friendly PDF management with Zotero]]
*************** [[https://www.researchgate.net/publication/325828616_Tutorial_The_Best_Reference_Manager_Setup_Zotero_ZotFile_Cloud_Storage/comments][The Best Reference Manager Setup (Zotero + ZotFile + Cloud St...]]

********* [[citar and zotero]]
******* <<BetterBibtex>>: citekeys, char encoding... 

          /On export/, names [[https://retorque.re/zotero-better-bibtex/citing/][citkeys like the JabRef]] automatic key generator.  If you reimport them, they are preserved inside of Zotero -- it "pins" them so they aren't changed (can see this in the Zotero info pane).  If you want to make your own citekey, do this.  In additon, you can [[rename pdfs to bibtex key with zotfile]]

Note that this can also export BibLaTeX and other stuff e.g. JSON, or standalone notes fields.

********* [[https://retorque.re/zotero-better-bibtex/][Better Bibtex for Zotero]]
********* <<Install and Config for BBT>>
*********** Download: [[https://github.com/retorquere/zotero-better-bibtex/releases][Releases · retorquere/zotero-better-bibtex · GitHub]]

            In Firefox, you must right click --> save link as and go from there.  If you click on in directly on the web page, FF gives you a "corrupt xpi message."

*********** Install: [[https://retorque.re/zotero-better-bibtex/installation/][Installation :: Better BibTeX for Zotero]]
*********** Config of BBT

            The Better BibTeX Configuration can be found under the regular Zotero preferences pane, tab ‘Better BibTeX’.

************* <<define BBT citation key generation>>
              From: [[https://retorque.re/zotero-better-bibtex/citing/#generating-citekeys-for-your-references][Citation Keys :: Better BibTeX for Zotero]]
               and: [[https://retorque.re/zotero-better-bibtex/installation/preferences/citation-keys/#citation-keys][default citation key format]]

              I've been using: [auth:capitalize][shortyear][shorttitle3_3] (see [[https://retorque.re/zotero-better-bibtex/citing/#configurable-citekey-generator][Configurable citekey generator]])

              and then I edit to make my own abberviated title.  This key will then be the key used in the exported .bib file.  It will also be the paper file name, if you [[rename pdfs to bibtex key with zotfile]].

************* choose Quick copy / drag format

              I could drag a citation/citation link in one of many formats but I don't use this so far: [[https://retorque.re/zotero-better-bibtex/installation/preferences/citation-keys/#quick-copydrag-and-drop-citations][Citation keys :: Better BibTeX for Zotero]]
************* <<Automatic BBT bibtex file export>>
*************** Define where the bibifle will be exported

              You define the export file the first time you automatically export (right-click on it in the left Zotero pane and choose “Export Library…” or “Export Collection…”.).  Check the "Keep Updated" tickbox and it will stay updated.

              I made Collection named "ExportToBib" and exporting to

                ref/zotero/papers_added

              Note that you'll get an error if you try to export manually twice to the same location.  Must rely on automatic export, I guess.

*************** Determine when [[https://retorque.re/zotero-better-bibtex/installation/preferences/export/#automatic-export][automatic export]] occurs (default is "on change"):

                Zotero Edit menu --> Preferences -> Better Bibtex -> Automatic exports tab.

*************** [[define exported bibtex citekey with BBT]]
*************** That's it.  But here's more and somewhat redudant info
***************** [[https://retorque.re/zotero-better-bibtex/exporting/auto/#managing-auto-exports][Managing auto-exports]]
***************** [[https://unimelb.libguides.com/c.php?g=565734&p=3897111][Zotero - LaTeX and BibTeX - Library Guides at U of Melbourne]]
********* Using BBT
*********** <<define exported bibtex citekey with BBT>> (do for each bibentry)

************* [[https://retorque.re/zotero-better-bibtex/exporting/][By default]], the <<BBT pinning operation happens automatically>> when you add a new Zotero entry (format: [[define BBT citation key generation]]).  

************* Then you edit by putting the mouse on the entry right click --> better bibtex --> change bibtex key

************* Manual key generation in case the key isn't generated...

              Right click on the paper->Better BibTex->Pin BibTex key

              This copies the "Citation Key" field generated by Zotero
              (top of field pane to right) to "Extra" field (bottom of
              pane).

              Then you can edit the Citation Key to be what you want
              (easisest is right click --> better bibtex --> change bibtex key)

************* ensure unique key:

              Keep Keys Unique: "across all libraries"
              On conflict...: "postfixed (causes key changes)

********* [[https://github.com/retorquere/zotero-better-bibtex#zotero-better-biblatex-bbt-][GitHub - retorquere/zotero-better-bibtex: Make Zotero effective for us LaTeX ...]]
********* alternative [[https://whk.name/cookbook/zoteroPandoc/][apparently]] is [[zotxt]] (and guy likes Better Bibtex better)
********* [[Automatic BBT bibtex file export]]
********* [[Link pdfs to single directory, use collections to sync bibtex]]
          1. For both the web and standalone version [of Zotero], Export the required references similar to the simple method
          2. This time however the Export pop up box will have a fourth option for you to tick Keep Updated. 
          3. Tick both the Keep updated box and the Export notes box and save as a .bib file in the same folder as your LaTeX document

*********** /no way to sync, that I can find/, must manually reload .bib back into Zotero if you change an entry there.
*********** BUT then what about [[Zotero + GIT]]?
*********** <<BBT + git>>
            From: [[https://retorque.re/zotero-better-bibtex/exporting/auto/][Better BibTeX for Zotero>Exporting items>Automatic export]]

            BBT + Git pushes to Overleaf ([[https://github.com/retorquere/zotero-better-bibtex/projects/2][Overleaf setup]]).  What it does:

              git pull
              Performs the export
              git add <your library file>
              git commit -m <your library file>
              git push
                
******* <<zotxt-emacs>> interfaces [[Zotero]] with [[https://github.com/egh/zotxt-emacs][org-mode and org-noter]]
   
        A bibliography entry paster (w/ hidden link) and interace to org-noter.  Can also open attachment of that link. [[zutilo]] pastes links instead, but you do the paste and org-link editing.

********* emacs lib for using  [[Zotero]] addon [[zotxt]]
********* [[https://github.com/egh/zotxt-emacs][zotxt melpa package]] provides org-zotxt-mode, etc.
********* package name is actually "zotxt"
********* what it does (works! instructions [[https://github.com/egh/zotxt-emacs][here]])
*********** inserts reference, a bibliio summary of Zotero entry, not link
*********** lets you open [[zotxt]] attachment (pdf, I suppose)
*********** <<org-zotxt-noter>> for taking [[org-noter]] notes on the attachment (what does this do?)
************* org-zotxt-noter is [[https://github.com/emacsmirror/zotxt/blob/master/org-zotxt.el][like `org-noter', but use Zotero]]
************* However, M-x org-zotxt-noter doesn't work, function not present in emacs. 
********* emacs lisp called to make a reference for: =C-" i=
            
          org-zotxt-insert-reference-link

********* Seems to be bibtex based, since requireds [[Better BibTeX]]
******* also [[Direct DB sync between Emacs and Zotero (no bibtex file)]]
******* <<zutilo>>: links in org-mode to Zotero app + editing functions
        Mainly from:  [[https://github.com/willsALMANJ/Zutilo][Zotero plugin providing some additional editing]]

        Direct, Bibtex-less Zotero links inside of org_mode.  And
        other stuff.

        Linking is cumbersome (fiddly menu-based copy in zotero,
        paste in emacs, and then edit link to make an org-mode
        link).  This is different than [[zotxt-emacs]] which pastes a
        bibliographic entry instead, although zutilo can copy a text
        version of what [[zotxt-emacs]] gets.  Note that zutilo and
        zotxt-emacs get the same underlying link to zotero.  Also,
        zutilo /can/ get the entry selected inside of Zotero if you
        give it a prefix argument (org-zotxt-insert-reference-link)

********* what it can do (works!)
*********** Zotero links inside of org-mode, both entries and collections (works!)
            From: [[https://orgmode-exocortex.com/2020/05/13/linking-to-zotero-items-and-collections-from-org-mode/][Linking to Zotero items and collections from Org mode]]
             and: [[https://www.researchgate.net/post/What_reference_manager_is_used_for_Emacs_users][What reference manager is used for Emacs users?]]
              
            Making a link in Zotero that can be copied to org-mode: 

              In Zotero, right click on the collection, or on the
              item, and then select /Copy select collection link/ or
              /Copy select item links/.

              When you paste this in Org mode, you’ll get a link that looks like:    
                zotero://select/library/collections/DY4K5MSJ for collections or like zotero://select/library/items/F8AFZ7YL for specific items.

            When you C-c C-o (M-x org-open-at-point) with your
            cursor on the link, your zotero will open up with the
            relevant collection or item in focus, ready for you to
            consult it.

*********** copy, delete and remove sets of tags
*********** create a book section item from a book reference, or a book item from a book reference
*********** relate several selected items
*********** copy path to attachment (configure in preferences)
*********** additional keyboard shortcuts
*********** TODO what is a link to a /collection/? 
********* option link collections, not just single articles, is kind of cool
********* Documentation
*********** command refernce [[https://github.com/willsALMANJ/Zutilo/blob/master/docs/COMMANDS.md][Zutilo/COMMANDS.md· GitHub]]
*********** usage: [[https://github.com/willsALMANJ/Zutilo/blob/master/docs/USAGE.md][Zutilo/USAGE.md · GitHub]]

********* Installation: [[https://orgmode-exocortex.com/2020/05/13/linking-to-zotero-items-and-collections-from-org-mode/][Linking to Zotero items and collections from Org mode]]
********* Example of bibtex-less org_mode+Zotero? [[https://cpbotha.net/2019/09/21/note-taking-strategy-2019/#web-pages-and-articles][Note-taking strategy 2019. voices in my head]]
********* how different from [[zotxt-emacs]] ?
********* also [[Direct DB sync between Emacs and Zotero (no bibtex file)]]
******* A link paster better than [[zotxt-emacs]] or [[zutilo]]

        Seems like you could just do what helm-bibtex or swiper-bibtex(?) do.  But get link from Zutilo instead.  In [[zotxt-emacs]], you'd by default search "everything" with the option of narrowing search to titles or whatever (oh, actually, this can be set with cut customization org-zotxt-default-search-method)

        But there's no code for that right now.  Maybe I could write it?  /Seems easy/.

********* It would be mostly based on [[zotxt-emacs]], since that one doesn't require me to click something in Zotero.  
********* Maybe copy something from [[org-ref]] to build the full link with description.
******* also [[Zotero + Org Roam]]
******* also [[Direct DB sync between Emacs and Zotero (no bibtex file)]]
******* also [[Zotero as only a reference downloader, pdf grabber]]
******* <<Web Page Annotation in Zotero>>

        Zotero doesn't have it yet:  [[https://forums.zotero.org/discussion/89301/feature-request-add-annotations-for-web-pages][Feature request: Add annotations for web pages - Zotero Forums]]

******* <<Zotero + GIT>>

        I want to check in zotero-acquired data into git -- either in zotero format or, preferably, bibtex.

********* Problems with zotero and direct use of git
*********** messy zotero attachment structure 
*********** Are zotero files even human readalbe, so can see changes?
*********** zotero cloud is redundnant, [[https://forums.zotero.org/discussion/72835/using-git-in-combination-with-zotero-for-version-control-and-collaboration][possibly causing conflicts]]
********* Problems with exporting a .bib file and using that
*********** This workflow is possible
************* [[Automatic BBT bibtex file export]] 
************* [[BBT + git]]
*********** BUT it's mostly one-way: Zotero --> .bib
************* Can export .bib, use it in org-mode or whatever
************* and can change bibfile and reimport to zotero
************* BUT reimport is an extra step (and super slow!)
************* BUT are bibtex fields mangled/reordered?
************* TODO
******* <<Zotero + Word>>

        This works quite well on Office 365, 5/30/20

********* [[https://www.zotero.org/support/word_processor_plugin_usage][word processor plugin usage {Zotero Documentation}]]
********* If problem: [[https://www.youtube.com/watch?v=aU1CyYzh3E0][Zotero Plugin Add-on Pc Microsoft Word Missing]]
********* Other plugins: Open Office, Google Docs, Overleaf (kinda: [[BBT + git]])
******* <<Zotero + Org Roam>>
********* think about [[org-roam and bibtex]]
********* [[org-roam]] + [[org-noter]] + [[Zotero]]
          Guy uses all three: [[https://github.com/org-roam/org-roam/issues/258][Supplying a title to `org-roam-find-file`]]
********* [[org-roam workflow with Zotero, org-ref, org-noter, deft]]
********* [[OR cite notes + org-roam-bibtex + org-noter: Zotero not main ref DB]]
********* [[https://org-roam.discourse.group/t/automated-workflow-for-pulling-pdfs-into-org-ref-org-roam-bibtex/611/2][Automated workflow for pulling PDFs into org-ref + org-roam-bibtex]]
********* OR is bibtext based, relegates [[Zotero]] to reference and pdf capture
*********** [[OR cite notes + org-roam-bibtex + org-noter: Zotero not main ref DB]]
*********** [[org-ref]] is used in org-roam somehow by other org-roam fans
*********** [[https://org-roam.discourse.group/t/does-anyone-have-a-workflow-for-associating-notes-with-a-zotero-stored-pdf/112/10?u=scotto][Advice]] on syncing Zotero and bibtex/pdfs (also other ideas thread)
********* [[Zotero + Bibtex]]
********* [[Zotero + org-ref]]
******* <<Zotero + org-ref>>
********* make [[org-ref]] not clobber zotero full pdf path
          From: [[https://github.com/jkitchin/org-ref/issues/815][jkitchin/org-ref#815 Pulling PDF absolute path from bibtex before attempting ...]]

          This guy uses zotero to capture pdfs, and wants to keep the full path into the messy zotero structure.  jkitchen adds a fix or option to (hopefully) prevent org-ref from clobbering that path.

          For me, I'd rather just have all pdfs in a single directory, but maybe there is something relevant here...
          
******* Zotero + Roam Research
********* [[PDF highlighter extension for Roam Research]] has zotero connection
******* TRY <<Direct DB sync between Emacs and Zotero (no bibtex file)>>

        This could help with [[Syncing Zotero across multiple machines]], or using Zotero directly. Do [[zutilo]] and [[zotxt-emacs]] somehow do this already?

        Otherwise..
********* [[https://github.com/whacked/zotero-query.el][whacked/zotero-query.el: query local zotero database from emacs]]
********* [[https://github.com/vspinu/zotelo][vspinu/zotelo: Manage zotero collections from emacsemacs.]]
********* also [[zotxt-emacs]]
********* also [[zutilo]]
********* alternative: [[Zotero as only a reference downloader, pdf grabber]]
******* <<Zotero as only a reference downloader, pdf grabber>>

        The steps would be:

          o In Zotero, download a blob of interesting papers
          o put them in an "export to .bib" category which is automatically exported
          o paste the autogenerated .bib to the end of energy.bib (a script would be useful, maybe one that does [[Direct DB sync between Emacs and Zotero (no bibtex file)]]. 
          o delete everything in that zotero category after copying .bib & pdfs
          o if I ever want to use Zotero to generate an MS Word bib, I can import the bibentries into Zotero from energy.bib.  These categories could hang around indefinitely but then it would be best to have THE IDEAL: [[Syncing Zotero across multiple machines]]

        In addition:

********* have solved: [[rename pdfs to bibtex key with zotfile]]
********* have solved:  [[Use zotfile to put pdfs in a single folder]]
********* have solved: [[Syncing Zotero across multiple machines]]
********* alterative: [[Direct DB sync between Emacs and Zotero (no bibtex file)]]
********* also [[Zotero + Bibtex]]

******* <<Syncing Zotero across multiple machines>>

        _THE IDEAL_

        The goal is to sync zotero DB so that, on any machine, I can use zotero to get a paper, and then, I can [[Use zotfile to put pdfs in a single folder]], and automatically export the zotero ref database to a single gitable .bib file ([[Automatic BBT bibtex file export]]), which is referenced by [[org-mode]] and/or [[org-roam]].

        _Yet I do want to use the separate database that zotero keeps_

        If the zotero DB itself isn't synced, then there's a risk that a different .bib file will be exported on different machines.  But [[Zotero Storage]] is limited, so you wouldn't want to do that unless the bulky pdfs are separately cloud-sync'ed to those machines.  That's doable if I [[Use zotfile to put pdfs in a single folder]].

        *Also,* keeping Zotero live would make it easy to sync references to a word document, since [[Word Bibliography]] w/ bibtex is messy.

        Note that you'd want to somehow avoid syncing pdfs to [[Zotero Storage]] because I want to annotate them separately e.g. in Drawboard, and because I want to link to them from the .bib file

        This is something like [[http://disq.us/p/1ec7xqs][Muad Abd El Hay]] did: Zotero --> [[org-ref]], but kept Zotero around.
          
********* [[https://www.zotero.org/support/sync][sync {Zotero Documentation}]]
********* <<Zotero Storage>>
          From: [[https://www.zotero.org/storage][Zotero Storage]]

          Can sync up to 300MB free to online [[https://www.zotero.org/storage][Zotero Storage ]](ref/energy.bib is currently 4.4MB; ref/papers/* is 5.7GB).

          I'd pay $60/yr as of 5/30/20, and very soon, it would have been $120/yr for unlimited.
          

********* TODO if [[Use zotfile to put pdfs in a single folder]], does that also get synced to Zotero Storage?  Ideally, it wouldn't. 
********* <<Sync with OneDrive and WebDAV>>

*********** [[Use zotfile to put pdfs in a single folder]]

            *But* one guy somewhere said that it was dangerous to store the zotero database on cloud storage other than Zotero storage.  

            *Yet* it seems that Zotero has the option of syncing with WebDav.  And, there is a way to sync to OneDrive using WebDAV: [[https://winscp.net/eng/docs/guide_microsoft_onedrive][Connecting Securely to Microsoft OneDrive with WebDAV]].

            *So*, could put Zotero DB in my Windows account, above OneDrive and then Sync to there on any machine.  Or something like that.

            *HOWEVER, THERE IS STILL AN [[https://forums.zotero.org/discussion/72411/how-to-sync-zotero-files-with-onedrive-via-webdav][MS BUG with WebDAV, as of 4/10/20]].*

******* [[Use zotfile to put pdfs in a single folder]]
******* <<Relations and Visualization in Zotero>>
********* [[https://www.zotero.org/support/related][collections, tags and relations]]
********* <<zotnet>>: can draw graphs of relations
          From: [[https://www.exitsantacruz.com/zotnet/zotnet.php][ZotNet]]

          Exports to an external drawing rendering program, not internal to Zotero.  Links are manually created by you somehow.  I tried the quick "visualize your bib" link in the documentation but it didn't work on the 1st try.  Since this all looks cumbersome, I left it there.
          
*********** also [[Visualizing Bibliographies]]
********* <<Zotero Voyant Export>>: visualized collections, but is _unmaintained_
          From: [[https://github.com/corajr/zotero-voyant-export][corajr/zotero-voyant-export: Export a Zotero collecti]]ons
********* also [[PDF highlighter extension for Roam Research]] (has link to zotero)
******* complicated Zotero/BibTex/Emacs workflow 
        From: [[https://www.researchgate.net/post/What_reference_manager_is_used_for_Emacs_users][What reference manager is used for Emacs users?]]
********* See Bingwei Tian's answer (a graph in .jpg)
********* Has Zotero, Mendely, Bibtex, Emacs, Latex, R...
******* Mobile apps for viewing Zotero

        Not sure I care about this, but...

********* [[https://play.google.com/store/apps/details?id=com.mickstarify.zooforzotero][Zoo for Zotero]] android app.  syncs w/ Official Zotero, eventually OneDrive, etc.

          I installed it on my phone, and at least at first glance, it stores only the references, and not the pdfs

********* People also use [[zotfile]] for syncing w/ Android and iPad tablets

******* Turn off automatic snapshots
        By default Zotero stores a screenshot of the page you got the reference from.  This clutters things up.  How to turn it off is explained [[https://www.researchgate.net/publication/325828616_Tutorial_The_Best_Reference_Manager_Setup_Zotero_ZotFile_Cloud_Storage/comments][here]].
******* Paper-getting sources for zotero
        From:  [[https://www.researchgate.net/publication/325828616_Tutorial_The_Best_Reference_Manager_Setup_Zotero_ZotFile_Cloud_Storage/comments][here]]

        There's a json file of places to look up papers, and, I guess pdfs.  But by default, there are only two.  You can change that by adding sources to the json file at:

        C:\Users\scott\Zotero\locate\engines.json

        Here is a [[https://mega.nz/file/fzRjgQxY#zKqKoDw2P6iia1VSV02cw-YNoylajYRAIkcZrE65EqM][more comprehensive search enginesjson file]], although it looks like the syntax may be out of date, comparing it to the default engines.json I find on my PC on 5/31/20

******* Fixing Zotero database problems
********* Purging zotero database

*********** <<Delete local copy of Zotero DB>>

            Select --> all
            Go to reference pane and Middle --> "move items to trash
            Go to collections, etc. pane and Middle --> "move items to trash"
            Got to Trash (left pane) and "empty trash" or something like that

*********** Delete online copy of Zotero DB
            From: [[https://forums.zotero.org/discussion/47051/cannot-purge-server-items/][Cannot purge server items - Zotero Forums]]

            First, you must [[Delete local copy of Zotero DB]].

            Then, in desktop zotero:

            Edit -> Preferences -> Sync -> Reset -> Replace online library
********* [[https://github.com/retorquere/zotero-storage-scanner][zotero-storage-scanner: A Zotero plugin to remove the broken...]]

******* [[https://zbib.org/][ZoteroBib]]: a zotero-connected webpage for getting reference metadata

        Kind of like a temporary online zotero which doesn't require zotero.  Gets the reference metada e.g. bibtex entry for a given URL, title, ISBN, etc.  Can dump a collection of them to a file for arbitrary reference managers, or directly to zotero.

        Looks pretty good.

******* <<PDF annotation in zotero>>
********* [[https://www.zotero.org/support/pdf_reader_preview][pdf reader preview {Zotero Documentation}]]
********* also [[PDF highlighter extension for Roam Research]] (has link to zotero)
********* also [[Document Annotation]]
******* <<Replacing Evernote with Zotero>>
********* [[Ton Zijlstra replaced Evernote and much else with Obsidian and Zotero]]
********* <<Highlighting stored Zotero web page snapshots>>
*********** [[https://addons.mozilla.org/en-US/firefox/addon/highlighter-notes/?utm_source=addons.mozilla.org&utm_medium=referral&utm_content=search][Firefox Highlighter + Notes]]: saves to / reads from html, can re-edit, slightly clunky

            Zotero will save the highlights made with this extension, and if you read the saved html, the annotations will reappear.  You can modify them, add new highlights, and save again.

            The only catch is that, when saving new edits, you must copy the saved html path, and then run "Save As," and deal with the annoying "overwrite" popup warning.

            Nice that there are multiple colors, erase, total clear, and typewritten notes (not sure how they're supposed to work, though).

*********** highlighting extensions _almost_ worked
************* Firefox Textmarker for snapshot marking

              Can open the stored snapshot by clicking inside of Zotero.  This loads the page into firefox.  From there it's easy to highlight, and this works when offline.

              *However*, the markups appear to be stored in a json file, somwhere in the guts of Firefox, I guess see textmarker "history", not in the html itself. Textmarker can sync this to someplace on the web, but I can't find a way to merge it with the html.  This means that you're locked into textmarker/Firefox, which I definitely don't want.

************* [[https://chrome.google.com/webstore/detail/beanote-note-taking-on-we/nikccehomlnjkmgmhnieecolhgdafajb/related][Chrome Beanote]]: onetime note markup which Zotero stores

              If mark first, then Beanote markup is stored by Zotero.  But if you open the stored html file again (in Chrome), you can't add new Beanote markups, or edit old ones.

************* [[https://chrome.google.com/webstore/detail/singlefile/mpiodijhokgodhhofbcjdecpffjipkle?hl=en][Single File]] (Chrome & Firefox) 
*************** saves 1st (to Downloads, regardless of "annotate first" option); 
*************** annotates later, 
*************** so Zotero can't get in the middle.  
*************** Also can't annotate if reread the saved file.
*************** [[Zotero]] now [[https://forums.zotero.org/discussion/85306/available-for-beta-testing-improved-webpage-snapshots][uses to Single File logic to save web pages]]
*************** My [[https://github.com/gildas-lormeau/SingleFile/issues/562][Single File Feature Request]]
************* Firefox [[https://addons.mozilla.org/en-US/firefox/addon/page-hacker/?utm_source=addons.mozilla.org&utm_medium=referral&utm_content=search][Page Hacker]]: saved and restored in Zotero, just like I'd want but only bolds, underlines... no highlights
************* [[https://chrome.google.com/webstore/detail/save-page-we/dhhpefjklgkmgeafimnjhojgjamoafof?hl=en-US][Save Page WE]] (Both Firefox & Chrome): 

*************** Saves single local html file but doesn't annotate.  

*************** Must tick a couple of options to get the Save As dialog (instead of default Download).

***************** These are "use new save method" and "always show browser 'save as' dialog"  

***************** May also want to tick "Saved Items --> HTML image files (all)" in order to get expanded views of images.  Maybe the "object and embed files too," in order to get interactive stuff like WAPO sometimes saves.  

*************** Also has keyboard shortcuts.
*************** The catch is knowing where Zotero has actually saved the file.  The Zotero 
*************** Dangerous b/c FF "Hilighter + Notes" always saves highlights as metadata somewhere, makes it look like you have saved the raw html that Zotero looks at, even if you have actually saved in some random location.
************* Chrome [[https://hypothes.is/users/scotto][hypothes.is annotator]] marks up and Zotero saves but can't re-edit saved html file Zotero makes in hypothes.is. /Can/ re-edit in hypothes.is web page, though. Also: [[Hypothesis]]
*********** I [[https://forums.zotero.org/discussion/comment/347897/][posted a question]] about annotation to Zotero dev adamsmith.
*********** Firefox [[https://addons.mozilla.org/en-US/firefox/addon/save-in/][Save In]] at least saves pages to subdirs of ~/Downloads
********* <<zotero-captured web pages accessed ith org-roam-bibtex>>
          From: [[https://org-roam.discourse.group/t/creating-html-document-notes-with-org-roam-bibtex/396/11][Creating html document notes with org-roam-bibtex
******* [[JethroK uses Zotero and org-cite links]]
******* also [[PDF highlighter extension for Roam Research]] (has link to zotero)
******* Misc. Zotero Plugins I've tried, may want to use
********* [[https://github.com/retorquere/zotero-auto-index][retorquere/zotero-auto-index]]
********* <<ZotNet>>: bib ref relations graph drawer by Christy M. Byrd
*********** [[https://www.exitsantacruz.com/zotnet/zotnet.php][ZotNet bib ref relations graph drawer by Christy M. Byrd]]
*********** requires you to [[https://www.zotero.org/support/related][manually create the reference relations]]

********* [[https://marketplace.visualstudio.com/items?itemName=mblode.zotero][Citation Picker for Zotero - Visual Studio Marketplace]]

******* Completed Zotero tasks

********* DONE figure out what to do about Notes/Comment

          I wrote a python script that put energy.bib notes into individual [[org-roam]] note files and, I think, pointed them to a new energy.bib file that contained only reference material.  In this way, I could keep only ref info in zotero, and automatically export new zotero info to that new bibtex file, which I could also check into git (once I've settled on it being the final reference repository.

          I also know how to [[Use zotfile to put pdfs in a single folder]], 
*********** In Zotero?
*********** In Bibtex (Emacs bib mode / JabRef)
************* try [[https://github.com/egh/zotxt-emacs][GitHub - egh/zotxt-emacs]]
*********** In Org-mode?
********* asdkfjladsfj test headline to verfy that checkbox font is too big
******* [[Research Rabbit]] as a connection to zotero
******* [[logseq in zotero]]
***** [[org-ref]]
***** [[BibTex and Emacs]]
***** [[logseq bibliography]]
*** Bibtex styles
***** visual guide: [[https://www.overleaf.com/learn/latex/Bibtex_bibliography_styles][Bibtex bibliography styles]]
*** lint-like latex/bibtex syntax checkers
***** [[http://linux.die.net/man/1/lacheck][lacheck]]
***** [[http://baruch.ev-en.org/proj/chktex/][ChkTex]]
***** [[http://www.ctan.org/tex-archive/support/check/][check]]
***** [[http://www.cs.umd.edu/~nspring/software/style-check-readme.html][style-check.rb]] (also English checker)
***** [[http://www.michaels-website.de/gedit-latex-plugin/][gedit-latex-plugin]] (not so useful)
***** [[http://ftp.math.utah.edu/pub//bibclean/][bibclean]]
*** converting [[http://www.see-out.com/sandramau/bibpat.html][patent info to bibtex entries]] (google scholar also works)
*** [[Latex on MacOS]]
*** <<Latex on Windows>>
    
    In 2021, I could not get MikTex to work on Windows with org-mode latex export.  But TexLive did work: not installed with choco, but by downloading and installing the Windows TexLive executable, following [[https://math.asu.edu/resources/computer-resources/texlive-windows][these instructions]].

    After that, I used the TexLive UI to install ALL packages, as default org mode latex exports require packages not installed by the TexLive default config.  I just did ALL to keep it simple.  The install took a long time, but I hope it will help to avoid future errors.

*** <<Latex and Emacs>>
***** emacs [[https://www.emacswiki.org/emacs/LaTeXPreviewPane][latex-preview-pane]] is handy for finding org-mode export problems
***** <<Org-mode latex editing>>
******* =cdlatex= bindings, starting with =C-c {=
******* <<org-fragtog>>: auto latex display/edit
        From: [[https://github.com/io12/org-fragtog/][org-fragtog: Automatically toggle org-mode latex fragment previ]]

        Inline latex autorender, shows bare latex when the cursor is over it
******* see also: [[org-ref]]
***** smooth SVG equation
      s in org mode
      From: [[https://www.guilhermesalome.com/posts/making-emacs-look-good.html][Making Emacs Look Good]]

      See the section: "Nice Looking LaTeX Equations in Org-Mode"
***** TODO Orgmode latex eporting

      Org-mode Latex export is HELL.  Lots of picky Latex crashes that are inconsistent with other exports, eg. the fact that you must escape any '#' in a URL for Latex, but if you do this, your html export URL will be wrong (you'll get a 404 error).

******* TODO So try [[*ox-pandoc, a way to avoid org-export hell?][ox-pandoc]]
******* TODO [[http://pragmaticemacs.com/emacs/speed-up-pdf-export-from-org-mode-with-latexmk/][Speed up pdf export from org-mode with latexmk | Pragmatic Emacs]]

        instead of exporting with latexmk -pdf all the time, do

        - run:  (run when doc.tex changes)
        - run: auto-updating pdf (or dvi -pdf switch above) viewer
          - [[http://typethinker.blogspot.de/2009/02/sumatra-pdf-viewer-for-latex-users-on.html][Sumatra PDF]] for Windows
          - [[http://superuser.com/questions/337011/windows-pdf-viewer-that-auto-refreshes-pdf-when-compiling-with-pdflatex][PDF Xchange viewer]] for Windows
          - [[https://wiki.gnome.org/Apps/Evince/Downloads][Evince for windows]]
          - Skim for Mac
          - dvips is supposed to work too, for dvi only
            - or run: dvips, which can do that to (org-preview-latex-window?)
        - C-c C-e l l (export to Latex, which is fast)
***** <<exporting org-mode, latex to html with bibliography references>>

      *Problem* org-export-dispatch calls an html exporter that doesn't process bibliography references very well e.g. the bibkey shows up in both the referencing setences as in the bibliography (it's not numbered, author names, etc.)

      *Solution* [[https://data-mining.philippe-fournier-viger.com/how-to-convert-latex-to-html/][run htlatex]] or equivalent (for TexLive on Windows 10 in 2021, you must run xhlatex

      1. Make the latex processor run by using org-export-dispatch to make a pdf
      2. open an eshell or other shell that has PATH set correctly (not the new windows terminal)
      3. run: xhlatex document_name.tex

      This uses all the garbage leftover after the pdf frun (x.dvi x.log,...) to make an x.html file

      Seems to work pretty well.

      *Note* It's also possible to open the pdf in word and have it export in html, but the results aren't as good as with xhlatex

      *Note* For exporting to confluence can also: org->pdf->word->confluence

******* TRY make org-export-dispatch run xhlatex, avoiding the extra steps

********* using latex options?

          At top of org doc, add latex option,

          #+options: tex:htlatex

          as think is done [[https://www.reddit.com/r/orgmode/comments/hclaxa/properly_exporting_latex_to_html_from_orgmode/fyo5bzn?utm_source=share&utm_medium=web2x&context=3][here]].
          
          Since, with TexLive on Windows, I don't have an htlatex.exe but instead xhlatex.exe, I think this also requires setting an [[https://orgmode.org/worg/org-contrib/babel/languages/ob-doc-LaTeX.html][org babel option]]:

          (setq org-babel-latex-htlatex "xhlatex")

          I [[https://www.reddit.com/r/emacs/comments/prffy6/how_to_use_htlatex_or_xhlatex_in_orgexportdispatch/][asked a question on reddit]] about this also a [[https://stackoverflow.com/q/69248568/2591097][question on stackoverflow]].
      
******* also [[org-mode to/from confluence]]
***** [[https://www.emacswiki.org/emacs/LaTeXPreviewPane][LaTeX Preview Pane]]
***** emacs viewing latex pdfs
******* must have [[http://stackoverflow.com/questions/28474736/how-to-open-pdf-file-in-emacs][dvipdf or dvipdfm]] & gs installed
********* dvipdfm came was in texlive bin directory
********* gs (pkg ghostscript) came from cygwin (cygwin/bin should be in path)
***** [[Mathpix Emacs Plugin: mathpix.el]]
***** org-fragtog: show raw latex when cursor on equ.; otherwise, equ. image
      From: [[https://github.com/io12/org-fragtog][GitHub - io12/org-fragtog: Automatically toggle Org mode LaTeX]]
            [[https://orgmode.org/manual/Previewing-LaTeX-fragments.html][Previewing LaTeX fragments (The Org Manual)]]

      This just works.  But it is kind of annoying that when you start a new org file w/ latex,  you must render every latex equ. by manually running the cursor over it.

      To get around this problem, you can put

       #+`STARTUP: latexpreview` # backticks intentionally stop running here

      at the top of the org file, which should cause all the equations to be rendered when you open it.  (disable it with #+STARTUP: nolatexpreview)
      
      It seems like I should also be able to use a command to do the preview, but the standard emacs commands don't work (my [[https://github.com/io12/org-fragtog/issues/24][GitHub bug report]]):

        M-x org-latex-preview

      or
      
        C-c C-x C-l

*** [[BibTex and Emacs]]
*** Latex Editors w/ WYSIWIG
***** [[https://gsuite.google.com/marketplace/app/docx2latex/415272416461][Doc2LaTex]] Google Docs add-on
******* email: [[https://mail.google.com/mail/u/0/#inbox/FMfcgzGlkZFzWRjphQtlDpCJTWjGvqrT][Call for templates!]] (I requested UWEE Tech Report template)
***** <<Lyx>>
******* Windows Lyx

********* use TexLive instead of MikTex: [[How to make the org-ref latex compile: install TexLive]]
********* <<Lyx tweaks for TexLive>>

        Lyx complained at first when I installed the version that came without MikTex and forced it to use a new TexLive install (this was on my work computer; not a problem at home, maybe because of the proxy stuff).  It said that document classes and modules were missing, and therefore, it couldn't make pdfs of the help files.  I did two things:

        1. Deleted my http_proxy env var again (it was still on IWES guest WiFi w/ no proxy)
        2. In Lyx, ran Tools-->Reconfigure

           And then pdf making (and everything else that I checked) worked.

********* Tiny icons and text (?) in lyx interface

          Solution: right click on a tiny icon and select a bigger icons size.

          This affects all icons but did not immediately seem to change menu text size in lyx interface (menus, etc.).  But /maybe/ these got bigger after I restarted lyx?
      
******* <<Mac Lyx>>

        I haven't gotten this to work yet on the MacBook Pro (2021).
    
        From [[https://formulae.brew.sh/cask/lyx][here]], I tried
      
          brew install --cask lyx    
      
        but when I tried to run it, I got the error message

          "“LyX” can’t be opened because Apple cannot check it for
          malicious software.

          This software needs to be updated. Contact the developer for more information."

        So, I installed a copy from here:

          [[https://www.lyx.org/Download][LyX | Download]]

        and I still have the same problem.

********* [[Latex on MacOS]] (must also install latex)
********* old
*********** Installed [[http://www.ctan.org/tex-archive/systems/mac/mactex/][MacTex and MacTexExtras]]
************* actually mactex installed on leopard was already newer than the MacTex pkg
************* didn't install extras
*********** install the [[http://www.lyx.org/Download][lyx macosx binary]]
************* error log:

              1. Removing obsolete files ....
              ... Done removing obsolete files.

              2. Testing to see if old LyX user's folder should be moved to new location ....
              ... Done moving LyX user's directory to new location.

              3. (No preferences file found at ~/Library/'Application Support'/LyX-1.5/.)

              4. Installing default LyX templates ....
              ... Done installing default LyX templates.

              5. Installing LyX's special LaTeX files ....
              ? Found TeX installation at .
              ? Local TeX directory set to ~/Library/texmf.
              ? Installed LyX's additional LaTeX .cls and .sty files.

              ERROR: Cannot run texhash command. Please run manually.

              ... Done.

************* and... texhash does not seem to be installed anywhere (can't find in finder)
*** [[Visualizing Bibliographies]]
*** How to get a DOI for a paper: [[http://www.crossref.org/SimpleTextQuery][Simple Text Query Version 1.4.6]]

    scotto@sharpleaf.org is registered with this site
*** [[Word Bibliography]]
*** [[org-ref]]
*** [[Jupyter notebooks as markdown, latex, etc....]]
*** Writing latex math equations
***** Mathpix: equations from screenshots
******* [[https://mathpix.com/][Mathpix site]]
******* [[https://mathpix.com/#pricing][Free: 50 snips/month or student; Pro: $5/mo]]
******* <<Mathpix Emacs Plugin: mathpix.el>>
********* [[https://github.com/jethrokuan/mathpix.el][jethrokuan/mathpix.el: Mathpix Emacs Plugin]]
*** [[PDF processing in Python]]
*** <<Python BibTeX parsers>>
***** _I'm using_: <<python-bibtexparser>>
      
      This worked with some fussing but it does allow you to avoid whitespace collapsing.

      *Fussing*
      o use encoding="utf8" (forces you to do things in more steps)
      o interpolate_strings=False (also forces you to do things in more steps)

******* [[https://github.com/sciunto-org/python-bibtexparser][python-bibtexparser: Bibtex parser for Python 3.3+]]
******* [[https://bibtexparser.readthedocs.io/en/master/tutorial.html#step-2-parse-it][Tutorial — BibtexParser 1.0.1 documentation]]
***** <<pybtex>>
      From: [[https://bitbucket.org/pybtex-devs/pybtex/src/master/][pybtex: A BibTeX-compatible bibliography processor in Python]]

      This worked with no fuss, but I couldn't find a way to preserve whitespace in comments and abstracts.
     
***** Text::BibTeX (I think)

[[https://metacpan.org/pod/bt_postprocess][bt_postprocess - post-processing of BibTeX strings, values, and entries - met...]]
              [[https://metacpan.org/pod/distribution/Text-BibTeX/btparse/doc/btparse.pod][btparse - C library for parsing and processing BibTeX data files - metacpan.org]]

        A C-language bibtex parser that [[https://metacpan.org/pod/distribution/Text-BibTeX/btparse/doc/btparse.pod][must be downloaded separately]] from [[Text::BibTex]].  Builds failed, and it looks like the author (Greg Ward) is [[https://www.gerg.ca/][not doing CPAN stuff anymore]].

        But I was able to install it [[https://launchpad.net/ubuntu/bionic/+package/libbtparse-dev][on Ubuntu]] with apt-get: apt-get libbtparse or something like that

        uses [[Text::Bibtex]] as the frontend.  Can see from [[https://metacpan.org/pod/bt_postprocess][here]] that it first creates an AST which has no collapsed spaces, and that there are functions to look stuff up in it (bt_traversal()).  Post processing functions do the white space deletion (or not, presumably).

        Is used by [[LaTeX::BibTeX]], which seems to have simpler way of specifying non-collapsing whitespace.

***** <<LaTeX::BibTeX>>
      From: [[https://metacpan.org/pod/LaTeX::BibTeX::Entry][LaTeX::BibTeX::Entry - read and parse BibTeX files - metacpan.org]]

      I'm not able to install this.  It "couldn't find an acceptable version of btparse nearby..." even though [[Text::Bibtex]] was able to, and runs.

      Will return raw .bib files w/o collapsing, I think if you set ~preserve_values~.  This, prevents [[btparse]] from running maximum post processing parsing, I think.

      First code in the [[https://metacpan.org/pod/LaTeX::BibTeX::Value][LaTeX::BibTeX::Value]] page shows how to set the ~preserve_values~ flag (very easy.)

      Does have some example programs.

***** bibtex2web
      From: [[https://rawgit.com/mernst/bibtex2web/master/bibtex2web.html][bibtex2web: create webpages from BibTeX bibliography files]]

      I think this somehow uses [[bp]] because some strings in the bp code are also in this code, according to google.

***** [[https://github.com/matthew-brett/babybib][babybib: Tiny bibtex parser]]
*** [[PDF processing in Python]]
*** [[BibTex in Joplin]]
* <<How to take Notes>>
*** [[https://www.amazon.com/How-Take-Smart-Notes-Nonfiction-ebook/dp/B06WVYW33Y][Ahrens 2017: How to Take Smart Notes]] (it's on my [[Kindle]])
*** [[https://notes.andymatuschak.org/About_these_notes][AndyM: about these notes]]: home page to thoughts about notes
***** [[https://notes.andymatuschak.org/z3SjnvsB5aR2ddsycyXofbYR7fCxo7RmKW2be][Evergreen note-writing as fundamental unit of knowledge work]]
*** [[https://notes.azlen.me/g3tibyfv/][AzlenE: about these notes]]
*** [[https://org-roam.discourse.group/t/organizing-different-types-of-notes-with-file-names/612][Organizing Different Types of Notes with File Names]]
*** [[Finding org-roam notes]]
*** also [[org-roam]]
*** also [[Org Mode]]
*** also [[Writing tools]]
*** also [[Knowledge as Graphs]]
*** [[also Document Annotation]]
*** also [[Evernote]]
*** also [[Kindle]] 
* <<Writing tools>>
*** [[http://www.hemingwayapp.com/][Hemingway Editor]]: simplifications, improvements.  Free online or paid app
*** <<Emacs writing tools>>
***** [[Org Mode]]
***** [[org-roam]]
***** [[http://bnbeckwith.com/code/writegood-mode.html][WriteGood Mode]]: Weasel words, passive voice dupes
***** also [[Emacs]]
* <<Personal Knowledge Query>>

  Querying my own data using modern AI e.g. OpenAI token vectorier

*** <<Python Personal Knowldge Query>>
***** <<Irtiza Hafiz's personal database query project>>
******* [[https://levelup.gitconnected.com/creating-your-own-ai-powered-second-brain-a-guide-with-python-and-chatgpt-f5547ef7e136][Creating Your Own AI-Powered Second Brain: A Guide with Python and ChatGPT]]
******* [[https://www.youtube.com/@irtizahafiz][Code with Irtiza - YouTube]]
******* uses [[llama_index]]
***** <<llama_index>>

      Library w/ examples showing how to vectorize documents with OpenAI token vectorizer
      
******* GitHub: [[https://github.com/jerryjliu/llama_index][GitHub - jerryjliu/llama_index: LlamaIndex (GPT Index) is a project that prov]]
******* used by [[Irtiza Hafiz's personal database query project]]

*** <<Emacs Personal Knowldge Query>>
***** [[ekg]]

*** also [[Knowledge as Graphs]]  
* <<Knowledge as Graphs>>
*** <<Knowledge Graphs in Emacs>>
***** [[org-roam]]
***** [[org-brain]]
***** <<ekg>>

      An emacs kind-of org-mode that uses sql as its database.  Has nascent OpenAI-based note similarity search, tags, but no inter-note links?  It looks pretty alpha in Feb. 2023.
      
******* [[https://github.com/ahyatt/ekg][ahyatt/ekg: The emacs knowledge graph, app for notes and structured]]
******* [[https://www.youtube.com/watch?v=qxa2VrseFUA][Introduction to ekg, the Emacs Knowledge Graph - YouTube]]
***** [[Neuron Zettelkasten]]
***** Sacha Chau's elisp for making a goal concept map (code at end of [[http://pages.sachachua.com/evil-plans/][this page]])
***** [[org-diagram drawing with plantuml-babel.org]]
***** [[http://orgmode.org/worg/org-contrib/org-wikinodes.html][org-wikinodes: CamelCase wiki-like links]] (kind of a graph)
***** [[https://github.com/alphapapa/org-graph-view][org-graph-view: View Org buffers as a clickable, graphical]]
***** [[Concept map-like stuff: superlabel, dedicated targets, org-brain]]
***** [[JabRef]]
***** Not quite baked: [[http://tex.stackexchange.com/questions/316986/creating-concept-map-akin-to-markdown/316993][Concept maps with LaTex]] (so can use emacs)
******* [[http://emacs.stackexchange.com/questions/24300/translate-pseudo-code-automatically-on-export-from-latex-to-pdf-in-org-mode][emacs orgmode concept map / Latex]] (also not baked)
***** [[org-roam topic & related note discovery]]
***** [[Emacs Mermaid]] (can do)
***** also [[Emacs Personal Knowldge Query]]
*** [[Relations and Visualization in Zotero]]
*** Tree / Mindmaps
***** MindMeister
******* mainly a mindmap tool
******* has crappy links kinda like concept maps
***** [[freemind and/or freeplane]]
***** <<DocEar>> 
******* [[http://www.docear.org/software/screenshots/][DocEar]] does bibtex based outlines as mindmaps
******* [[https://docear.uservoice.com/forums/124375-docear-s-feature-wishlist/suggestions/3571506-clones][cloned nodes aren't developed]] yet, so it's strictly a tree
***** OPML
******* _trees only_: a standard [[https://en.wikipedia.org/wiki/OPML][for hierarchical, ordered list]]s
******* format [[https://github.com/semk/Org2OPML][used by Mindnode and Freemind]]
******* Orgmode can export: [[man:Org2OPML]]
******* may be [[https://en.wikipedia.org/wiki/OPML#Criticism][obsolete]]
******* [[https://en.wikipedia.org/wiki/OPML#Alternative_specifications][alternatives]]:
********* OML
********* XOXO: Extensible Open XHTML Outlines
********* XBEL: XML Bookmark Exchange Language
***** [[https://betalist.com/startups/memofon][Memofon]] text based mindmaps
***** [[https://gingkoapp.com/][Gingko]]: fancy textual mindmap w/ sliding note cards.  Hosted. Proprietary.
***** <<Xmind>> mindmapper, can scrape by with concept maps
      From:  [[https://www.xmind.net/features/][Xmind]]
******* [[http://www.xmind.net/blog/en/2013/12/how-to-build-a-concept-map-using-xmind/][can do concept maps]] but with manual layout, as far as I can tell
******* Does gant charts and outlines
******* has free version
******* has [[https://www.mind-mapping.org/interoperability-of-mind-mapping-software/XMIND.php][decent file interchangeablity]]

***** <<Text2MindMap>>
      From: [[https://tobloef.com/text2mindmap/][Text2MindMap]]

      Interactive online tool.  Type in or load your indented outline and it will render a crude mindmap diagram in your browser.  The rendering looks similar to to the one used by the [[org-roam]] graph server.

      The /graph layout is miserable/ compared to, say [[Xmind]], but since the task and server seem to be similar, and if the code is available, then it might be useful for my [[org-roam]] goal: [[Split 1 org file to many org-roam notes]]

      Code probably has guts something like [[org-to-xml]] or [[ox-json]]

*** DAG / Concept maps
***** <<Roam Research>>
******* home: [[https://roamresearch.com/][Roam Research – A note taking tool for networked thought.]]
******* [[org-roam]]: emacs clone of Roam
******* Book: [[https://smile.amazon.com/How-Take-Smart-Notes-Nonfiction-ebook-dp-B06WVYW33Y/dp/B06WVYW33Y/ref=mt_kindle?_encoding=UTF8&me=&qid=][How to Take Smart Notes: One Simple Technique to Boost Writing]]
******* [[Readwise]] service [[https://www.bsoundarya.com/part-iii-building-a-second-brain%E2%80%8A-%E2%80%8Ausing-notion-and-roam-research/][can]] sync Roam to [[Kindle]]
******* <<PDF highlighter extension for Roam Research>>
        [[https://www.youtube.com/watch?v=-yVqQqUEHKI][Academic Workflow in Roam Research with PDF Highlighter Extension - Tutorial]]

Excellent pdf annotator and complete workflow -- it's fantastic.  My only big complaint is that it locks you into roam research's proprietary tool.  

********* really complete
********* copies highlights into an outline, but you can re-org, put them your own words, etc.
********* template to fill out for each paper (good ideas)
********* meaningful highlight colors (queriable, show up in outline, graph)
********* somehow links with [[Zotero]] too

********* also [[Relations and Visualization in Zotero]]
******* Excalidraw: drawing (mouse and pen) + graphs for Roam Research
        From: [[https://www.zsolt.blog/2021/03/showcasing-excalidraw.html][Showcasing Excalidraw]]
******* [[https://adamkrivka.com/roam-plugins/pyroam/][Pyroam - Python notebooks in Roam Research]]
******* also [[obsidian]]
***** <<Foam>> Personal knowledge manager
      See: [[https://foambubble.github.io/foam/][Foam | A personal knowledge management and sharing system for VSCode]]

      Also built on [[[[vscode]]]] is [[dendron]]

******* [[https://www.zylstra.org/blog/][Said]] to be a potential open source alternative to [[Obsidian]] (a clone?)
***** [[https://nesslabs.com/roam-research-alternatives][Roam Research free, open source, and self-hosted alternatives]]
***** [[org-roam]]
***** <<logseq>>
      From: [[https://logseq.com/][logseq]]

      Is [[https://github.com/logseq/logseq/issues/672][said]] to be compatible with [[org-roam]].  Is also a way to get [[https://coredumped.dev/2021/05/26/taking-org-roam-everywhere-with-logseq/][org-roam on mobile devices]] (or just when offline?).
      
******* [[https://github.com/logseq/logseq][GitHub - logseq/logseq: A privacy-first, open-source...]]
******* [[https://www.youtube.com/watch?v=PvFr36bcpYc][Taking notes on YouTube videos in LogSeq]]
******* android and (probably) IOS apps for logseq
********* [[https://logseqweekly.com/12-dec-2021-logseq-mobile-android-app-and-sync-with-google-drive/][Logseq Mobile App (Android) and Sync with Google Drive. Logseq IOS...]]
********* Desktop (Win/MacOS) & Android (apk) downloads: [[https://github.com/logseq/logseq/releases/][Releases logseq/logseq]]
********* IOS seema a WIP (1/22): [[https://logseqweekly.com/1-jan-22-logseq-0-5-6-logseq-android-and-ios-mobile-apps-workflows-and-plugins/][1-Jan-22: Logseq 0.5.6]]
******* drawing in logseq
********* [[https://www.loom.com/share/cdc10a6d54644d7c9bb88cdcb3a0168b?t=0][Logseq draw with Excalidraw]]

        Based on Semi-OK block diagrams that can stay connected and some handwriting possibility.  Nothing like OneNote but is more than nothing.

        Seems like you'd be tied to [[https://excalidraw.com/][excalidraw.com]]?  Would [[mermaid in logseq]] be better then (except for the handwriting).
        
********* <<mermaid in logseq>>
        From: [[https://github.com/hkgnp/logseq-mermaid-plugin][GitHub - hkgnp/logseq-mermaid-plugin]]

        Looks pretty good.  But I didn't get it to work immediately
********* many kinds of text-->diagram: [[https://github.com/npgrosser/logseq-diagrams-as-code][logseq-diagrams-as-code]]
******* git in logseq

I think systemcrafters guy said pages could be check into git at short time intervals.  Also, I see that there's a "check page history" function under the "..." menu

******* logseq webclipping
********* supoosedly can use Chrome [[https://chrome.google.com/webstore/detail/roam-highlighter/hponfflfgcjikmehlcdcnpapicnljkkc?hl=en][Roam Highlighter]] but just copies highlight text, doesn't save page
******* Youtube video annotation
********* Nice: [[https://www.youtube.com/watch?v=C88wssS5QCI&t=218s][Logseq Helium Plugin for Easy Note taking on Youtube videos]]
********* Builtin with Hacks: [[https://www.youtube.com/watch?v=PvFr36bcpYc&t=397s][Taking notes on YouTube videos in LogSeq]]
******* <<emacs keybindings in logseq>>
********* They seem to be default in MacOS but not in Windows
********* [[https://discuss.logseq.com/t/emacs-org-inspired-keyboard-shortcuts-few-issues/4511][Emacs/Org-inspired keyboard shortcuts + few issues]]
********* some emacs keys are somehow already there: [[https://github.com/logseq/logseq/blob/master/src/main/frontend/modules/shortcut/config.cljs][logseq/config.cljs at master]]
******* [[https://www.youtube.com/watch?v=aYSbvGgLo9s][How to Write Using Logseq (Long Form Writing Setup) - YouTube]]
********* remove brackets from links: cmd+c cmd+c (but need his html & a theme?)
********* document mode (hides bullets) toggle: <esc> t d
********* something about transclusion alias that I didn't quite understand
********* link aliases (maybe from some other video, maybe the "best 8 note taking apps"?
********* shift + enter to go to the next line w/o making a new bullet
******* links
********* hiding brackets is [[https://discuss.logseq.com/t/cant-hide-brackets/2835][in settings, can toggle w/ ctrl-c, ctrl-b]]
********* link alias: [[https://preslav.me/2022/04/10/create-link-aliases-in-logseq/][web-like links]]: [displayed]([ [ realLinkID ] ])
******* <<logseq bibliography>>
********* <<logseq in zotero>>
          From: [[https://www.youtube.com/watch?v=DOKlTIJcqBQ][Integrating Logseq and Zotero: A great combination for academic writing]] (video)

          The logseq zotero interface is about halfways there.
          
          Can link to zotero entries.  Click on them and Zotero opens up, and from there, you can see the Zotero entry and even the pdf (embedded in Zotero).  But later, if you want to publish, you must manually search for the Zotero key and replace it with the proper citation style.  At the end of your doc, you could paste in a Zotero-generated bibliography (he shows this at the beginning).

          Weaknesses
          - involves private/public key setup w/ Zotero website.  Would this work offline?
          - [[https://discuss.logseq.com/t/link-to-external-pdfs-in-local-zotero-folder-and-better-bibtex-support/6038][Not sure]] if my big, local pdf dir would work
          - But [[https://discuss.logseq.com/t/any-way-to-manage-bibliographic-references-via-bib-files/6079][does a zotero plugin keep it local or is it a "house of cards"]]
          - not really tied to bibtex; is Zotero
          
********* [[logseq]]
********* [[Bibtex Managers]]
******* selected plugins for logseq
        plugins not listed elsewhere
********* [[https://github.com/hyrijk/logseq-plugin-block-to-page][block to page plugin]] converts a logseq bullet into a separate page. Nice
********* [[https://github.com/pengx17/logseq-plugin-bullet-threading][logseq-plugin-bullet-threading: interesting but too noisy?]]
********* move block/reference/... to many things: nice: [[https://github.com/vipzhicheng/logseq-plugin-move-block][ogseq-plugin-move-block: A Logseq plugin help you copy]]
********* merge pages: [[https://github.com/hkgnp/logseq-mergepages-plugin][GitHub - hkgnp/logseq-mergepages-plugin]]
********* pdf export: [[https://github.com/sawhney17/logseq-pdf-export][GitHub - sawhney17/logseq-pdf-export]]
********* an excel-like embedable spreadsheet: [[https://github.com/sethyuan/logseq-plugin-luckysheet][GitHub - sethyuan/logseq-plugin-luckysheet: Embed Luckysheet (spreadsheet)]]
********* ordered list (not sure how to use): [[https://github.com/sethyuan/logseq-plugin-ol][GitHub - sethyuan/logseq-plugin-ol: Ordered lists, flat or nested, multiple f...]]
********* [[https://mobile.twitter.com/hkgnp/status/1499720222320001028][logseq parse csv plugin]] : couldn't get it to work
********* like [[org-cliplink]]: [[https://codetea.com/this-logseq-plugin-will-extract-the-title-of-a-web-page-and-wrap-the-url-in-markdown-syntax/][This logseq plugin will extract the title of a web page and wrap the URL in m...]]
********* [[https://github.com/pengx17/logseq-plugin-tabs][logseq-plugin-tabs: A Logseq plugin which lets you open page...]]
******* TRY ipad and logseq *(doesn't work)
********* when add new graph, OneDrive shows up but is grayed out
********* if link to "logseq" in "on my iPad" get a blank DB
******* *Blems?*
********* DB seems to be absolute path, won't work on OneDrive share
********* DB not autogenerated if make new file?
********* [[emacs keybindings in logseq]]
********* no way to resize images
********* see May 14 comments on move block
********* "..." menu: has variable contents, is confusing, hard to find stuff on it.
********* if change linked-to bullets, the 
******* moving back and forth across notes doesn't restore cursor position, like Firefox does
******* switching tabs back and forth across notes doesn't restore cursor position, like Firefox does
******* [[org-roam and logseq]]
******* multiple logseq graphs
********* it's implemented: [[https://github.com/logseq/logseq/pull/4881][open action for logseq protocol #4881]]
********* Guy's thoughts: [[https://logseqweekly.com/02-oct-21-logseq-0-4-2-release-plugins-one-vs-multiple-graphs-acronyms/][Plugins, One vs Multiple Graphs, Acronyms]]
******* logseq metadata is in notes, I think, DB built from them, like [[org-roam]]
******* <<modification to logseq config for OR dailies compatibility>>
********* [[https://org-roam.discourse.group/t/logseq-floss-web-outliner-compatible-with-org-roam-now/980?u=scotto][comment on Logseq: FLOSS web outliner, compatible with Org Roam now]]
******* a near clone: [[athens]]
***** <<athens>>
******* [[https://github.com/athensresearch/athens][GitHub - athensresearch/athens: Free self-hosted desktop app]]
******* a nicer looking a near clone of [[logseq]] (as of v2.0 beta 37 (5/31/22))
******* local desktop version is free
******* they mention teams a lot: maybe the (paid) online version is what they're selling
******* [[https://github.com/logseq/logseq/issues/4138#issuecomment-1036326117][has its own database format]]
******* [[https://github.com/logseq/logseq/issues/4138#issuecomment-1030830798][said]] to be less extensible than [[logseq]]
***** <<obsidian>>
      From: [[https://obsidian.md/][Obsidian]]

      Very similar to Roam Research.  

******* [[Foam]]: a clone of Obsidan?
******* People who have switched to Obsidian
********* <<BSAG moved from org-roam to Obsidian>>

          Gal who shared her [[org-roam]] setup with me has [[https://www.rousette.org.uk/archives/obsidian/][moved]] from org-roam to Obsidian b/c of Dropbox sync probs.  But I wonder if the sync problems might have been fixed either by moving the DB out of Dropbox (or OneDrive) as I did.

          On the other hand, she says that getting rid of org-roam and org-ref has made her emacs much faster, and that she can store her ideas with "less friction" than with org-roam.

********* <<Ton Zijlstra replaced Evernote and much else with Obsidian and Zotero>>

            His descriptions of how he made the gradual migration to a Zettlekasten style -- "Evergreen Notes", or "Notions," as he calls them -- is interesting and also quite quantitative.  

*********** From a long series of his posts
************* [[https://www.zylstra.org/blog/2020/10/100-days-in-obsidian-pt-1/][100 Days in Obsidian, Pt. 1 – Interdependent Thoughts]]
************* [[https://www.zylstra.org/blog/2020/10/100-days-in-obsidian-pt-2-hierarchy-and-logs/][100 Days in Obsidian Pt 2: Hierarchy and Logs – Interdependent Thoughts]]
************* [[https://www.zylstra.org/blog/2020/10/100-days-in-obsidian-pt3-tracking-tasks/][100 Days in Obsidian Pt3: Tracking Tasks – Interdependent Thoughts]]
************* [[https://www.zylstra.org/blog/2020/11/100-days-in-obsidian-pt-4-writing-notes/][100 Days in Obsidian Pt 4: Writing Notes – Interdependent Thoughts]]
************* [[https://www.zylstra.org/blog/2020/11/100-days-in-obsidian-pt-5-flow-and-workspaces/][100 Days in Obsidian Pt 5: Flow and Workspaces – Interdependent Thoughts]]
************* [[https://www.zylstra.org/blog/2020/11/100-days-in-obsidian-pt-6-final-observations/][100 Days in Obsidian Pt 6: Final Observations – Interdependent Thoughts]]
************* [[https://www.zylstra.org/blog/2016/11/how-to-leave-evernote/][How to Leave Evernote? – Interdependent Thoughts]]
*********** [[Evernote]] replaced by [[Zotero]] web capture
************* [[https://www.zylstra.org/blog/2020/10/100-days-in-obsidian-pt-1/][100 Days in Obsidian, Pt. 1 – Interdependent Thoughts]]
************* [[https://www.zylstra.org/blog/2016/11/how-to-leave-evernote/][How to Leave Evernote? – Interdependent Thoughts]]
************* also [[Alternatives to Evernote for web page capture/annotation]]

******* [[Obsidian Mermaid]]
******* <<obsidian and emacs>>
********* notetaking tips from a guy who switched back to emacs from obsidian
          From: [[https://notes.huy.rocks/emacs-for-note-taking]]
          
********* <<obsidian-org-mode>>
          From: [[https://github.com/ryanpcmcquen/obsidian-org-mode][obsidian-org-mode: Add Org Mode support to Obsidian.]]

          Seems to be using org-mode syntax inside of an obsidian node.

          I'm not sure if this makes headlines in the org-mode section into obsidian nodes, or of you can add nodes inside of obsidian org-mode section.

***** <<dendron>>
      From: [[https://www.dendron.so/][Dendron]]

      A free "hierarchy first" note system that has backlinks and other arbitrary links between notes.  Graphs and backlinks like [[Roam Research]], hierarchy like [[Org Mode]].  Text based ([[Markdown]]), open source, non necessarily web-served, like [[org-roam]] and [[obsidian]].  Built on [[vscode]] like [[Foam]].

      Is "1% finished" on Nov 29, 2020.  Has several intro videos on [[https://www.dendron.so/][main page]].

      Has the two window markdown and rendered markdown windows, like [[obsidian]] does at the moment (although obsidian plans to change this). 

      Similar to the obsidian, and roam reasearch but not as polished as of yet.

      Has some org-mode-esque structure editing

      Image embedding is easy.

      clicking on graph nodes bring you to note.

******* [[https://www.youtube.com/watch?v=dW6m4_O0qvQ][YouTube: Note taking inside of VS Code]] (dendron)
      
***** <<Trilium>>
      From: [[https://github.com/zadam/trilium/][trilium: Build your personal knowledge base with Trilium Notes]]
      
      Free software comparable perhps to [[Joplin]] but w/ more graph features.  Has Evernote import, FF and Chrome web clipper, markup based w/ rich editor, synchronization (a bit do-it-yourself, not convenient like [[Joplin]] OneDrive etc. syncing).

      Windows/Linux and (unsupported) MacOS

***** [[ZotNet]]
***** [[https://github.com/athensresearch/athens][athens: Free self-hosted desktop app]]
***** VUE
******* complete but ugly
******* paths are kind of interesting for display and presentation
******* latest version: Oct 2015
******* [[https://www.youtube.com/watch?v=Lt9ht4pYP5c][Easy Mindmap Tutorial - VUE for beginners - YouTube]]
***** Keypoints (Mac)
      From: [[https://talk.macpowerusers.com/t/keypoints-a-plain-text-focussed-note-taking-pdf-annotation-app-for-the-mac/17320][Keypoints, a plain-text focussed note-taking & PDF annotation app for the Mac...]]

      Sort of like org-roam, but not multiplatform, as far as I can tell.  Is concept-map like, as it has named links.  Was apha and not yet distributed as of 7/21.

***** <<yEd>>
******* can do tree or arbitrary graph
******* is [[https://www.yworks.com/products/yed][based]] on XML-based [[http://graphml.graphdrawing.org/primer/graphml-primer.html][GraphML]]
********* enhancement involves graph display: [[http://docs.yworks.com/yfiles/doc/developers-guide/graphml.html][GraphML in yEd]]
********* [[https://thirld.com/blog/2012/01/31/making-yed-import-labels-from-graphml-files/][importing a GraphML file into yEd]]
********* [[https://github.com/spotify/python-graphwalker][python-graphwalker]] can read/write (I think) yEd files, and others
*********** [[http://stackoverflow.com/questions/27487872/processing-yed-graphml-file-in-python][stackoverflow example]]
*********** [[http://yed.yworks.com/support/qa/9596/building-file-with-python-getting-text-on-the-boxes][yEd Q&A]] on phython and yFiles
********* they also sell a Java yFile reader/writer
********* [[http://fileextension.info/programs/microsoft-excel][Excel can read GraphML]]
********* [[https://gephi.org/features/][Gehpi]] can [[http://fileextension.info/programs/microsoft-excel][read GraphML]] (a nice high dim. visualization tool)
********* [[comato]] R library read yEd
********* [[http://www.adobe.com/products/indesign.html][InDesign]]: can it read yEd files?
*********** [[http://ask.metafilter.com/275223/Free-flexible-easy-to-use-concept-mapping-software][commentor says]] he does yEd prototypes, reconstructs them in InDesign
*********** InDesign [[https://helpx.adobe.com/indesign/kb/supported-file-formats-indesign-cs5.html#main_Place][says]] it can read "XML"
******* very good autolayout
******* runs on anything
******* many import/export file types: Excel, CSV, etc.
******* does Venn diagrams too (in help example graphs)
******* good at grouping/collapsing sets of nodes,a like [[IHMC Cmaps]]
******* regularly updated, as of May 2017
******* can group/collapse nodes like [[IHMC Cmaps]]
******* latest version: late 2016
******* [[http://yed.yworks.com/support/qa/306/how-i-can-configure-proxy-for-yed][configuring yEd for proxy]] (needed for some things)
***** <<comato>>: R library for Concept maps:
      From: [[https://cran.r-project.org/web/packages/comato/index.html][comato]]
******* several file formats, including [[yEd]] (see manual)
******* plotting function does a few layout styles
******* a bunch of graph [[https://rdrr.io/cran/comato/][analysis functions]], some of which I think are in [[yEd]]
***** <<IHMC Cmaps>>
      From: [[http://cmap.ihmc.us/][IHMC Cmaps]]
******* prettiest
******* good collapsibility of subtopics
******* somewhat mouse based
******* very good autolayout
******* can only store in a fixed cmap directory
***** [[http://equationmap.com/][EquationMap]]
******* quite nice equation display
******* does arbitrary concept maps
******* manual layout
******* online only (but free)
******* import/export tex
******* example: [[http://equationmap.com/#PG8rr3rKF3][derivation of quadratic formula]]
***** Freemind and/or freeplane
******* mainly mindmap tree but clone trees make them effectively DAGS
******* [[https://www.freeplane.org/wiki/index.php/Freeplane_features_you_were_missing_in_FreeMind][freemind vs. freeplane]]: freeplane seems a bit better
********* [[https://www.freeplane.org/wiki/index.php/LaTeX_in_Freeplane][freeplane does latex]]
********* better searc: [[https://www.freeplane.org/wiki/index.php/Approximate_search][approximiate search]]
********* but orgmode?  see below
******* freemind/plane and orgmode
********* is a builtin export type, this one, I think: [[https://github.com/tkf/org-mode/blob/master/lisp/org-freemind.el][org-freemind]]
********* in 2014, ormode export was [[https://sourceforge.net/p/freeplane/discussion/758437/thread/1ffb4287/][said]] to be incompatible with freeplane
          but maybe it was fixed?
********* [[https://github.com/Fuco1/org-mode/blob/master/contrib/lisp/ox-freemind.el][ox-freemind]] emacs orgmode exporter
********* has orgmode export (how handle non-tree structure)?
********* does this do mm files or OPML?  ([[OMPL is only trees]])
********* video: [[https://www.youtube.com/watch?v=93cqGFu3B-g][Mindmapping straight to org-mode]]
***** [[https://www.google.com/search?{google:acceptedSuggestion}oq=projectional+(e.g.+MPS)&sourceid=chrome&ie=UTF-8&q=projectional+(e.g.+MPS)][Leo]]: a semigraphical, text based DAG editor
******* looks like an outliner
******* does [[http://leoeditor.com/outlines.html][DAG using cloned trees]], like freemind/freeplane
******* original idea was for programming but writers use it, I guess
******* [[HTTP://leoeditor.com/appendices.html][XML]] file format
******* [[http://leoeditor.com/tutorial-scripting.html?highlight=import][nodes can run Python]]
******* video: [[http://dsmforum.org/events/CG2012/index.html][Your language built while you wait]]
        *********
***** [[http://www.thebrain.com/][TheBrain]]: v. nice DAG, cmrcl., any node can be viewed as the rootnode
******* really nice, looks like I want but...
******* license is [[http://www.thebrain.com/store/][$219]]
******* upgrades cost more
******* can't find anything about the file format
***** [[MindMeister]]
***** [[Xmind]] (barely)
***** [[http://www.thinkcomposer.com/][ThinkComposer]]: general DAG drawer, multilevel
******* lots of formatting options
******* multilevel stuff looks nice
******* [[http://thinkcomposer.codeplex.com/releases/view/621241com/Home/Download.html][last update was May 2016]] (opensourced in 2015)
******* proprietary file format, can print to PDF
***** [[https://oneslate.com/][OneSlate]]: DAG w/ fancy features, like heatmapping, conitive bias remover
***** [[http://www.ideashuffler.com/][Idea Shuffler]]: multilevel CMap with 1 good style of autorouting: $29
***** [[https://www.mindomo.com/][Mindomo]]: DAG, commercial, online only
******* [[https://www.mindomo.com/pricing.htm][$35EUR/halfYear]]
******* lots of open file formats but I'm not sure if one is a DAG
***** <<Compendium>>
******* Compendium was cool in 2013; opensourced vers. seems dead
******* open source: [[https://github.com/CompendiumNG/CompendiumNG/graphs/contributors][CompendiumNG]]
******* [[org-roam, compendium-style interactive graph, org-journal but doom/mac]]
***** [[PlantUML]] can draw them from emacs
***** [[https://graphql.org/][GraphQL | A query language for your API]]
      One org-roam user [[https://org-roam.discourse.group/t/designing-a-query-language/1075/2?u=scotto][thinks]] this might be useful, hasn't tried anything
***** _Videos_ about concept maps
******* [[https://www.youtube.com/watch?v=DdHG66opp5Y][JosephineMcMurry: Concept Mapping for Learning, Reflection, and Evaluation]]
******* [[https://www.youtube.com/watch?v=S4SwSheh7TI&t=4012s][Concept mapping for time management and long term memory - YouTube]]
********* Main procedure for learning new material
          1. list
          2. group
          3. compare
********* Software
*********** his favorite IHMC Cmap Tools (2015)
*********** iThoughtsHD (iPad) looked good too
********* But he says 1st map s/b on paper or bulletin board: _Procedure_:
          1. list using stickies
          2. group by moving them around
          3. compare by draw lines
********* But he says some people are faster on computers
***** Emacs [[Concept map-like stuff: superlabel, dedicated targets, org-brain]]
***** [[Mermaid Diagrams]] (can do)
*** General Graph Drawing Programs
***** <<graphviz>>: high level connection file --> auto-laied out diagram
******* [[https://graphviz.org/][Graphviz - Graph Visualization Software]]
******* [[https://graphviz.org/gallery/][Gallery]]
******* Used optionally in [[org-roam]] graphs
******* [[graphviz in Emacs]]
******* [[Mermaid Diagrams]]: simpler
******* <<Graphviz in Python>>
********* [[https://github.com/KairosAerospace/flowgiston][KairosAerospace/flowgiston: Python library for dead-simple flowchart...]]
***** <<Mermaid Diagrams>>

      Simple markup for creating nicely rendered flow diagrams, etc.  Can try it out online:  [[https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiZ3JhcGggVERcbiAgQVtDaHJpc3RtYXNdIC0tPnxHZXQgbW9uZXl8IEIoR28gc2hvcHBpbmcpXG4gIEIgLS0-IEN7TGV0IG1lIHRoaW5rfVxuICBDIC0tPnxPbmV8IERbTGFwdG9wXVxuICBDIC0tPnxUd298IEVbaVBob25lXVxuICBDIC0tPnxUaHJlZXwgRltmYTpmYS1jYXIgQ2FyXVxuXHRcdCIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In19][Mermaid live editor]]

******* Language: [[https://medium.com/better-programming/mermaid-create-charts-and-diagrams-with-markdown-88a9e639ab14][Mermaid — Create Charts and Diagrams With Markdown-like Syntax.]]
******* Very nice web editor w/ exports: [[https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiZ3JhcGggVERcbiAgQVtDaHJpc3RtYXNdIC0tPnxHZXQgbW9uZXl8IEIoR28gc2hvcHBpbmcpXG4gIEIgLS0-IEN7TGV0IG1lIHRoaW5rfVxuICBDIC0tPnxPbmV8IERbTGFwdG9wXVxuICBDIC0tPnxUd298IEVbaVBob25lXVxuICBDIC0tPnxUaHJlZXwgRltmYTpmYS1jYXIgQ2FyXVxuXHRcdCIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In19][Mermaid live editor]]
******* <<Gantt charts in Mermaid>>
********* tutorial: [[https://subscription.packtpub.com/book/business-and-other/9781801078023/15/ch15lvl1sec80/creating-a-gantt-chart-with-mermaid][Creating a Gantt Chart with Mermaid]]
********* my feature request: [[https://github.com/mermaid-js/mermaid/issues/3290][#3290 Vertical dependency lines in Gantt chart]]
******* <<Emacs Mermaid>>

        Bummer that you must install extra command line program: [[https://github.com/mermaid-js/mermaid-cli][GitHub mermaid-js/mermaid-cli]], which is [[https://github.com/mermaidjs/mermaid.cli/issues/73][problematic for Windows]].

********* Emacs: [[https://github.com/abrochard/mermaid-mode][abrochard/mermaid-mode: Emacs major mode for working with mermaid graphs]]
********* org mode: [[https://github.com/arnm/ob-mermaid][arnm/ob-mermaid: Generate mermaid diagrams within Emacs org-mode babel]]
******* mermaid cli
********* <<MacOS mermaid-cli>>
          From: [[https://github.com/mermaid-js/mermaid-cli#install-with-brew][mermaid-js/mermaid-cli: Command line tool]]

          brew install mermaid-cli
          
******* [[Mermaid diagrams in Joplin]]
******* <<Mermaid in vscode>>
********* [[https://marketplace.visualstudio.com/items?itemName=vstirbu.vscode-mermaid-preview][Mermaid Preview - Visual Studio Marketplace]]

******* <<Obsidian Mermaid>>

        [[https://twitter.com/obsdmd/status/1281301410890551296?lang=en][Obsidian supports Mermaid Diagrams]]

******* [[https://www.evernote.com/shard/s13/nl/1523219/75f7dd8f-d0ad-499c-81cf-e2a68d4235cb][Using ChatGPT to build System Diagrams]]: mermaid and plantML
******* also [[graphviz]] (similar, but more complicated)
******* Windows mermaid-cli
        From: [[https://github.com/mermaidjs/mermaid.cli/issues/73#issuecomment-876701921][mermaidjs/mermaid.cli#73 Install on Windows]]

        npm install -g mermaid.cli
***** <<Gephi>>: more of a graph visualizer (lot's of them). Load somebody else's file
      From: [[https://gephi.org/][Gephi]]
******* See [[Bibliography visualizaton using Gephi]]

*** Model Driven Development (MDD)
***** [[http://dsmforum.org/events/MDD-TIF07/][MDD Forum]]
***** [[http://www.metacase.com/products.html][MetaEdit+]] Domain-specific modeling (DSM) environment
***** [[http://www.eclipse.org/Xtext/#intro-quotes][Xtext]]: programming design language with graphical editor hooks
******* some kind of logical argument mapper
******* graphs look like trees but are DAG underneath
*** [[https://ideashuffler.com/][Idea Shuffler - A Unique Visual Thinking Tool]]
    Graphical like concept maps but claimed to be better
    
    Main idea is that similar link names combined into a single line by autolayout program, which then goes to the individual concepts.  Makes the drawing easier to read, at least if you don't have too many different link names.

    Also has sub diagrams, sub-sub diagrams, etc.

*** UML
***** [[http://argouml.tigris.org/][ArgoUML]]
***** <<PlantUML>>
******* [[https://plantuml.com/][PlantUML: Open-source tool that uses simple textual descriptions to draw beautiful UML]]
******* Not just UML's.  
********* Can draw DAGs, mindmaps, timing diagrams and a ton of other things
********* [[https://plantuml.com/activity-diagram-beta][flowcharts]] a.k.a. activity diagrams
********* [[https://plantuml.com/dot][DAGs]], using graphviz dot-language ([[https://graphviz.org/gallery/][gallery]])
********* [[https://plantuml.com/mindmap-diagram][mindmaps]]
********* many others: [[https://plantuml.com/sitemap-language-specification][Language specification]]
******* <<Emacs PlantUML>>
        See: [[https://plantuml.com/emacs][Integration with Emacs]]
********* integrates w/ several emacs packages, including org-mode
*********** [[https://github.com/skuro/plantuml-mode][GitHub - skuro/plantuml-mode: A major mode for editing PlantUML sources in Emacs]]
*********** [[https://plantuml.com/emacs][org-mode integration]] also note that [[https://orgmode.org/Changes.html#orgdd3d5c7][can now directly use plantUML exe, don't need JAR]]
*********** Can draw diagrams from Emacs using [[orgbabelhelper]] ([[org-diagram drawing with plantuml-babel.org]])
********* PlantUML mindmap syntax [[https://plantuml.com/mindmap-diagram][is just like org-mode sytnax]]
********* [[Confluence supports PlantUML]]
******* [[PlantUML diagrams in Joplin]]
******* [[https://www.evernote.com/shard/s13/nl/1523219/75f7dd8f-d0ad-499c-81cf-e2a68d4235cb][Using ChatGPT to build System Diagrams]]: mermaid and plantML
******* <<vscode PlantUML>>

        [[https://marketplace.visualstudio.com/items?itemName=jebbs.plantuml][PlantUML - Visual Studio Marketplace]]

******* <<Confluence supports PlantUML>>
        From: [[https://eising.it/posts/org-pandoc-confluence/][How to avoid confluence as much as possible    ]]

        This makes [[Emacs PlantUML]] sensible.
        
*** <<Visualizing Bibliographies>>
***** [[http://www.qiqqa.com/][qiqqa]]: biblio tool, does visualizations, imports bibtex, pdfs

      A powerful general reference framework, like a super-jabref.  Did interesting topic clustering (some good, some not meaningful) but I didn't like the way it ate my pdfs and insisted on editing them within the tool (no Drawboard ink, etc.).

***** <<Bibliography visualizaton using Gephi>>
      From: [[Gephi]]
     
******* <<Gephi & Sci2 co-author graph>>
        From: [[https://abhishekkathuria.wordpress.com/2014/07/01/visualizing-your-co-author-network/][Gephi & Sci2 Co-author graph]]

        _This wasn't useful._  Took forever and the network wasn't topic-based but co-author based.  And then, you couldn't see authors or paper titles on the graph when you clicked on them.

        1. Start [[https://sci2.cns.iu.edu/user/index.php][Sci2]] and [[Gephi]]
        2. Load the references into Sci2 using the File->Load option.   /This required a lot of cleanup in my energy.bib/
        3. Select the file, click on Data Preparation-> Extract Co-author Network. Select the correct format.
        4. Select the +Author Information+ +file+ /extracted co-author-network icon/ on right and select Visualization->Networks->Gephi
        5. Gephi should open up. Create a new undirected graph. You can use the Gephi WYSIWYG editor to edit the graph, add labels, change colors, increase the size of the nodes and edges based on number of authored and co-authored papers respectively.


******* /Likely obsolete/: [[http://tex.stackexchange.com/questions/43066/tool-to-visualize-connections-between-bibtex-entries][Gephi & NWB]]
        Best answer: <<Gephi & NWP bibliography visualization>>

        _ACTUALLY_, NWB is unmaintained and stuff doesn't work.  But somehow, it seems like it's necessary to download the edu.iu.nwb.converter.prefusebibtex plugin from [[http://nwb.cns.iu.edu/svn/nwb/trunk/plugins/converter/][here]] and drop it in some plugin directory in the unzipped NWP folder tree.  NWB may have been superceeded by Sci2 ([[Gephi & Sci2 co-author graph]])

        This is possible with the following two tools:

        Network Workbench (NWB) - http://nwb.cns.iu.edu/
        [[Gephi]] - https://gephi.org/

        First, import your .bib file into NWB, then extract the authors, pubs, or whatever through the Scientometrics menu. Finally, right-click on the graph this creates and export it as GraphML.

        Now open Gephi and import the GraphML file you just created. With Gephi, you can visualize the interrelationships between authors and citations.

***** [[http://alejandroerickson.com/j/2014/03/31/020-graph-your-bibtex-bibliography.html][Graph Your Bibtex Bibliography]] (authors-->papers only)
***** [[http://www.rubydoc.info/gems/bibtex-ruby/4.0.1/BibTeX/Bibliography/RDFConverter][Class: BibTeX::Bibliography::RDFConverter — Documentation for bibtex-ruby]]
***** [[DocEar]], kind-of...
***** [[org-roam]]
***** [[Roam Research]]
***** [[zotnet]] (Zotero visualiztion)
***** [[org-roam topic & related note discovery]]
***** [[org-roam-bibtex]]
*** <<The Brain>>
    Like that CMU Concept map think
***** [[https://thebrain.com/][TheBrain: The Ultimate Digital Memory]]    
***** emacs-clone: [[org-brain]]     
***** examples of use: [[https://thebrain.com/big-thinkers][TheBrain Big Thinkers]]
*** [[Relations and Visualization in Zotero]]
*** <<Online knowledge as graphs search engines>>
    
    Web pages or APIs that can search for references, make graphs of related work.

***** Seems to be the best: [[https://www.connectedpapers.com/][Connected Papers | Find and explore academic papers]]
***** [[https://openknowledgemaps.org/][Open Knowledge Maps - A visual interface to the world's scientific knowledge]]
***** [[Research Rabbit]]: integrated mindmaps / ref search etc. Seems slick.
*** also [[Personal Knowledge Query]]
* Literature Search Tools
*** <<Google Scholar>>
***** [[https://scholar.google.com/][Google Scholar]]
*** [[Python BibTeX parsers]]
*** <<Research Rabbit>>
    From: [[https://researchrabbitapp.com/home][Research Rabbit]]

    A rolling kanban-like paper lookup workflow thing cites/cited-by, similar work (topic clustering, I think), suggested authors, citation DAGs everwhere,...

    Finds research teams.  Interesting...
    
***** [[https://www.youtube.com/watch?v=wHBql2JncyU&list=PLsGUqkzkaMO-pHGEISiwNCa-ZbD2ZptH6&index=4][How I use Research Rabbit for academic research - YouTube]]
***** [[logseq]] is working on connection (from [[https://www.youtube.com/watch?v=PN6tjeQfxRc][a youtube video]])
***** has a [[Zotero]] connection 
*** <<Connected Papers>>
    From: [[https://www.connectedpapers.com/][Connected Papers | Find and explore academic papers]]    
*** [[Zotero]]
* Project Planning Tools
*** Gantt charts
***** [[https://www.projectlibre.com/product/1-alternative-microsoft-project-open-source][#1 Free Alternative to Microsoft Project Open Source | Projectlibre]]
***** [[Xmind]] does Gantt charts
***** [[Gantt charts in Mermaid]]
* <<Document Annotation>>
*** [[https://beepb00p.xyz/annotating.html][How to annotate literally everything]]
*** [[https://readwise.io/][Readwise]]: [[Kindle]], Instapaper, Pocket, iBooks, and more
*** <<Hypothesis>> web page annotation
    From: [[https://web.hypothes.is/][Hypothesis]] 
***** [[https://www.reddit.com/r/RoamResearch/comments/emgob2/how_do_you_personally_integrate/][said]] to be a good way to get web pages into roam-research
***** could also be an [[Evernote]] alternative for web page capture
***** [[Highlighting stored Zotero web page snapshots]]
*** [[Alternatives to Evernote for web page capture/annotation]]
*** [[PDF highlighter extension for Roam Research]]
*** [[pdf-tools]]
*** [[org-noter]]
*** [[PDF annotation in zotero]]
* TRY <<Programming Practices>>
*** Agile development
***** Florian's Agile video links
******* Agile Product Ownership in a Nutshell

        https://www.youtube.com/watch?v=502ILHjX9EE

******* Story Points – Learn agile estimation in about 10 Minutes 

        https://www.youtube.com/watch?v=Hwu438QSb_g

******* Introduction to Scrum in 7 Minutes

        https://www.youtube.com/watch?v=9TycLR0TqFA

******* Kanban

        https://www.youtube.com/watch?v=R8dYLbJiTUE

******* Scrum Vs. Kanban – What´s the difference

        https://www.youtube.com/watch?v=rIaz-l1Kf8w

******* Adapt your Mindset - “Lost Generation”

        https://www.youtube.com/watch?v=42E2fAWM6rA
***** [[https://www.youtube.com/watch?v=jkfh2PM5Sz8&feature=youtu.be][DS/ML not Agile?]], say final slides from dvc.org, need something different
******* more detail [[https://www.youtube.com/watch?time_continue=201&v=BneW7jgB298][here]]
* XML
*** Translation tools
* DTU
*** reference search
***** [[http://apps.isiknowledge.com.globalproxy.cvt.dk/UA_GeneralSearch_input.do%3Fproduct%3DUA&search_mode%3DGeneralSearch&SID%3DT1hLFn563AIANF86i74&preferencesSaved%3D][ISI Web of Knowledge]] (doesn't get IEEE pdf's?)
***** [[http://refguide.dtv.dk.globalproxy.cvt.dk/search.tkl][DTU reference guide]] (search for journals here, I think)
***** [[http://ieeexplore.ieee.org.globalproxy.cvt.dk/Xplore/dynhome.jsp][IEreEEXplore]] (DTU portal, must log in to portal first)
***** Digital Article Database Service - DADS
***** DTU reference guide also links to JSTOR and INSPEC
*** calling
***** local: 0 (the number)
***** long distance: 0 00 (the number w/ country code)
*** home page
    /www/home/scot/public_html

*** IT ticket
    https://itsupport.imm.dtu.dk/

*** printing

    normal:

    lpr -P cm305226a

    double sided

    lp -d cm305226a -o sides=two-sided-long-edge

    /also see thinlinc/

*** [[http://www.cendio.com/products/thinlinc/][thinlinc]]
***** client [[http://www.cendio.com/resources/docs/tag/client.html][documentation]]
***** [[https://itswiki.imm.dtu.dk/How_do_I.../Remote_Access/Thinlinc][DTU install]], w/ printing instructions
***** I've remapped the session popup button to F10
******* Sun
        Do it when you start the client or log into it, from the 1st menu
******* Windows
        have to do once you've already started a thinlinc session and have
        hit the previous popup button, so that you can see the options menu
        that lets you change it.  Default is F8, which is "compile" in
        emacs for me.

*** [[https://itswiki.imm.dtu.dk/IT_Systems/IMM_provided/Cluster_Facilities][linux grid cluster
    ]]<<DTU linux cluster>>
***** handy SGE commands
      qstat -u '*' -ext
***** *gridterm:* from sunray to get a terminal on an unbusy linux box
***** */space*: where I'll have to put temp files if I port RunRouter
***** [[https://itswiki.imm.dtu.dk/How_do_I.../Use_the_Cluster_Facilities][matlab mini howto]]
***** also see: [[R cluster computing]]
* <<Evernote>>
*** Syncing Evernote with external sources
***** [[Readwise]]
***** <<Instapaper>>

      I'm not sure why you'd want to use this.  Seems like Evernote does everything it can and more.  Costs [[https://www.instapaper.com/premium][$30/yr]]

******* syncs w/ Evenote using API ([[https://blog.instapaper.com/post/122859293691][Updated Evernote Integration]])
******* can also [[https://ifttt.com/connect/instapaper/evernote][sync Evernote and Instaper using IFTTT]]
*** [[https://github.com/exomut/evernote-dump][exomut/evernote-dump: Convert Evernote .enex files to markdown and files]]
*** [[Evernote and Emacs]]
*** Legacy Evernote Install

    [[https://help.evernote.com/hc/en-us/articles/360052560314?fbclid=IwAR2TNqp-eGRH3Ds8Vfu-CiKPjYolJzZ_keR9eWQaDahJ2GN-7hwn595zI8w&__s=bsetfdgzirbvqtopurph][Install an older version of Evernote – Evernote Help & Learning]]

*** <<Alternatives to Evernote for web page capture/annotation>>
***** big list: [[https://www.reddit.com/r/Evernote/comments/j87fb9/please_help_me_find_the_evernote_alternative/][Please help me find the Evernote alternative : Evernote]]
***** [[Hypothesis]]
***** [[https://getpocket.com/][Pocket]]
***** [[https://www.instapaper.com/][Instapaper]]
***** [[Replacing Evernote with Zotero]]
***** <<Joplin>>
      From: [[https://joplinapp.org/][Joplin - an open source note taking and to-do application with synchronisatio...]]

      Emacs is probably a better notetaker, but Joplin does have a webclipper w/ Firefox and Chrome extensions.  These kind of work:

      o can store full web page (this can get messed up as w/ EN these days)
      o syncs w/ OneDrive or other stuff
      o has tags
      o can import Evernote notes as markdown or html.  Works, even removing extra html cruft.  Cross-note links still go to Evernote, though.
      o plain text markdown web pages in: C:\Users\scott\OneDrive\Apps\Joplin
      o [[https://discourse.joplinapp.org/t/can-you-annotate-clipped-web-pages/2745/10][WYSIWYG highlighting not forthcoming]], can do manually in markdown
      o There is an [[https://www.patreon.com/posts/34246624][experimental WYSIWYG editor]], but it doesn't highlight
      o can also edit in external editor [[vscode]] seems to be default.  Emacs w/ dabbrevs could do the [[https://stackoverflow.com/questions/25104738/text-highlight-in-markdown][highlighting w/ html <mark> tags]], or if edit markdown notes, use built-in \==text==\ markdown notation (yellow only unless you add css or something)

******* links/backlinks kinda but not quite there yet
********* links to other notes [[https://joplinapp.org/markdown/#links-to-other-notes][possible but clunky]] (12/01/20)
********* this was [[https://discourse.joplinapp.org/t/syntax-to-link-notes/5264/43][a work in progress]] on 12/01/20

******* video: [[https://www.youtube.com/watch?v=0I_OPQQiYVU][Joplin Is An Open Source Alternative To Evernote - YouTube]]
******* video: [[https://www.youtube.com/watch?v=oWvJOnFIigM&feature=emb_logo][Joplin Desktop: Take Notes With A Rich Markdown Editor - YouTube]]
******* has dual markdown/rendered screens
******* has desktop/mobile/terminal app.  Android app works.
******* <<PlantUML diagrams in Joplin>>
********* [[https://github.com/uphy/joplin-plantuml-plugin][GitHub - uphy/joplin-plantuml-plugin]]
********* [[PlantUML]]
******* <<Mermaid diagrams in Joplin>>
********* [[https://joplinapp.org/markdown/#diagrams][Markdown Guide | Joplin]]
********* [[Mermaid Diagrams]]
******* <<BibTex in Joplin>>
        [[https://github.com/joplin/plugin-bibtex][joplin/plugin-bibtex: Use locally stored BibTeX files to integrate c...]]
******* video reviewer guy says you won't use this if you use [[Emacs]] and [[org-mode]]
***** [[Trilium]]
***** [[Web Page Annotation in Zotero]]
***** [[Replacing Evernote with Zotero]]
* <<Kindle>>
*** Exporting Kindle files to pdf
    See partial overview [[http://www.digitaltrends.com/mobile/how-to-convert-kindle-to-pdf/#!LpAlh][here]].

    There are several options but I explored EPUB and Calibre.  

    *Calibre*
    It's possible that Calibre could produce prettier pdf's than EPUB but I couldn't figure out how to control the font size in the "Heuristic" mode, which would seem to be the setting that would produce the best results.  It also did wierd stuff, like occasional half-blank pages.

    *EPUB*
    On Koenkers05 quantile regression book, it did well so that's what I'm going with.  Unfortunately, last year (2016) I'd converted the copy I'm not annotating either with an old copy of EPUB or with bad settings.  Anyway, EPUB is pretty good now.

    *EPUB instructions*

    o *Get a DRM-friendly Kindle Reader*: It's an old desktop Kindle Reader
    [[https://www.anicesoft.com/parse-kindle-books/][Instructions]] -- be sure to follow them carefully.

    o *Download books to be converted*.  They'll be (*.amz) files in
    
    c:/Users/scotto/Documents/My Kindle Content

    (see Kindle Reader tools->options->content in case this changes)

    Filenames are serial #'s.  I ID'ed the one I wanted by the date.

    o *Remove DRM*: download and run [[https://www.epubconverter.com/DownloadSoftware/download.aspx?type=ebook-removal-win][EpubSoft Ultimate DRM Remover]]
***** *Epub --> PDF*: download & run [[https://www.anicesoft.com/?s=EPUBCONV1][AniceSoft – EPUB Converter & EBook Converter]]
*** <<Copying out of Kindle book>>

    Best seems to be copying from Kindle Cloud Reader, viewed in Chrome.

***** Copying from Kindle Cloud Reader (Browser)
      
      The chrome extension works.  I couldn't get things to work in Firefox.

******* Chrome
********* [[https://chrome.google.com/webstore/detail/kindle-optimizer/bjfeinekchekdofcdmnfcnbidjkpbgdh?hl=en][Kindle Optimizer add  on]]: puts text/images in a popup.  Copy from there
********* <<Copy from Kindle Bookmarklet>>
          From: [[https://github.com/ccimpoi/ACRExtensions][GitHub - ccimpoi/ACRExtensions: Amazon Cloud Reader extensions]]

          I can't get it to work, though...  Not updated since 2014.

          [[https://gist.github.com/Neurogami/cc4a2224632f491c18cfce782cd706f6/revisions][This]] is newer but I also can't get it to work either.

******* Firefox
********* [[Copy from Kindle Bookmarklet]]
***** Copying from Kindle Reader (Desktop version)
      You can do it, but it always puts pastes a citation too.  I can't figure out how to get rid of that.
***** <<Readwise>> can sync Kindle and many other things to [[Evernote]] and [[Roam Research]] but costs [[https://readwise.io/pricing][$8/mo]].
      Can sync: Amazon Kindle, Apple iBooks, Instapaper, Highly, Medium articles, audiobooks, "and more"
******* [[https://readwise.io/][Readwise]] can sync Kindle 
******* [[https://blog.readwise.io/use-readwise-to-automatically-export-highlights-to-evernote/][How to Automatically Export Your Kindle Highlights to Evernote]]
*** Syncing Kindle Annotations
***** [[https://readwise.io/][Readwise]]: Kindle, Instapaper, Pocket, iBooks, and more
* Bibliography
bibliographystyle:unsrt
bibliography:energy.bib
